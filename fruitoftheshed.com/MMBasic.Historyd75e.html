

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from fruitoftheshed.com/MMBasic.History.aspx?Page=MMBasic.MMBasic-code-pack-to-Read-and-Write-Winbond-Flash-Memories&Revision=00000 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 13:13:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=8" /><title>
	Page History - Fruit Of The Shed
</title><script type="text/javascript" src="JS/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="JS/Scripts.js"></script>
<script type="text/javascript" src="JS/SearchHighlight.js"></script>
<link rel="stylesheet" media="print" href="Themes/Default/Print_Styles.css" type="text/css" />
<link rel="stylesheet" media="screen" href="Themes/Default/Screen_Styles%20-%20Copy.css" type="text/css" />
<link rel="stylesheet" media="screen" href="Themes/Default/Screen_Styles.css" type="text/css" />
<link rel="stylesheet" href="Themes/Editor.css" type="text/css" />
<link rel="search" href="searchf7b1.xml?OpenSearch=1" type="application/opensearchdescription+xml" title="Fruit Of The Shed - Search" /><script src="Themes/Default/Scripts.js" type="text/javascript"></script>
<link rel="shortcut icon" href="Themes/Default/Icon.ico" type="image/x-icon" />
</head>
<body>
    <form name="aspnetForm" method="post" action="http://fruitoftheshed.com/History.aspx?NS=MMBasic&amp;Page=MMBasic.MMBasic-code-pack-to-Read-and-Write-Winbond-Flash-Memories&amp;Revision=00000" id="aspnetForm">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTEzMjI3OTE2NTkPZBYCZg9kFgICAQ9kFgICCQ9kFggCAQ8WAh4EVGV4dAVIUGFnZSBIaXN0b3J5OiBNTUJhc2ljIGNvZGUtcGFjayB0byBSZWFkIGFuZCBXcml0ZSBXaW5ib25kIEZsYXNoIE1lbW9yaWVzZAIFDxBkEBUPAjE0AjEzAjEyAjExAjEwATkBOAE3ATYBNQE0ATMBMgExATAVDwIxNAIxMwIxMgIxMQIxMAE5ATgBNwE2ATUBNAEzATIBMQEwFCsDD2dnZ2dnZ2dnZ2dnZ2dnZ2RkAgcPEGQQFRAHQ3VycmVudAIxNAIxMwIxMgIxMQIxMAE5ATgBNwE2ATUBNAEzATIBMQEwFRAHQ3VycmVudAIxNAIxMwIxMgIxMQIxMAE5ATgBNwE2ATUBNAEzATIBMQEwFCsDEGdnZ2dnZ2dnZ2dnZ2dnZ2dkZAILDxYCHwAF6iA8dGFibGUgY2xhc3M9ImJveCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIj48dHI+PHRkPjxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48Yj4mbGFxdW87IE9sZGVyIFJldmlzaW9uIC0gPGEgaHJlZj0iTU1CYXNpYy5IaXN0b3J5LmFzcHg/UGFnZT1NTUJhc2ljLk1NQmFzaWMtY29kZS1wYWNrLXRvLVJlYWQtYW5kLVdyaXRlLVdpbmJvbmQtRmxhc2gtTWVtb3JpZXMiPkJhY2sgdG8gUGFnZSBIaXN0b3J5PC9hPiAtIDxhIGhyZWY9Ik1NQmFzaWMuSGlzdG9yeS5hc3B4P1BhZ2U9TU1CYXNpYy5NTUJhc2ljLWNvZGUtcGFjay10by1SZWFkLWFuZC1Xcml0ZS1XaW5ib25kLUZsYXNoLU1lbW9yaWVzJmFtcDtSZXZpc2lvbj0wMDAwMSI+TmV3ZXIgUmV2aXNpb24gJnJhcXVvOzwvYT48L2I+PC9wPjwvdGQ+PC90cj48L3RhYmxlPjxiciAvPjxoMyBjbGFzcz0ic2VwYXJhdG9yIj5QYWdlIFJldmlzaW9uOiAyMDE5LzExLzI0IDE0OjA5PC9oMz48YnIgLz5XaW5ib25kIGZsYXNoIG1lbW9yaWVzIHByb3ZpZGUgYW4gZXhjZWxsZW50IG1ldGhvZCBvZiBzdG9yaW5nIHVwIHRvIDE2TUIgb2YgZGF0YSBpbiBhIHRpbnkgU1BJIGRyaXZlbiBjaGlwLiBBdCBhcm91bmQgJDAuNTAgZWFjaCAodmFyaWVzKSB0aGVzZSBvZmZlciBhbiBhbWF6aW5nIHN0b3JhZ2UvcHJpY2UgZGVuc2l0eSBhbmQgYXJlIHVzZWQgaW4gbWFueSBkZXZpY2VzIHRvIHN0b3JlIGNvbmZpZ3VyYXRpb24gYW5kIGZpcm13YXJlLiBUaHJvd2luZyBvdXQgYW4gb2xkIERTTCByb3V0ZXI/IENoZWNrIHRoZSBib2FyZCAtIHRoZXJlIGlzIGxpa2VseSBhIEZsYXNoIG1lbW9yeSB0aGF0IGNhbiBiZSByZWNvdmVyZWQgYW5kIHJlLXVzZWQuPGJyIC8+PGJyIC8+U1BJIGlzIHZlcnkgbXVjaCBmYXN0ZXIgYW5kIGVhc2llciB0byBkcml2ZSB0aGFuIEk8c3VwPjI8L3N1cD5DLiBUaGUgcm91dGluZXMgaGVyZSB3b3JrIGZsYXdsZXNzbHkgYXQgMjBNSHogYW5kIHdlcmUgaW5zcGlyZWQgYnkgd29yayBNYXRoZXJQIHB1Ymxpc2hlZCBvbiB0aGUgQmFja1NoZWQgaGVyZSA8YSBjbGFzcz0iZXh0ZXJuYWxsaW5rIiBocmVmPSJodHRwczovL3d3dy50aGViYWNrc2hlZC5jb20vZm9ydW0vVmlld1RvcGljLnBocD9USUQ9ODQ5MiIgdGl0bGU9Imh0dHBzOi8vd3d3LnRoZWJhY2tzaGVkLmNvbS9mb3J1bS9WaWV3VG9waWMucGhwP1RJRD04NDkyIiB0YXJnZXQ9Il9ibGFuayI+aHR0cHM6Ly93d3cudGhlYmFja3NoZWQuY29tL2ZvcnVtL1ZpZXdUb3BpYy5waHA/VElEPTg0OTI8L2E+PGJyIC8+PGJyIC8+VGhhdCB3b3JrIHVzZWQgQ1N1YnMgdG8gYWNjZXNzIHRoZSBGbGFzaCBhbmQgd2hlcmVhcyB0aGV5IGFyZSB2ZXJ5IHF1aWNrLCB0aGV5IGV4Y2x1ZGUgdXNlcnMgb2YgdGhlIGJpZ2dlciAnTWl0ZSBwbGF0Zm9ybXMgLSB0aGUgTU1YIGFuZCBTVCdzIEFybSBiYXNlIHByb2Nlc3NvcnMgLSB0aGUgSDcvRjQgcGxhdGZvcm1zLiBUaGUgcm91dGluZXMgYmVsb3cgYXJlIGEgcHVyZWx5IE1NQmFzaWMgc29sdXRpb24gYW5kIHNvIGNhbiBiZSB1c2VkIG9uIGFueSBNTUJhc2ljIHBsYXRmb3JtIHN1cHBvcnRpbmcgdGhlIFNQSSBidXMuPGJyIC8+PGJyIC8+PGI+Rmxhc2ggTWVtb3J5IE9yZ2FuaXNhdGlvbjwvYj48YnIgLz5UaGUgRmxhc2ggdGVjaG5vbG9neSBwcm92aWRlcyBjb250aW51b3VzIHJlYWRpbmcgc3RhcnRpbmcgZnJvbSBhIHNpbmdsZSAyNCBiaXQgYWRkcmVzcy4gT25jZSBsYXRjaGVkLCB0aGUgYWRkcmVzcyBpbmNyZW1lbnRzIHdpdGggZWFjaCByZWFkIGFuZCBzbyB0aGUgZW50aXJlIG1lbW9yeSBjb3VsZCBiZSByYXBpZGx5IHJlYWQgb3V0IHdpdGggb25seSBhIHNpbmdsZSBhZGRyZXNzIHNldHVwIC0gYXQgMjBNSHogdGhpcyBjb3VsZCBiZSBsaXR0bGUgbW9yZSB0aGFuIDQwMG5TIHBlciA8dT5ieXRlPC91PiEgV3JpdGluZyB0aGUgZGV2aWNlcyBpcyBtb3JlIGludm9sdmVkLiBUaGUgbWVtb3J5IGlzIGFycmFuZ2VkIGludG8gUGFnZXMgb2YgMjU2IGJ5dGVzIGFuZCB0aGUgYWRkcmVzcyBsYXRjaGVkLCBhbHRob3VnaCAyNCBiaXRzLCBvbmx5IHdvcmtzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgcGFnZS4gVGhlIHJvdXRpbmVzIHRha2UgY2FyZSBvZiB0aGlzIGFuZCByZWFkaW5nL3dyaXRpbmcgaXMgdHJhbnNwYXJlbnQgdG8gdGhlIHVzZXIuPGJyIC8+PGJyIC8+VGhlIG1ldGhvZCB1c2VkIHRvIHN0b3JlIHN0cmluZ3MgaW4gdGhlIEZsYXNoIG1lbW9yeSBpcyBzaG93biBiZWxvdy4gRWFjaCBjZWxsIHJlcHJlc2VudCBhIGJ5dGUgaW4gRmxhc2ggLSBoZXJlIHRoZSBzdHJpbmcgIklJSUlJIjxiciAvPjxhIGNsYXNzPSJ1bmtub3dubGluayIgaHJlZj0iTU1CYXNpYy4uYXNoeCIgdGl0bGU9Ik1NQmFzaWMuIj48L2E+PGltZyBzcmM9IkdldEZpbGUuYXNweD9GaWxlPS9mbGFzaF9zdHJpbmdzdG9yZS5wbmciIGFsdD0iSW1hZ2UiIC8+PGJyIC8+SXQgY2FuIGJlIHNlZW4gZnJvbSB0aGlzIHRoYXQgc3RyaW5ncyBhcmUgbGltaXRlZCB0byB0aGUgY2hhcmFjdGVycyAxIHRvIDI1NSAtIGkuZS4geW91ciBzdHJpbmcgY2Fubm90IGNvbnRhaW4gQ0hSJCgwKSBvciBDSFIkKDI1NSkgYW5kIHRoYXQgaXMgdGhlIG9ubHkgbGltaXRhdGlvbi48YnIgLz4wIGlzIHVzZWQgYXMgdGhlIHN0cmluZyBkZWxpbWl0ZXIgaW4gbWVtb3J5IGFuZCAyNTUgaXMgdGhlIGJsYW5rIG1lbW9yeSBieXRlLjxiciAvPjxiciAvPjxiPkNvbnZlbnRpb25zIHdpdGggdGhpcyBDb2RlUGFjazwvYj48YnIgLz5UaGUgaW5pdGlhbGl6YXRpb24gcm91dGluZSBwZXJmb3JtcyBzZXZlcmFsIHVzZWZ1bCBhbmQgdml0YWwgZnVuY3Rpb25zOjxiciAvPjx1bD48YnIgLz48bGk+IEl0IGlkZW50aWZpZXMgdGhlIHR5cGUgb2YgRmxhc2ggYXR0YWNoZWQgKGlmIGFueSkgYW5kIHNldHMgdGhlIG1heGltdW0gYWRkcmVzcyB2YXJpYWJsZSBXQi5Ub3AgdG8gdGhlIGxhc3QgYXZhaWxhYmxlIG1lbW9yeSBsb2NhdGlvbi48L2xpPjxiciAvPjxsaT4gSXQgcmFwaWRseSBkZXRlcm1pbmVzIHRoZSBmaXJzdCB1bnVzZWQgYnl0ZSBpbiB0aGUgbWVtb3J5IChtb3JlIG9uIHRoaXMgbGF0ZXIpIGFuZCBzZXRzIHRoZSBXQi5XUnB0ciB2YXJpYWJsZSBzbyBhcyBub3QgdG8gdHJhbXBsZSBvbiBwcmV2aW91c2x5IHN0b3JlZCBkYXRhPC9saT48YnIgLz48L3VsPjxiciAvPjxiciAvPjxiciAvPlRoZSBHbG9iYWwgdmFyaWFibGVzIGNvbmNlcm5lZCwgdGhlbiwgYXJlOjxiciAvPlRoZSBKRURFQyBpZGVudGlmaWVyIG9mIHRoZSBGbGFzaCBpbmNsdWRpbmcgdGhlIG1hbnVmYWN0dXJlciBhbmQgdGhlbiB0aGUgMiBieXRlIGRldmljZSBJRDxiciAvPkludGVnZXIgPGI+V0IuSUQ8L2I+PGJyIC8+PGJyIC8+QSBodW1hbiBmcmllbmRseSB2ZXJzaW9uIG9mIHRoZSBJRCBlLmcuIFcyNVEzMiBldGMuPGJyIC8+U3RyaW5nIDxiPldCJDwvYj48YnIgLz48YnIgLz5UaGUgdG9wLW1vc3QgYXZhaWxhYmxlIG1lbW9yeSBsb2NhdGlvbjxiciAvPkludGVnZXIgPGI+V0IuVG9wPC9iPjxiciAvPjxiciAvPlR3byBhZGRyZXNzIHBvaW50ZXJzLCBvbmUgZm9yIHJlYWQgYW5kIGFub3RoZXIgZm9yIHdyaXRlIC0gdGhpcyBnaXZlcyBhbiBlYXN5IGFjY2VzcyBtZXRob2QgYW5kIHRoZXkgZG9uJ3QgY2xhc2guIEFzIGVhY2ggY2hhcmFjdGVyIG9mIGEgc3RyaW5nIGlzIHJlYWQgYmFjayBmcm9tIG1lbW9yeSwgaXQgaXMgaW5jcmVtZW50ZWQgdW50aWwgYSAwIGlzIHJlYWR0aGUgbmV4dCBjaGFyIGlzbid0IEZGLjxiciAvPlRoZSByZWFkIHBvaW50ZXIgd2lsbCBub3QgcHJvZ3Jlc3MgcGFzdCB0aGUgd3JpdGUgcG9pbnRlci48YnIgLz5BcyBzb29uIGFzIHNvbWV0aGluZyBnZXRzIHdyaXR0ZW4sIHRoZSBuZXh0IHRpbWUgeW91IHRyeSB0byByZWFkLCB5b3Ugd29udCBzZWUgdGhlIEZGIGFueW1vcmUgYW5kPGJyIC8+c28gdGhlIHJlYWQgcG9pbnRlciB3aWxsIGhhcHBpbHkgdHJvdCBhbG9uZyBiZWhpbmQgdGhlIHdyaXRlIHBvaW50ZXIgYnV0IG5ldmVyIHBhc3MgaXQuPGJyIC8+PGJyIC8+VGhlIHBvaW50ZXIgZm9yIHRoZSBuZXh0IHJlYWQgc3RyaW5nIG9wZXJhdGlvbjxiciAvPkludGVnZXIgPGI+V0IuUkRwdHI8L2I+PGJyIC8+PGJyIC8+VGhlIHBvaW50ZXIgZm9yIHRoZSBuZXh0IHdyaXRlIHN0cmluZyBvcGVyYXRpb248YnIgLz5JbnRlZ2VyIDxiPldCLldScHRyPC9iPjxiciAvPjxiciAvPjxiciAvPmRkoYBfn+iHlVdE+by1xrVEGSJvHWw=" />
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="2068001F" />
	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWIQL4zJPoBQK9z4TRAwK9z4DRAwK9z7zRAwK9z7jRAwK9z7TRAwKlz/TSAwKqz/TSAwK7z/TSAwK4z/TSAwK5z/TSAwK+z/TSAwK/z/TSAwK8z/TSAwK9z/TSAwKiz/TSAwK3j57gBwLC5qa8BQLC5qK8BQLC5p68BQLC5pq8BQLC5pa8BQLa5ta/BQLV5ta/BQLE5ta/BQLH5ta/BQLG5ta/BQLB5ta/BQLA5ta/BQLD5ta/BQLC5ta/BQLd5ta/BQL9yYWiCZ/pGYzxY3QBO16AOoH3zcS5FaIY" />
</div>
		<script type="text/javascript">
<!--
__BaseName = "ctl00_CphMaster_";
__ConfirmMessage = "Are you sure you want to proceed?";
// -->
</script>
		<script type="text/javascript">
		<!--
			function __GetServerElementById(id) {
				return document.getElementById(__BaseName + id);
			}
			function __RequestConfirm() {
				return confirm(__ConfirmMessage);
			}
		// -->
		</script>
    
        <div id="HeaderDiv">
            <div style="float: right;">Welcome <a href="MMBasic.Language.html" class="systemlink" title="Select your language">Guest</a>, you are in: <select class="namespacedropdown" onchange="javascript:var sel = this.value; document.location = (sel != '' ? (sel + '.') : '') + 'Default.aspx';"><option value="">&lt;root&gt;</option><option value="Circuit Ideas">Circuit Ideas</option><option value="Colour MaxiMite 2 (CMM2)">Colour MaxiMite 2 (CMM2)</option><option value="GCB">GCB</option><option value="MicroMite ArmMite and MMX Hardware">MicroMite ArmMite and MMX Hardware</option><option selected="selected" value="MMBasic">MMBasic</option><option value="PIC ASM">PIC ASM</option><option value="Platform Agnostic">Platform Agnostic</option></select> &bull; <a href="MMBasic.Login748d.html?Redirect=http%3a%2f%2ffruitoftheshed.com%2fHistory.aspx%3fNS%3dMMBasic%26Page%3dMMBasic.MMBasic-code-pack-to-Read-and-Write-Winbond-Flash-Memories%26Revision%3d00000" class="systemlink" title="Login">Login</a></div><h1>Fruit Of The Shed</h1>
        </div>
                   
        <div id="ContainerDiv">
                 
            <div id="SidebarDiv">
                <div id="SidebarHeaderDiv">
                    <!-- Used for layout purposes only -->
                </div>
                <div id="SidebarContentDiv">
                    <div style="float: right;"> </div><h3 class="separator">Navigation (MMBasic)<a class="headeranchor" id="Navigation_NAMESPACE_0" href="#Navigation_NAMESPACE_0" title="Link to this Section">&#0182;</a></h3><ul><li><b><a class="pagelink" href="MMBasic.MainPage.html" title="_MMBasic Code Library">Main Page</a></b></li><li><a class="pagelink" href="MainPage.html" title="Home Page">Main Page (root)</a><br /></li></ul><br /><ul><li><a class="systemlink" href="MMBasic.EggDrop-part-of-the-original-MMBasic-libraryc674.html" title="Random Page">Random Page</a></li><li><a class="systemlink" href="MMBasic.AllPages.html" title="All Pages">All Pages</a><br /> </li><li><a class="systemlink" href="Logina75d.html" title="Create a new Page">Create a new Page</a><br /></li></ul><br /><ul><li><a class="systemlink" href="Logine894.html" title="Administration">Administration</a></li><li><a class="systemlink" href="MMBasic.Upload.html" title="File Management">File Management</a><br /></li></ul><br /><ul><li><a class="systemlink" href="MMBasic.Register.html" title="My Account">My Account</a><br /></li></ul><br /><ul><li><a class="systemlink" href="MMBasic.Register.html" title="Create Account">Create Account</a><br /></li></ul><br /><small><b>Search the wiki</b></small><br /><br /><script type="text/javascript"><!--
function _DoSearch_SBa925f7376d16452eba58fcd259b58efc() { document.location = 'MMBasic.Search.aspx?AllNamespaces=1&FilesAndAttachments=1&Query=' + encodeURI(document.getElementById('SBa925f7376d16452eba58fcd259b58efc').value); }
// -->
</script><input class="txtsearchbox" type="text" id="SBa925f7376d16452eba58fcd259b58efc" onkeydown="javascript:var keycode; if(window.event) keycode = event.keyCode; else keycode = event.which; if(keycode == 10 || keycode == 13) { _DoSearch_SBa925f7376d16452eba58fcd259b58efc(); return false; }" /> <big><a href="#" onclick="javascript:_DoSearch_SBa925f7376d16452eba58fcd259b58efc(); return false;">&raquo;</a></big><br /><br /><br />
                </div>
                <div id="SidebarFooterDiv">
                    <!-- Used for layout purposes only -->
                </div>
            </div>
            <div id="MainDiv">
                <div id="MainHeaderDiv">
                    <!-- Used for layout purposes only -->
                </div>
                <div id="PageInternalHeaderDiv"></div>
                

    <h1 class="pagetitlesystem">Page History: MMBasic code-pack to Read and Write Winbond Flash Memories</h1>
    <p>Compare Page Revisions</p> 
    <select name="ctl00$CphMaster$lstRev1" id="ctl00_CphMaster_lstRev1">
	<option value="14">14</option>
	<option value="13">13</option>
	<option value="12">12</option>
	<option value="11">11</option>
	<option value="10">10</option>
	<option value="9">9</option>
	<option value="8">8</option>
	<option value="7">7</option>
	<option value="6">6</option>
	<option value="5">5</option>
	<option value="4">4</option>
	<option value="3">3</option>
	<option value="2">2</option>
	<option value="1">1</option>
	<option value="0">0</option>

</select>
    <select name="ctl00$CphMaster$lstRev2" id="ctl00_CphMaster_lstRev2">
	<option value="Current">Current</option>
	<option value="14">14</option>
	<option value="13">13</option>
	<option value="12">12</option>
	<option value="11">11</option>
	<option value="10">10</option>
	<option value="9">9</option>
	<option value="8">8</option>
	<option value="7">7</option>
	<option value="6">6</option>
	<option value="5">5</option>
	<option value="4">4</option>
	<option value="3">3</option>
	<option value="2">2</option>
	<option value="1">1</option>
	<option value="0">0</option>

</select>
    <input type="submit" name="ctl00$CphMaster$btnCompare" value="Compare" id="ctl00_CphMaster_btnCompare" />
    <br /><br />
    
    <table class="box" cellpadding="0" cellspacing="0"><tr><td><p style="text-align: center;"><b>&laquo; Older Revision - <a href="MMBasic.History75a6.html?Page=MMBasic.MMBasic-code-pack-to-Read-and-Write-Winbond-Flash-Memories">Back to Page History</a> - <a href="MMBasic.Historydfc8.html?Page=MMBasic.MMBasic-code-pack-to-Read-and-Write-Winbond-Flash-Memories&amp;Revision=00001">Newer Revision &raquo;</a></b></p></td></tr></table><br /><h3 class="separator">Page Revision: 2019/11/24 14:09</h3><br />Winbond flash memories provide an excellent method of storing up to 16MB of data in a tiny SPI driven chip. At around $0.50 each (varies) these offer an amazing storage/price density and are used in many devices to store configuration and firmware. Throwing out an old DSL router? Check the board - there is likely a Flash memory that can be recovered and re-used.<br /><br />SPI is very much faster and easier to drive than I<sup>2</sup>C. The routines here work flawlessly at 20MHz and were inspired by work MatherP published on the BackShed here <a class="externallink" href="https://www.thebackshed.com/forum/ViewTopic.php?TID=8492" title="https://www.thebackshed.com/forum/ViewTopic.php?TID=8492" target="_blank">https://www.thebackshed.com/forum/ViewTopic.php?TID=8492</a><br /><br />That work used CSubs to access the Flash and whereas they are very quick, they exclude users of the bigger 'Mite platforms - the MMX and ST's Arm base processors - the H7/F4 platforms. The routines below are a purely MMBasic solution and so can be used on any MMBasic platform supporting the SPI bus.<br /><br /><b>Flash Memory Organisation</b><br />The Flash technology provides continuous reading starting from a single 24 bit address. Once latched, the address increments with each read and so the entire memory could be rapidly read out with only a single address setup - at 20MHz this could be little more than 400nS per <u>byte</u>! Writing the devices is more involved. The memory is arranged into Pages of 256 bytes and the address latched, although 24 bits, only works within the selected page. The routines take care of this and reading/writing is transparent to the user.<br /><br />The method used to store strings in the Flash memory is shown below. Each cell represent a byte in Flash - here the string "IIIII"<br /><a class="unknownlink" href="MMBasic..html" title="MMBasic."></a><img src="flash_stringstore03d8.png?File=/flash_stringstore.png" alt="Image" /><br />It can be seen from this that strings are limited to the characters 1 to 255 - i.e. your string cannot contain CHR$(0) or CHR$(255) and that is the only limitation.<br />0 is used as the string delimiter in memory and 255 is the blank memory byte.<br /><br /><b>Conventions with this CodePack</b><br />The initialization routine performs several useful and vital functions:<br /><ul><br /><li> It identifies the type of Flash attached (if any) and sets the maximum address variable WB.Top to the last available memory location.</li><br /><li> It rapidly determines the first unused byte in the memory (more on this later) and sets the WB.WRptr variable so as not to trample on previously stored data</li><br /></ul><br /><br /><br />The Global variables concerned, then, are:<br />The JEDEC identifier of the Flash including the manufacturer and then the 2 byte device ID<br />Integer <b>WB.ID</b><br /><br />A human friendly version of the ID e.g. W25Q32 etc.<br />String <b>WB$</b><br /><br />The top-most available memory location<br />Integer <b>WB.Top</b><br /><br />Two address pointers, one for read and another for write - this gives an easy access method and they don't clash. As each character of a string is read back from memory, it is incremented until a 0 is readthe next char isn't FF.<br />The read pointer will not progress past the write pointer.<br />As soon as something gets written, the next time you try to read, you wont see the FF anymore and<br />so the read pointer will happily trot along behind the write pointer but never pass it.<br /><br />The pointer for the next read string operation<br />Integer <b>WB.RDptr</b><br /><br />The pointer for the next write string operation<br />Integer <b>WB.WRptr</b><br /><br /><br />
    
    


                <div id="PageInternalFooterDiv"></div>
                <div id="MainFooterDiv">
                    <!-- Used for layout purposes only -->
                </div>
            </div>

        </div>
            
        <div id="FooterDiv">
             
        </div>

    </form>  
</body>

<!-- Mirrored from fruitoftheshed.com/MMBasic.History.aspx?Page=MMBasic.MMBasic-code-pack-to-Read-and-Write-Winbond-Flash-Memories&Revision=00000 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 13:13:06 GMT -->
</html>
