

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" >

<!-- Mirrored from fruitoftheshed.com/Platform Agnostic.Print.aspx?Page=Platform%20Agnostic.Thermistor-Provides-Analogue-Temperature-Measurement by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:36:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><title>
	Thermistor Provides Analogue Temperature Measurement - Fruit Of The Shed
</title><link rel="stylesheet" type="text/css" href="Themes/Print.css" /></head>
<body>
    <form name="frmPrint" method="post" action="http://fruitoftheshed.com/Print.aspx?NS=Platform+Agnostic&amp;Page=Platform+Agnostic.Thermistor-Provides-Analogue-Temperature-Measurement" id="frmPrint">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTIwMDg4Njc4MjcPZBYCAgEPZBYCAgEPFgIeBFRleHQFkik8aDEgY2xhc3M9InBhZ2V0aXRsZSI+VGhlcm1pc3RvciBQcm92aWRlcyBBbmFsb2d1ZSBUZW1wZXJhdHVyZSBNZWFzdXJlbWVudDwvaDE+PHNtYWxsPk1vZGlmaWVkIG9uIDIwMjEvMDUvMjggMDg6MDUgYnkgQ2FwdGFpbkJvaW5nICZtZGFzaDsgQ2F0ZWdvcml6ZWQgYXM6IGVsZWN0cm9uaWNzLCBoYXJkd2FyZTwvc21hbGw+PGJyIC8+PGJyIC8+Rm9yIHRoZSBwYXN0IGZldyBkZWNhZGVzLCB0aGVyZSBoYXMgYmVlbiBhIG1vdmUgdG8gc3BlY2lmaWMgdGVtcGVyYXR1cmUgc2Vuc2luZyBJQ3MsIFNvbWUgZGlyZWN0IGNvbnRhY3Qgb3RoZXJzIHVzaW5nIHRoZXJtb2NvdXBsZXMgZXRjLjxiciAvPjxiciAvPlRoZXNlIGFsbCByZXF1aXJlIGludGVyZmFjaW5nIHVzaW5nIHNvbWUgY29tbXVuaWNhdGlvbiBidXMgKEkyQywgU1BJLCBPbmVXaXJlIGV0Yy4uLikgd2l0aCBhIGRlZ3JlZSBvZiBjb25maWd1cmF0aW9uLCByZWFkaW5nIHJlZ2lzdGVycyB3aXRoaW4gdGhlIGRldmljZSB3aGVuIGEgbWVhc3VyZW1lbnQgaXMgcmVxdWlyZWQuIExhcmdlbHkgdGhlc2UgcHJvdmlkZSBhbiBleGNlbGxlbnQgbWV0aG9kIHdpdGggZ29vZCBwcmVjaXNpb24gYW5kIGFsbCB0aGUgaGFzc2xlIG9mIHN0YWJpbGl6YXRpb24gdGFrZW4gYXdheSBieSB0aGUgbWFudWZhY3R1cmVyIGluIHRoZSBkZXNpZ24gb2YgdGhlIGNoaXAuPGJyIC8+PGJyIC8+SW4gcmVjZW50IHllYXJzLCB0aGUgc3BlY3RyZSBvZiBmYXItZWFzdGVybiBjb3VudGVyZmVpdGluZyBhbmQgY29weWluZyBvZiBlbGVjdHJvbmljIGNvbXBvbmVudHMgaGFzIHJpc2VuIHRvIGEgY3Jlc2NlbmRvIGFuZCBoYWQgYSAicG9pc29uaW5nIiBlZmZlY3Qgb24gc3VwcGx5IHdpdGggZXZlbiByZXB1dGFibGUgc3VwcGxpZXJzIGJlaW5nIGR1cGVkIGludG8gcHJvdmlkaW5nIHNlY29uZCByYXRlIG9yIGV2ZW4gZmFrZSBjb21wb25lbnRzIHRoYXQgc2VydmUgbm8gcHVycG9zZSBvdGhlciB0aGFuIHJlbGlldmluZyB5b3Ugb2YgeW91ciBjYXNoLiBJdCBjYW4gYmUgZXhjZXB0aW9uYWxseSBkaWZmaWN1bHQgdG8gc2VjdXJlIGdlbnVpbmUgcGFydHMgd2l0aCBtdWNoIHRlc3RpbmcgcmVxdWlyZWQgZnJvbSBtdWx0aXBsZSBzb3VyY2VzIHRvIGVuc3VyZSBhIHJlbGlhYmxlIGNvbXBvbmVudC4gR2V0dGluZyBzdWNoIGZha2VzIHRvIHdvcmsgY2FuIGJlIGEgbWFqb3IgaGVhZGFjaGUgYW5kIHdhc3RlIG9mIHRpbWUuPGJyIC8+PGJyIC8+VGhpcyBoYXMgZHJpdmVuIG1lIHRvIGV4cGxvcmUgYW4gb2xkZXIgbWV0aG9kIGZvciB0ZW1wZXJhdHVyZSBtZWFzdXJlbWVudCwgYWNoaWV2ZWQgdXNpbmcgYSBoaWdobHkgdGVtcGVyYXR1cmUgdmFyaWFibGUgcmVzaXN0b3IgY2FsbGVkIGEgPGEgY2xhc3M9ImV4dGVybmFsbGluayIgaHJlZj0iaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVGhlcm1pc3RvciIgdGl0bGU9IlRoZXJtaXN0b3IiIHRhcmdldD0iX2JsYW5rIj5UaGVybWlzdG9yPC9hPiAtIGFsbCBjb21wb25lbnRzIGV4cGVyaWVuY2Ugc29tZSB2YXJpYWJpbGl0eSBkdWUgdG8gaGVhdGluZywgYnV0IHRoZXJtaXN0b3JzIGFyZSBtYW51ZmFjdHVyZWQgZnJvbSBtYXRlcmlhbHMgdGhhdCBhcmUgcGFydGljdWxhcmx5ICJiYWRseSIgYWZmZWN0ZWQgLSBkZWxpYmVyYXRlbHkuIEluIHRoaXMgYXJ0aWNsZSBhbGwgcmVmZXJlbmNlcyB0byB0aGVybWlzdG9yIGFzc3VtZSBhIE5lZ2F0aXZlIFRlbXBlcmF0dXJlIENvLWVmZmljaWVudCBwYXJ0IChOVEMpIC0gaS5lLiB0aGUgcmVzaXN0YW5jZSB2YXJpZXMgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiAobmVnYXRpdmVseSBwcm9wb3J0aW9uYWwpIHRvIHRoZSB0ZW1wZXJhdHVyZS4uLiBhcyB0aGUgdGVtcGVyYXR1cmUgcmlzZXMsIHRoZSByZXNpc3RhbmNlIGZhbGxzIGFuZCB2aWNlIHZlcnNhLjxiciAvPjxiciAvPkl0IGlzIGltcG9ydGFudCB0byBub3RlIHRoYXQgdGhlcm1pc3RvcnMgYXJlIG5vdCBsaW5lYXIgZGV2aWNlcyAtIHRoYXQgaXMgYSB0ZW1wZXJhdHVyZSBjaGFuZ2Ugb2Ygb25lIGRlZ3JlZSBtYXkgaGF2ZSBhIGxhcmdlciBpbXBhY3Qgb24gcmVzaXN0YW5jZSBhdCBvbmUgZW5kIG9mIGl0cyByYW5nZSB0aGFuIGF0IHRoZSBvdGhlciAtIHRoZSByZXNwb25zZSBmb2xsb3dzIGEgbG9nYXJpdGhtaWMgY3VydmUuIE1lYXN1cmVtZW50IG9mIHRlbXBlcmF0dXJlIHVzaW5nIGEgdGhlcm1pc3RvciBuZWVkcyBhIHNtYWxsIGFtb3VudCBvZiBtYXRoZW1hdGljcyB0byByZW5kZXIgYSByZWxpYWJsZSByZWFkaW5nLiBWYWx1ZXMgYXJlIHJlbWFya2FibHkgY29uc2lzdGVudCBhbmQgd2hlbiB0YWtpbmcgaW50byBhY2NvdW50IHR3byBrZXkgcHJvcGVydGllcyBvZiB0aGVybWlzdG9ycywgcXVpdGUgYWNjdXJhdGUuPGJyIC8+PGJyIC8+Rmlyc3RseSwgbW9zdCB0aGVybWlzdG9ycyBoYXZlIGEgcmVzaXN0YW5jZSByYXRpbmcgZ2l2ZW4gYXQgYSBzcGVjaWZpYyB0ZW1wZXJhdHVyZSAtIHRoaXMgaXMgbW9zdCB1c3VhbGx5IG1lYXN1cmVkIGF0IDI1IGRlZ3JlZXMgQ2Vsc2l1cyAtIHRoZSBSMjUgdmFsdWUgKGFjdHVhbGx5IGFsbCB0aGUgZm9sbG93aW5nIGVxdWF0aW9ucyB1c2UgS2VsdmluIGJ1dCB0aGUgUjI1IHZhbHVlIGlzIGZvciBodW1hbiBjb25zdW1wdGlvbiAtIHdlJ2xsIGFkanVzdCBmb3IgdGhhdCkuPGJyIC8+PGJyIC8+U2Vjb25kbHksIGEgY29tcG9uZW50IGRlc2lnbiB2YWx1ZSwgQmV0YSAozrIgb3Igc2ltcGx5IEIgLSBhIGRlcml2YXRpdmUgZnJvbSB0aGUgU3RlaW5oYXJ04oCTSGFydCBlcXVhdGlvbikgZGVzY3JpYmVzIHRoZSBjaGFyYWN0ZXJpc3RpY3Mgb2YgdGhlIGxvZ2FyaXRobWljIHJlc3BvbnNlLjxiciAvPjxiciAvPkFybWVkIHdpdGggUjI1LCBCZXRhIGFuZCB0aGUgc3VwcGx5IHZvbHRhZ2UsIHdlIGNhbiBjYWxjdWxhdGUgYSBzdXJwcmlzaW5nbHkgYWNjdXJhdGUgdGVtcGVyYXR1cmUgYnkgbWVhc3VyaW5nIHRoZSB2b2x0YWdlIGF0IHRoZSBqdW5jdGlvbiBvZiB0aGUgdGhlcm1pc3RvciBhbmQgYSAiYmFsYW5jaW5nIiByZXNpc3RvciBhcyBzaG93biBiZWxvdyAodGhlIHN1cHBseSB2b2x0YWdlIGlzIGFyYml0cmFyeSkuPGJyIC8+PGJyIC8+PGEgY2xhc3M9InVua25vd25saW5rIiBocmVmPSJQbGF0Zm9ybSBBZ25vc3RpYy4uYXNoeCIgdGl0bGU9IlBsYXRmb3JtIEFnbm9zdGljLiI+PC9hPjxpbWcgc3JjPSJHZXRGaWxlLmFzcHg/RmlsZT0vVGhlcm1pc3RvckNDVC5wbmciIGFsdD0iSW1hZ2UiIC8+PGJyIC8+PGJyIC8+TXVjaCBvZiB0aGUgZm9sbG93aW5nIGNvZGUgd2FzIGluc3BpcmVkIGJ5IGEgdmVyeSBnb29kIGFydGljbGUgPGEgY2xhc3M9ImV4dGVybmFsbGluayIgaHJlZj0iaHR0cHM6Ly93d3cuZGlnaWtleS5jby51ay9lbi9tYWtlci9wcm9qZWN0cy9ob3ctdG8tbWVhc3VyZS10ZW1wZXJhdHVyZS13aXRoLWFuLW50Yy10aGVybWlzdG9yLzRhNGIzMjYwOTVmMTQ0MDI5ZGY3ZjJlY2E1ODljYTU0IiB0aXRsZT0iaGVyZSIgdGFyZ2V0PSJfYmxhbmsiPmhlcmU8L2E+OjxiciAvPjxiciAvPlRoZSB0aGVybWlzdG9yIHVzZWQgd2FzIGEgY2VyYW1pYyBiZWFkIE5UQyB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczo8YnIgLz5SMjU9MTBLPGJyIC8+QmV0YT0zOTUwPGJyIC8+PGJyIC8+VGhlIGNvZGUgdGhhdCBmb2xsb3dzIGlzIHdyaXR0ZW4gaW4gTU1CYXNpYyBhbmQgZnJvbSB0ZXN0aW5nIG9uIGEgMjhwaW4gTWljcm9NaXRlLCBwbGVhc2UgdHdlYWsgYXMgbmVjZXNzYXJ5LiBJdCBpcyBsYXJnZWx5IGNvbW1lbnRlZC9zZWxmLWV4cGxhbmF0b3J5LiBBIGRlcml2YXRpb24gb2YgdGhpcyBpcyB1c2VkIHRvIHNlbnNlIHRoZSB0ZW1wZXJhdHVyZSBvZiB0aGUgaGVhdGVkIGJ1aWxkIHBsYXRlIG9uIG15IDNEIHByaW50ZXIuPGJyIC8+PGJyIC8+RG8gcmVtZW1iZXIgdGhlIHRlbXBlcmF0dXJlIGlzIGFzIG1lYXN1cmVkIGF0IHRoZSB0aGVybWlzdG9yIGJvZHkuIEFueSBkaWZmZXJlbmNlcyBpbiBkaXN0YW5jZSBhbmQgY29udGFjdCB3aXRoIHRoZSBkZXNpcmVkIGl0ZW0gd2lsbCB2YXJ5LiBPbiBteSBoZWF0ZWQgYmVkLCB0aGUgdGVtcGVyYXR1cmUgYWJvdmUgdGhlIGhlYXRlcnMgaXMgYXJvdW5kIDEwQyBoaWdoZXIsIGJ1dCByaWdodCBvdmVyIHRoZSBzZW5zb3IgaXMgKy8tIDJDIC0gcGVyZmVjdGx5IGFjY2VwdGFibGUgZm9yIHRoZSBhcHBsaWNhdGlvbi48YnIgLz48YnIgLz48Yj5UaGUgQ29kZTo8L2I+PGJyIC8+PHByZT4NCglDb25zdCBCZXRhPTM5NTANCglDb25zdCBUY3Q9MjUrMjczLjE1LFJjdD0xMDAwMCcgMjVDIGluIEtlbHZpbiAtIHRoaXMgaXMgdGhlIGNhbGlicmF0aW9uIHBvaW50IG9mIHRoZSB0aGVybWlzdG9yIGkuZS4gMTBLIEAgMjVDLiBDaGFuZ2UgYXMgbmVjZXNzYXJ5DQoJQ29uc3QgUmI9MTAwMCdiYWxhbmNlIHJlc2lzdG9yDQoJJ1ZhcnlpbmcgdGhlIGJhbGFuY2UgcmVzaXN0b3IgKFJiKSBtb3ZlcyB0aGUgdGVtcGVyYXR1cmUgcmFuZ2Ugb24gdGhlIGxvZ2FyaXRobWljIHBhcmFib2xhLiANCgknQWRqdXN0IHNvIHlvdXIgZGVsdGEgKGFyZWEgd2l0aCBtb3N0IHByb25vdW5jZWQgY2hhbmdlIGluIHZvbHRhZ2UpIGlzIHdoZXJlIGl0J3MgYmVzdCBmb3IgeW91DQoJJ2UuZy4gbWlkZGxlIG9mIHRoZSB2b2x0YWdlIHJhbmdlLCBBSU49MS42NVYsDQoJJ1JiIDFLPTgzQywgMksyPTU5QywgNEs3PTM5Qw0KCSdmb3IgbWUsIDFLIGdpdmVzIDIuNVYgYXQgMTI0YEMgd2hpY2ggaXMganVzdCBvdmVyIHRoZSB0b3Agb2YgdGhlIGRlc2lyZWQgcmFuZ2UgKDYwLTEyMEMpIC0gaWRlYWwNCgkNCglDb25zdCBWY2M9My4yOScJbWVhc3VyZSB5b3VyIHN1cHBseSB2b2x0YWdlIHByZWNpc2VseSBmb3IgdGhpcyB2YWx1ZQkNCg0KCURpbSBGbG9hdCBWdGIsUnQsVGMNCgkNCglTZXRQaW4gNSxBSU4NCg0KCURvDQoJCVZ0Yj1QaW4oNSkndm9sdGFnZSBhdCBqdW5jdGlvbiBvZiBSdCBhbmQgUmINCgkJUnQ9UmImIzQyOygoVmNjL1Z0YiktMSknIGNhbGN1bGF0ZSB0aGUgcmVzaXN0YW5jZSBvZiB0aGUgdGhlcm1pc3Rvcg0KCQkNCgkJUHJpbnQgIlJ0IHJlc2lzdGFuY2UgaW4gT2htcyIsUnQsDQoJCQkNCgkJVGM9KChCZXRhJiM0MjtUY3QpLyhCZXRhKyhUY3QmIzQyO0xvZyhSdC9SY3QpKSkpLTI3My4xNSAnY2FsY3VsYXRlIHRoZSB0ZW1wZXJhdHVyZQ0KCQkJDQoJCVByaW50Ij0iO1RjOyJgQyINCgkJUHJpbnQNCgkJUGF1c2UgNTAwJyBzbG93IHRoZSBsb29wIGEgYml0DQoJTG9vcA0KPC9wcmU+PGJyIC8+PGJyIC8+ZGSEkdlBlkeA+YZpw1BnJnYPVorRGA==" />
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="03CF0AB7" />
</div>
        <h1 class="pagetitle">Thermistor Provides Analogue Temperature Measurement</h1><small>Modified on 2021/05/28 08:05 by CaptainBoing &mdash; Categorized as: electronics, hardware</small><br /><br />For the past few decades, there has been a move to specific temperature sensing ICs, Some direct contact others using thermocouples etc.<br /><br />These all require interfacing using some communication bus (I2C, SPI, OneWire etc...) with a degree of configuration, reading registers within the device when a measurement is required. Largely these provide an excellent method with good precision and all the hassle of stabilization taken away by the manufacturer in the design of the chip.<br /><br />In recent years, the spectre of far-eastern counterfeiting and copying of electronic components has risen to a crescendo and had a "poisoning" effect on supply with even reputable suppliers being duped into providing second rate or even fake components that serve no purpose other than relieving you of your cash. It can be exceptionally difficult to secure genuine parts with much testing required from multiple sources to ensure a reliable component. Getting such fakes to work can be a major headache and waste of time.<br /><br />This has driven me to explore an older method for temperature measurement, achieved using a highly temperature variable resistor called a <a class="externallink" href="https://en.wikipedia.org/wiki/Thermistor" title="Thermistor" target="_blank">Thermistor</a> - all components experience some variability due to heating, but thermistors are manufactured from materials that are particularly "badly" affected - deliberately. In this article all references to thermistor assume a Negative Temperature Co-efficient part (NTC) - i.e. the resistance varies in the opposite direction (negatively proportional) to the temperature... as the temperature rises, the resistance falls and vice versa.<br /><br />It is important to note that thermistors are not linear devices - that is a temperature change of one degree may have a larger impact on resistance at one end of its range than at the other - the response follows a logarithmic curve. Measurement of temperature using a thermistor needs a small amount of mathematics to render a reliable reading. Values are remarkably consistent and when taking into account two key properties of thermistors, quite accurate.<br /><br />Firstly, most thermistors have a resistance rating given at a specific temperature - this is most usually measured at 25 degrees Celsius - the R25 value (actually all the following equations use Kelvin but the R25 value is for human consumption - we'll adjust for that).<br /><br />Secondly, a component design value, Beta (β or simply B - a derivative from the Steinhart–Hart equation) describes the characteristics of the logarithmic response.<br /><br />Armed with R25, Beta and the supply voltage, we can calculate a surprisingly accurate temperature by measuring the voltage at the junction of the thermistor and a "balancing" resistor as shown below (the supply voltage is arbitrary).<br /><br /><a class="unknownlink" href="Platform%20Agnostic..html" title="Platform Agnostic."></a><img src="ThermistorCCT0471.png?File=/ThermistorCCT.png" alt="Image" /><br /><br />Much of the following code was inspired by a very good article <a class="externallink" href="https://www.digikey.co.uk/en/maker/projects/how-to-measure-temperature-with-an-ntc-thermistor/4a4b326095f144029df7f2eca589ca54" title="here" target="_blank">here</a>:<br /><br />The thermistor used was a ceramic bead NTC with the following properties:<br />R25=10K<br />Beta=3950<br /><br />The code that follows is written in MMBasic and from testing on a 28pin MicroMite, please tweak as necessary. It is largely commented/self-explanatory. A derivation of this is used to sense the temperature of the heated build plate on my 3D printer.<br /><br />Do remember the temperature is as measured at the thermistor body. Any differences in distance and contact with the desired item will vary. On my heated bed, the temperature above the heaters is around 10C higher, but right over the sensor is +/- 2C - perfectly acceptable for the application.<br /><br /><b>The Code:</b><br /><pre>
	Const Beta=3950
	Const Tct=25+273.15,Rct=10000' 25C in Kelvin - this is the calibration point of the thermistor i.e. 10K @ 25C. Change as necessary
	Const Rb=1000'balance resistor
	'Varying the balance resistor (Rb) moves the temperature range on the logarithmic parabola. 
	'Adjust so your delta (area with most pronounced change in voltage) is where it's best for you
	'e.g. middle of the voltage range, AIN=1.65V,
	'Rb 1K=83C, 2K2=59C, 4K7=39C
	'for me, 1K gives 2.5V at 124`C which is just over the top of the desired range (60-120C) - ideal
	
	Const Vcc=3.29'	measure your supply voltage precisely for this value	

	Dim Float Vtb,Rt,Tc
	
	SetPin 5,AIN

	Do
		Vtb=Pin(5)'voltage at junction of Rt and Rb
		Rt=Rb&#42;((Vcc/Vtb)-1)' calculate the resistance of the thermistor
		
		Print "Rt resistance in Ohms",Rt,
			
		Tc=((Beta&#42;Tct)/(Beta+(Tct&#42;Log(Rt/Rct))))-273.15 'calculate the temperature
			
		Print"=";Tc;"`C"
		Print
		Pause 500' slow the loop a bit
	Loop
</pre><br /><br />
    </form>
</body>

<!-- Mirrored from fruitoftheshed.com/Platform Agnostic.Print.aspx?Page=Platform%20Agnostic.Thermistor-Provides-Analogue-Temperature-Measurement by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:36:21 GMT -->
</html>
