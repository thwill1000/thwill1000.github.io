

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from fruitoftheshed.com/Circuit%20Ideas.Random-Bit-Generator-for-cryptographic-strength-random-numbers.ashx?NS=Circuit%20Ideas by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:56:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=8" /><title>
	Random Bit Generator for cryptographic strength random numbers - Fruit Of The Shed
</title><meta name="keywords" content="random, randomize, salt, mmx" /><script type="text/javascript" src="JS/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="JS/Scripts.js"></script>
<script type="text/javascript" src="JS/SearchHighlight.js"></script>
<link rel="stylesheet" media="print" href="Themes/Default/Print_Styles.css" type="text/css" />
<link rel="stylesheet" media="screen" href="Themes/Default/Screen_Styles%20-%20Copy.css" type="text/css" />
<link rel="stylesheet" media="screen" href="Themes/Default/Screen_Styles.css" type="text/css" />
<link rel="stylesheet" href="Themes/Editor.css" type="text/css" />
<link rel="search" href="searchf7b1.xml?OpenSearch=1" type="application/opensearchdescription+xml" title="Fruit Of The Shed - Search" /><script src="Themes/Default/Scripts.js" type="text/javascript"></script>
<link rel="shortcut icon" href="Themes/Default/Icon.ico" type="image/x-icon" />
</head>
<body>
    <form name="aspnetForm" method="post" action="http://fruitoftheshed.com/Default.aspx?Page=Random-Bit-Generator-for-cryptographic-strength-random-numbers&amp;NS=Circuit+Ideas" id="aspnetForm">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUJMTQ3NjA4MDI2D2QWAmYPZBYCAgEPZBYCAgkPZBYEAhsPDxYCHg1BbnRoZW1WaXNpYmxlaGRkAicPDxYCHgdWaXNpYmxlaGQWAmYPFgIeC18hSXRlbUNvdW50ZmRkL9X+pH8J+jB1IIJZx71WjgOrjyw=" />
</div>

<script type="text/javascript">
//<![CDATA[
var Anthem_FormID = "aspnetForm";
//]]>
</script>
<script src="WebResource3c0c.axd?d=wu8PDPV1hmKciPrhUAi9NEjQUBbOefrIXCaRPwGH8Q5jrvPZFuGbKmycL3GXDKGD1_JZ083oQl1Kpd_P7rg1V93MtYOS3Vb-0Eztmu5VDCWQxc7l0&amp;t=636158881040000000" type="text/javascript"></script>
<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="CA0B0334" />
</div>
		<script type="text/javascript">
<!--
__BaseName = "ctl00_CphMaster_";
__ConfirmMessage = "Are you sure you want to proceed?";
// -->
</script>
		<script type="text/javascript">
		<!--
			function __GetServerElementById(id) {
				return document.getElementById(__BaseName + id);
			}
			function __RequestConfirm() {
				return confirm(__ConfirmMessage);
			}
		// -->
		</script>
    
        <div id="HeaderDiv">
            <div style="float: right;">Welcome <a href="Circuit%20Ideas.Language.html" class="systemlink" title="Select your language">Guest</a>, you are in: <select class="namespacedropdown" onchange="javascript:var sel = this.value; document.location = (sel != '' ? (sel + '.') : '') + 'Default.aspx';"><option value="">&lt;root&gt;</option><option selected="selected" value="Circuit Ideas">Circuit Ideas</option><option value="Colour MaxiMite 2 (CMM2)">Colour MaxiMite 2 (CMM2)</option><option value="GCB">GCB</option><option value="MicroMite ArmMite and MMX Hardware">MicroMite ArmMite and MMX Hardware</option><option value="MMBasic">MMBasic</option><option value="PIC ASM">PIC ASM</option><option value="Platform Agnostic">Platform Agnostic</option></select> &bull; <a href="Circuit%20Ideas.Login430f.html?Redirect=http%3a%2f%2ffruitoftheshed.com%2fDefault.aspx%3fPage%3dRandom-Bit-Generator-for-cryptographic-strength-random-numbers%26NS%3dCircuit%20Ideas" class="systemlink" title="Login">Login</a></div><h1>Fruit Of The Shed</h1>
        </div>
                   
        <div id="ContainerDiv">
                 
            <div id="SidebarDiv">
                <div id="SidebarHeaderDiv">
                    <!-- Used for layout purposes only -->
                </div>
                <div id="SidebarContentDiv">
                    <div style="float: right;"> </div><h3 class="separator">Navigation (Circuit Ideas)<a class="headeranchor" id="Navigation_NAMESPACE_0" href="#Navigation_NAMESPACE_0" title="Link to this Section">&#0182;</a></h3><ul><li><b><a class="pagelink" href="Circuit%20Ideas.MainPage.html" title="_Main Page">Main Page</a></b></li><li><a class="pagelink" href="MainPage.html" title="Home Page">Main Page (root)</a><br /></li></ul><br /><ul><li><a class="systemlink" href="Circuit%20Ideas.Simple-Serial-Console-Connectionea70.html" title="Random Page">Random Page</a></li><li><a class="systemlink" href="Circuit%20Ideas.AllPages.html" title="All Pages">All Pages</a><br /> </li><li><a class="systemlink" href="Login0182.html" title="Create a new Page">Create a new Page</a><br /></li></ul><br /><ul><li><a class="systemlink" href="Login0982.html" title="Administration">Administration</a></li><li><a class="systemlink" href="Circuit%20Ideas.Upload.html" title="File Management">File Management</a><br /></li></ul><br /><ul><li><a class="systemlink" href="Circuit%20Ideas.Register.html" title="My Account">My Account</a><br /></li></ul><br /><ul><li><a class="systemlink" href="Circuit%20Ideas.Register.html" title="Create Account">Create Account</a><br /></li></ul><br /><small><b>Search the wiki</b></small><br /><br /><script type="text/javascript"><!--
function _DoSearch_SB9bffed0da8f946919883d085c50b776f() { document.location = 'Circuit Ideas.Search.aspx?AllNamespaces=1&FilesAndAttachments=1&Query=' + encodeURI(document.getElementById('SB9bffed0da8f946919883d085c50b776f').value); }
// -->
</script><input class="txtsearchbox" type="text" id="SB9bffed0da8f946919883d085c50b776f" onkeydown="javascript:var keycode; if(window.event) keycode = event.keyCode; else keycode = event.which; if(keycode == 10 || keycode == 13) { _DoSearch_SB9bffed0da8f946919883d085c50b776f(); return false; }" /> <big><a href="#" onclick="javascript:_DoSearch_SB9bffed0da8f946919883d085c50b776f(); return false;">&raquo;</a></big><br /><br />
                </div>
                <div id="SidebarFooterDiv">
                    <!-- Used for layout purposes only -->
                </div>
            </div>
            <div id="MainDiv">
                <div id="MainHeaderDiv">
                    <!-- Used for layout purposes only -->
                </div>
                <div id="PageInternalHeaderDiv"></div>
                

    <script type="text/javascript">
    <!--
        function __ShowAllTrail() {
            try {
                document.getElementById("BreadcrumbsDivMin").style["display"] = "none";
                document.getElementById("BreadcrumbsDivAll").style["display"] = "";
                __SetStatus("1");
            }
            catch(ex) { }
            return false;
        }
        function __HideTrail() {
            try {
                document.getElementById("BreadcrumbsDivMin").style["display"] = "";
                document.getElementById("BreadcrumbsDivAll").style["display"] = "none";
                __SetStatus("0");
            }
            catch(ex) { }
            return false;
        }
        
        function __SetStatus(open) {
            __CreateCookie("ScrewTurnWikiBCT", open, 365);
        }
        function __GetStatus() {
            var value = __ReadCookie("ScrewTurnWikiBCT");
            if(value) return value;
            else return "0";
        }

        function __InitBCT() {
        	if(__GetStatus() == "1") {
        		__ShowAllTrail();
        	}
        }

        var __attachmentsMenuJustShown = false;
        var __adminToolsMenuJustShown = false;
        var __ie7Mode = false;

        function __ToggleAttachmentsMenu(cx, cy) {
        	var element = document.getElementById("PageAttachmentsDiv");
        	if(element) {
        		if(element.style["display"] == "none") {
        			element.style["display"] = "";
        			var pos = __AbsolutePosition(element);
        			if(pos.left - cx > 0) {
        				__ie7Mode = true;
        				element.style["position"] = "absolute";
        				element.style["top"] = cy + "px";
        				element.style["left"] = (cx - pos.width) + "px";
        			}
        			else {
        				__RepositionDiv(document.getElementById("PageAttachmentsLink"), element);
        			}
        			__attachmentsMenuJustShown = true;
        		}
        	}
        	return false;
        }
        function __HideAttachmentsMenu() {
        	var element = document.getElementById("PageAttachmentsDiv");
        	if(element && !__attachmentsMenuJustShown) {
        		element.style["display"] = "none";
        		if (__ie7Mode) element.style["left"] = "10000px";
        	}
        	__attachmentsMenuJustShown = false;
        	return true; // Needed to enabled next clicks' action (file download)
        }

        function __ToggleAdminToolsMenu(cx, cy) {
        	var element = document.getElementById("AdminToolsDiv");
        	if(element) {
        		if(element.style["display"] == "none") {
        			element.style["display"] = "";
        			var pos = __AbsolutePosition(element);
        			if(pos.left - cx > 0) {
        				__ie7Mode = true;
        				element.style["position"] = "absolute";
        				element.style["top"] = cy + "px";
        				element.style["left"] = (cx - pos.width) + "px";
        			}
        			else {
        				__RepositionDiv(document.getElementById("AdminToolsLink"), element);
        			}
        			__adminToolsMenuJustShown = true;
        		}
        	}
        	return false;
        }
        function __HideAdminToolsMenu() {
        	var element = document.getElementById("AdminToolsDiv");
        	if(element && !__adminToolsMenuJustShown) {
        		element.style["display"] = "none";
        		if(__ie7Mode) element.style["left"] = "10000px";
        	}
        	__adminToolsMenuJustShown = false;
        	return true; // Needed to enable next clicks' action (admin tools)
        }

        function __HideAllMenus() {
        	__HideAttachmentsMenu();
        	__HideAdminToolsMenu();
        }

        document.body.onclick = __HideAllMenus;

        function __AbsolutePosition(obj) {
        	var pos = null;
        	if(obj != null) {
        		pos = new Object();
        		pos.top = obj.offsetTop;
        		pos.left = obj.offsetLeft;
        		pos.width = obj.offsetWidth;
        		pos.height = obj.offsetHeight;

        		obj = obj.offsetParent;
        		while(obj != null) {
        			pos.top += obj.offsetTop;
        			pos.left += obj.offsetLeft;
        			obj = obj.offsetParent;
        		}
        	}
        	return pos;
        }

        var __showTimer = null;
        var __hideTimer = null;

        function __ShowDropDown(e, divId, parent) {
           	// Set a timer
        	// On mouse out, cancel the timer and start a 2nd timer that hides the menu
        	// When the 1st timer elapses
        	//   show the drop-down
        	//   on menu mouseover, cancel the 2nd timer
        	//   on menu mouse out, hide the menu
        	__showTimer = setTimeout('__ShowDropDownForReal(' + e.clientX + ', ' + e.clientY + ', "' + divId + '", "' + parent.id + '");', 200);
        }

        function __ShowDropDownForReal(cx, cy, divId, parentId) {
        	var pos = __AbsolutePosition(document.getElementById(parentId));
        	var menu = document.getElementById(divId);

			// This is needed to trick IE7 which, for some reason,
			// does not position the drop-down correctly with the new Default theme
        	if(pos.left - cx > 30) {
        		menu.style["display"] = "";
        		menu.style["position"] = "absolute";
        		menu.style["top"] = cy + "px";
        		menu.style["left"] = (cx - 10) + "px";
        	}
        	else {
        		menu.style["display"] = "";
        		menu.style["position"] = "absolute";
        		menu.style["top"] = (pos.top + pos.height) + "px";
        		menu.style["left"] = pos.left + "px";
        	}
        	__showTimer = null;
        }

        function __HideDropDown(divId) {
        	if(__showTimer) clearTimeout(__showTimer);
        	__hideTimer = setTimeout('__HideDropDownForReal("' + divId + '");', 200);
        }

        function __HideDropDownForReal(divId) {
        	document.getElementById(divId).style["display"] = "none";
        	__hideTimer = null;
        }

        function __CancelHideTimer() {
        	if(__hideTimer) clearTimeout(__hideTimer);
        }
        
    // -->
    </script>

	<a id="PageTop"></a>
	
	<div id="PageHeaderDiv">
	
		<!-- Change this to PageToolbarDiv -->
		<div id="EditHistoryLinkDiv">
			<a id="DiscussLink" title="Discuss" href="Circuit%20Ideas.Random-Bit-Generator-for-cryptographic-strength-random-numbers266d.html?Discuss=1">Discuss (0)</a>
			
			
			<a id="HistoryLink" title="View Page edit history" href="Circuit%20Ideas.Historyde7b.html?Page=Circuit%20Ideas.Random-Bit-Generator-for-cryptographic-strength-random-numbers">History</a>
			
			
			
			
			
		</div>
		
		<h1 class="pagetitle">
			
			Random Bit Generator for cryptographic strength random numbers
			
		</h1>
		
		<div id="PrintLinkDiv">
			<a id="PrintLink" href="Circuit%20Ideas.Printde7b.html?Page=Circuit%20Ideas.Random-Bit-Generator-for-cryptographic-strength-random-numbers" title="Printer friendly version" target="_blank">Print</a>
		</div>
		
		<div id="RssLinkDiv">
			
		</div>
		
		<div id="EmailNotificationDiv">
			<span id="Anthem_ctl00_CphMaster_btnEmailNotification__"></span>
		</div>
		
		<div id="ctl00_CphMaster_pnlPageInfo">
	
			<div id="PageInfoDiv">
				<span id="ModificationSpan">
					Modified on 
					2021/10/25 08:48
				</span>
				<span id="AuthorSpan">
					 by 
					<a href="Circuit%20Ideas.Userb2ec.html?Username=hendy">CaptainBoing</a>
				</span>
				<span id="NavPathsSpan">
					
				</span>
				<span id="CategoriesSpan">
					Categorized as 
					<i><a href="Circuit%20Ideas.AllPagesb702.html?Cat=-" title="Uncategorized">Uncategorized</a></i>
				</span>
				
				<span id="PageDiscussionSpan">
					
					
				</span>
			</div>
		
</div>
		
		<div id="f880988b7-ef18-4c6e-be53-16ec1ec93605" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('f880988b7-ef18-4c6e-be53-16ec1ec93605');"><a href="MMBasic.True-Random-Generator-companion-code-for-circuit.html" title="True Random Generator (companion code for circuit)">True Random Generator (companion code for circuit)</a></div><div id="f593aa62c-808a-4f55-9121-8f77778c3e91" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('f593aa62c-808a-4f55-9121-8f77778c3e91');"></div><div id="f1beaf617-a28e-416b-bc7a-6fe6ca12ed91" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('f1beaf617-a28e-416b-bc7a-6fe6ca12ed91');"></div><div id="f492c9e35-7171-4a46-b956-5753a184900b" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('f492c9e35-7171-4a46-b956-5753a184900b');"><a href="MMBasic.uFormat-and-StrE-provide-flexible-formatting-of-numeric-values.html" title="uFormat$() and StrE$() provide flexible formatting of numeric values">uFormat$() and StrE$() provide flexible formatting of numeric values</a></div><div id="f9aa12699-7a2e-4e71-adf0-ccc7cda3fbe7" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('f9aa12699-7a2e-4e71-adf0-ccc7cda3fbe7');"><a href="MMBasic.VB-Work-a-like-LTrim-and-RTRIM-Functions.html" title="LTrim and RTrim Functions (VB work-a-like)">LTrim and RTrim Functions (VB work-a-like)</a><a href="MMBasic.LTrim-RTrim-cFunctions.html" title="LTrim RTrim CFunctions">LTrim RTrim CFunctions</a><a href="MMBasic.String-editing-on-screen-for-VT-compatible-Terminals.html" title="String editing on-screen for VT compatible Terminals">String editing on-screen for VT compatible Terminals</a></div><div id="f34ac58fd-4497-446e-8093-0fd397973311" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('f34ac58fd-4497-446e-8093-0fd397973311');"></div><div id="s3135b131-373b-494a-8715-19606b94d319" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('s3135b131-373b-494a-8715-19606b94d319');"><a href="MMBasic.True-Random-Generator-companion-code-for-circuit.html" title="True Random Generator (companion code for circuit)">True Random Generator (companion code for circuit)</a></div><div id="sb9bb3c3e-8c38-4857-9d50-479d4f3a95aa" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('sb9bb3c3e-8c38-4857-9d50-479d4f3a95aa');"></div><div id="sfb2a8c5a-8f0f-43a9-973c-a62017ccfddf" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('sfb2a8c5a-8f0f-43a9-973c-a62017ccfddf');"></div><div id="BreadcrumbsDiv"><div id="BreadcrumbsDivMin"><a href="#" onclick="javascript:return __ShowAllTrail();" title="Click here to view the complete Breadcrumbs Trail">(10)</a> &raquo; <a href="Circuit%20Ideas.Simple-Serial-Console-Connection.html" title="Simple Serial Console Connection (Circuit Ideas)">Simple Serial Console Connection (Circuit Ideas)</a> &raquo; <a href="Circuit%20Ideas.7490-The-forgotten-divider.html" title="7490 The forgotten counter/divider  (Circuit Ideas)">7490 The forgotten counter/divider  (Circuit Ideas)</a> &raquo; <b><a href="Circuit%20Ideas.Random-Bit-Generator-for-cryptographic-strength-random-numbers.html" title="Random Bit Generator for cryptographic strength random numbers (Circuit Ideas)" onmouseover="javascript:return __ShowDropDown(event, 's3135b131-373b-494a-8715-19606b94d319', this);" id="lnks3135b131-373b-494a-8715-19606b94d319" onmouseout="javascript:return __HideDropDown('s3135b131-373b-494a-8715-19606b94d319');">Random Bit Generator for cryptographic strength random numbers (Circuit Ideas)</a></b> </div><div id="BreadcrumbsDivAll" style="display: none;"><a href="#" onclick="javascript:return __HideTrail();" title="Click here to hide the Breadcrumbs Trail">[X]</a> &raquo; <a href="MMBasic.Vehicle-Reversing-Assistant.html" title="Vehicle Reversing Assistant (MMBasic)">Vehicle Reversing Assistant (MMBasic)</a> &raquo; <a href="MMBasic.vmndlbrot-bas-part-of-the-original-MMBasic-library.html" title="vmndlbrot.bas (MMBasic)">vmndlbrot.bas (MMBasic)</a> &raquo; <a href="MMBasic.Simple-screen-Control-for-ANSI-based-Consoles-VT100-etc.html" title="VT Console Pack. Screen Positioning, Sane Key Scanning And a String Editing Routine (MMBasic)" onmouseover="javascript:return __ShowDropDown(event, 'f9aa12699-7a2e-4e71-adf0-ccc7cda3fbe7', this);" id="lnkf9aa12699-7a2e-4e71-adf0-ccc7cda3fbe7" onmouseout="javascript:return __HideDropDown('f9aa12699-7a2e-4e71-adf0-ccc7cda3fbe7');">VT Console Pack. Screen Positioning, Sane Key Scanning And a String Editing Routine (MMBasic)</a> &raquo; <a href="MMBasic.Xmodem-CRC.html" title="Xmodem CRC (MMBasic)">Xmodem CRC (MMBasic)</a> &raquo; <a href="MMBasic.ZPad-pad-a-number-with-leading-zeroes.html" title="ZPad$() - pad a number with leading zeroes (MMBasic)" onmouseover="javascript:return __ShowDropDown(event, 'f492c9e35-7171-4a46-b956-5753a184900b', this);" id="lnkf492c9e35-7171-4a46-b956-5753a184900b" onmouseout="javascript:return __HideDropDown('f492c9e35-7171-4a46-b956-5753a184900b');">ZPad$() - pad a number with leading zeroes (MMBasic)</a> &raquo; <a href="Creating-and-Editing-Pages-on-Fruit-of-the-Shed.html" title="Creating and Editing Pages on Fruit of the Shed">Creating and Editing Pages on Fruit of the Shed</a> &raquo; <a href="Circuit%20Ideas.MainPage.html" title="_Main Page (Circuit Ideas)">_Main Page (Circuit Ideas)</a> &raquo; <a href="Circuit%20Ideas.Simple-Serial-Console-Connection.html" title="Simple Serial Console Connection (Circuit Ideas)">Simple Serial Console Connection (Circuit Ideas)</a> &raquo; <a href="Circuit%20Ideas.7490-The-forgotten-divider.html" title="7490 The forgotten counter/divider  (Circuit Ideas)">7490 The forgotten counter/divider  (Circuit Ideas)</a> &raquo; <b><a href="Circuit%20Ideas.Random-Bit-Generator-for-cryptographic-strength-random-numbers.html" title="Random Bit Generator for cryptographic strength random numbers (Circuit Ideas)" onmouseover="javascript:return __ShowDropDown(event, 'f880988b7-ef18-4c6e-be53-16ec1ec93605', this);" id="lnkf880988b7-ef18-4c6e-be53-16ec1ec93605" onmouseout="javascript:return __HideDropDown('f880988b7-ef18-4c6e-be53-16ec1ec93605');">Random Bit Generator for cryptographic strength random numbers (Circuit Ideas)</a></b> </div></div>
		
		
	
	</div>
	
	<div id="PageContentDiv">
		Randomness is one of the great mathematical and philosophical challenges of our times, up there with infinity and quanta. If you are interested/curious about randomness and its properties, check out this site <a class="externallink" href="https://www.random.org/randomness/" title="https://www.random.org/randomness/" target="_blank">https://www.random.org/randomness/</a>. <br /><br />One assured way of generating randomness is by sampling natural phenomena - CloudFlare, an internet services provider, actually uses a bank of <a class="externallink" href="https://www.cloudflare.com/learning/ssl/lava-lamp-encryption/" title="lava-lamps" target="_blank">lava-lamps</a>. Images are captured and processed, and the  position of the lava is used to provide a seed and salt for their random number generation. One day, we may finally understand the quantum universe only to discover nothing is indeterminable, but for now we'll assume it is.<br /><br />From a security point of view, really strong encryption needs a random element added to hashes called SALTing. The salt should never be re-used or fixed, so ideally you use a random generator to create a new salt each time.<br /><br />The problem with TRUE random is it is actually <i>very</i> difficult to achieve and programmers often resort to methods like setting the seed for their pet RNG to the time or similar. This might seem to be a good approach but most RND() functions use a logic algorithm to generate what <i>seems</i> to be random but are actually part of a long sequence of a few million numbers. Modern computers can storm through them to find your starting point in the sequence in seconds and then your salt is useless. If you are stuck with such a pseudo-random generator (PRNG), try to seed it with something as ransom as possible, un-guessable (non-deterministic). Sampling the analogue value on a floating pin, the bytes throughput on a network connection etc. is quite good and such a precaution can bring a PRNG close to the realms of True random generators (TRNG).<br /><br />You can prove all this to yourself; in your favourite language, set the random seed to a fixed value then use the RND() function to obtain a random value. Repeat. The RND() value is the same each time - you are seeing the sequence here at work and once your start point is determined, the following numbers are entirely predictable. <br /><br /><pre>

'VB Random test
    Randomize 50000
    Debug.Print Rnd&#42;100000
    Randomize 50000
    Debug.Print Rnd&#42;100000
    Randomize 50000
    Debug.Print Rnd&#42;100000

</pre><br />Randomizing on a timer will produce a different result each time (likely) but because each RND() number is from a sequence, it is crack-able - no matter where you start in it. RANDOMIZE only chooses the start point. As an aside here, it is entirely plausible that a seeded PRNG might want to generate the same numbers each time - don't assume that "random" has to be true random for every application.<br /><br />Modern languages on servers and PCs do have methods to generate cryptographically strong numbers and processors are now appearing that have true random generators fabbed onto the chip (probably using a solution similar to that described below). There is an application in the world of low-end microcontrollers too - hence this article. PIC32MZ microcontrollers do have a true RNG on the chip and MMBasic for MMX uses this for its RND() function - and correspondingly has no RANDOMIZE statement (because there is no "list" in which to choose your starting point). Not much point in you reading further if you are working with an MMX!<br /><br />There is a really good article on salting here: <a class="externallink" href="https://crackstation.net/hashing-security.htm" title="https://crackstation.net/hashing-security.htm" target="_blank">https://crackstation.net/hashing-security.htm</a> with rights and wrongs.<br /><br />Usually, to generate a random number, you sample a number of bits and gradually left-shift the result into a variable - one bit at a time. If you want a simple number that will probably be good enough but to support RND() of high-level languages, you need to do a bit more processing. RND() is a fractional value in the range 0<=n<1 - so it can be zero but cannot be 1 - any decimal number in between is fine. The algorithm for converting your random number to RND() is as follows:<br /><br /><ul><li>Get n bits as your random number and call it t</li><li>Divide 1 by 2^n</li><li>multiply by t<br /></li></ul><br />so in a basic language it might be<br /><pre>
 n=16           ' get 16 bits
 v=GetRandom(n) ' v is the returned random value
 t=1/(2^n)&#42;v    ' true random is now in the range 0&lt;=t&lt;1</pre><br />to Illustrate, let's assume 16 bits; <br />2^16=6553<u>6</u>. However the maximum value that can be held in 16 bits is 6553<u>5</u> <br />So, 1/65536=0.0000152588<br />multiplied by 65535 is 0.999985<br />Thus we have satisfied the requirement that RND() can never quite reach 1 and is now in a fit state to be multiplied by any factor to place the random number in whatever range you choose in the usual manner. Obviously the more bits you return, the greater the granularity but also the slower the function. Choose a number that works for your application - if you only need a yes or no answer then fetching 1 bit will work fine and RND() will either be 0 or 0.5<br /><br />The circuit below generates a continuous stream of bits (1 or 0) from a <a class="externallink" href="https://en.wikipedia.org/wiki/White_noise" title="white noise" target="_blank">white noise</a> generator and you simply sample as many bits as you need. So if you want a 16 bit random, you sample it 16 times... This makes it really simple to interface to a microcontroller requiring just a single input pin and some software. The noise is truly random - it comes from the (as yet) indeterminable quantum effects of electrons falling through a silicon PN junction. The different arrival times on the other side (and associated rapid change in electrical potential) produce spikes which vary according to the number of electrons falling through at any one time. This is a form of <a class="externallink" href="https://en.wikipedia.org/wiki/Shot_noise" title="Shot Noise" target="_blank">Shot Noise</a> and there is no pattern. Here is example code; <a class="pagelink" href="MMBasic.True-Random-Generator-companion-code-for-circuit.html" title="True Random Generator (companion code for circuit)">True Random Generator (companion code for circuit)</a>. Diligent trimming will be required to avoid a noise source that is biased one way or the other - it is really difficult to get proper random :o/ There are computational methods to remove bias, <a class="externallink" href="https://en.wikipedia.org/wiki/Hardware_random_number_generator#Dealing_with_bias" title="Software Whitening" target="_blank">Software Whitening</a> is one but it can be intensive and require much re-sampling with very badly biased input.<br /><br />There are loads of white noise generator circuits on the web and you don't have to use what I did. There are also some nice digital solutions but they tend not to be true random, again just a sequence. Have a look at this one <a class="externallink" href="http://electricdruid.net/white-noise-source" title="http://electricdruid.net/white-noise-source" target="_blank">http://electricdruid.net/white-noise-source</a> which you could use to sample directly and avoid all the analogue stuff below. It is good for 40,000 samples/sec for 142 million years before the sequence repeats! Not true random but big enough that it would be very difficult to find the start in a sequence of 179 million, trillion (179,124,480,000,000,000,000) bits. The start point is not settable so any crack attempt would still have the advantage of knowing the sequence started sometime in, say, the last five years (since last powered-on) which; cryptographically speaking, shortens the odds. <br /><br />The circuit is quite straightforward and relies on a zener diode in "avalanche" - i.e. the PN junction has been forced to conduct "backwards" and so broken down. Zeners are a form of diode that utilise this phenomenon to create very specific points at which this breakdown occurs, so they can be used for voltage references etc. Due to the breakdown, a Zener diode is a noisy little beast while in avalanche. By siphoning off this noise through a capacitor and amplifying it (a lot) we get a pretty strong noise signal. <br /><br />So you need a good noise source - ordinarily this circuit would be typical.<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="noisegenc15a.gif?File=/MMBasic/noisegen.gif" alt="Image" /><br /><br />...but while playing with it (and it was noisy with about 1MHz hoot - which is fine) a strange noise pulse-train was occurring at about 40mS intervals. I tried to isolate it but with no luck (yet). I suspect the zener I was using wasn't happy at the low voltages and was "surging" in some manner.<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="Znoise69ec.jpg?File=/MMBasic/Znoise.jpg" alt="Image" /><br /><br />You can see the main trace has a lot of noise at about 60mV but also a band of hi-amplitude noise way off the scale - you can also see this band is a composite of lots of spikes - which would be perfect if only the entire signal was made up of these. The problem is, this signal is no good because the main signal has to be amplified so we can just see its peaks, but then along comes this big splurge which will saturate the amplifier and produce a long train of 1's from the comparator which will unfairly bias the random... so not random at all, a big train of ones at 40mS intervals - Great. :o( Usually I spend a lot of time getting rid of noise, now I have noise on my noise... A way around this would be to bias the noise signal to 50% VCC - then the comparator (also set to centre on 50% VCC) wont' care too much about the signal only which side of the threshold it is. This way the noise signal can be as, err, noisy as it likes.<br /><br />Here is another noise generator (found via google search), this time using the base-emitter junction of a NPN transistor by forcing it into avalanche - pretty much any small signal transistor will do, 2N3904, 2N4124, BC107 etc... This is likely to be destructive over time and you may find that using the transistor in the "wrong" way like this means you'll have to repair the noise generator in the future (Zeners are manufactured so as not to be damaged over time in this method of use). The second transistor is a pre-amplifier to bring the noise to levels that can be used in your main amplifier stage.<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="TNoise3c3c.gif?File=/CircuitIdeas/TNoise.gif" alt="Image" /><br /><br />Assuming then you have a good solid noise signal, it is fed (after being amplified) into a comparator which toggles its output depending on whether the input is above or below a threshold. This is then input to your microcontroller. Normally circuit designs go to a lot of trouble to eliminate noise, here we actively seek it. Here is the business end of the random bit generation.<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="noisegen26817.gif?File=/MMBasic/noisegen2.gif" alt="Image" /><br /><br />The trimmers can be set to give the amplification of the noise, and then to set the threshold at which the output toggles. Using an oscilloscope, monitor the output of the first OpAmp to get your noise signal as big as you can without it clipping (flat bits at the top of the waveform) and try to trim for even signal distribution. Write a small prog for your microcontroller to continually monitor the input pin and print either 1 or 0 depending on the input. Adjust the second trimmer so the stream of 1's and 0's doesn't seem to be overly biased towards one or the other and that is it. This will also demonstrate if your noise frequency is too low (lots of groups of digits, seldom on their own).<br /><br /><br /><br />
	</div>
	
	
	
	<div id="PageAttachmentsDiv" style="position: absolute; left: 10000px;">
		
    </div>
    
    <div id="AdminToolsDiv" style="position: absolute; left: 10000px;">
		
		
		
    </div>
    
    <script type="text/javascript">
    <!--
    	function __RepositionDiv(link, element) {
    		var absPos = __AbsolutePosition(link);
    		var elemAbsPos = __AbsolutePosition(element);

    		element.style["top"] = (absPos.top + absPos.height) + "px";
    		element.style["left"] = (absPos.left - (elemAbsPos.width - absPos.width)) + "px";
    		element.style["position"] = "absolute";
    	}

		// Hide attachments and admin tools divs
    	// This is needed because __RepositionDiv cannot calculate the width of the element when it's hidden
    	var __elem = document.getElementById("PageAttachmentsDiv");
    	if(document.getElementById("PageAttachmentsLink")) {
    		__RepositionDiv(document.getElementById("PageAttachmentsLink"), __elem);
    	}
    	__elem.style["display"] = "none";

    	__elem = document.getElementById("AdminToolsDiv");
    	if(document.getElementById("AdminToolsLink")) {
    		__RepositionDiv(document.getElementById("AdminToolsLink"), __elem);
    	}
    	__elem.style["display"] = "none";

    	__InitBCT();
    // -->
    </script>


                <div id="PageInternalFooterDiv"></div>
                <div id="MainFooterDiv">
                    <!-- Used for layout purposes only -->
                </div>
            </div>

        </div>
            
        <div id="FooterDiv">
             
        </div>

    </form>  
</body>

<!-- Mirrored from fruitoftheshed.com/Circuit%20Ideas.Random-Bit-Generator-for-cryptographic-strength-random-numbers.ashx?NS=Circuit%20Ideas by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:56:38 GMT -->
</html>
