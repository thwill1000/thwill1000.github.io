

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" >

<!-- Mirrored from fruitoftheshed.com/Platform Agnostic.Print.aspx?Page=Platform%20Agnostic.A-Brief-Introduction-to-State-Machine-Methodology by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:36:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><title>
	A Brief Introduction to State Machine Methodology... - Fruit Of The Shed
</title><link rel="stylesheet" type="text/css" href="Themes/Print.css" /></head>
<body>
    <form name="frmPrint" method="post" action="http://fruitoftheshed.com/Print.aspx?NS=Platform+Agnostic&amp;Page=Platform+Agnostic.A-Brief-Introduction-to-State-Machine-Methodology" id="frmPrint">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTIwMDg4Njc4MjcPZBYCAgEPZBYCAgEPFgIeBFRleHQFuBk8aDEgY2xhc3M9InBhZ2V0aXRsZSI+QSBCcmllZiBJbnRyb2R1Y3Rpb24gdG8gU3RhdGUgTWFjaGluZSBNZXRob2RvbG9neS4uLjwvaDE+PHNtYWxsPk1vZGlmaWVkIG9uIDIwMTkvMDUvMTMgMTU6MzEgYnkgQ2FwdGFpbkJvaW5nICZtZGFzaDsgQ2F0ZWdvcml6ZWQgYXM6IG1ldGhvZG9sb2d5PC9zbWFsbD48YnIgLz48YnIgLz4uLi4gYW5kIHdoeSB5b3Ugc2hvdWxkIHVzZSBpdC48YnIgLz48YnIgLz5BIDxhIGNsYXNzPSJleHRlcm5hbGxpbmsiIGhyZWY9Imh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpbml0ZS1zdGF0ZV9tYWNoaW5lIiB0aXRsZT0iU3RhdGUgTWFjaGluZSIgdGFyZ2V0PSJfYmxhbmsiPlN0YXRlIE1hY2hpbmU8L2E+IGlzIGEgbWF0aGVtYXRpY2FsIGNvbmNlcHQgd2hlcmVieSBhIHN5c3RlbSBpcyBkcml2ZW4gYnkgc3RpbXVsaSBhbmQgaXRzIHN0YXRlIGFsdGVycyBieSByZWFjdGluZyB0byB0aGVtLiBUaGUgY29uZGl0aW9uIG9mIHRoZSBzdGltdWxpIGluZGljYXRlcyB0aGUgc3RhdGUgb2YgdGhlIHN5c3RlbSBhdCBhbnkgcG9pbnQgaW4gdGltZS4gPGJyIC8+PGJyIC8+SW4gY29tcHV0aW5nLCBzdGF0ZSBtYWNoaW5lIG1ldGhvZG9sb2d5IGlzIGVtcGxveWVkIHRvIGdldCBhd2F5IGZyb20gaGF2aW5nIGEgdHJhZGl0aW9uYWxseSB0aWdodGx5IGludGVybG9ja2VkIHN5c3RlbSBpbiBmYXZvdXIgb2Ygb25lIHRoYXQgaXMgb25seSBhY3RpdmUgd2hlbiBhIHN0aW11bHVzIGlzIHJlY2VpdmVkOyBDaGFuZ2luZyBpdHMgInN0YXRlIiBkZXBlbmRpbmcgb24gdGhvc2Ugc3RpbXVsaS4gU3RpbXVsaSBjb3VsZCBiZSBJL08gcGlucywgYSBzcGVjaWZpYyBzdHJpbmcgb3IgbW9yZSBvZnRlbiwgZmxhZ3MuIFN1Y2ggYSBzeXN0ZW0gdGVuZHMgdG8gYmUgbG9vc2UtY291cGxlZCB0byBpdHMgdGFza3MgYW5kIHRodXMgZWFzaWVyIHRvIHByb2dyYW0gZm9yIG11bHRpcGxlIGFjdGlvbnMsIGVhY2ggYmVpbmcgc2VsZiBjb250YWluZWQgb2Z0ZW4gYXMgdGhlIGJvZHkgY29kZSBpbnNpZGUgYW4gSUYgdGVzdCBpbiB0aGUgbWFpbiB0aHJlYWQuPGJyIC8+PGJyIC8+QXMgYW4gZXhhbXBsZSwgY29uc2lkZXIgdGhlIGZvbGxvd2luZzo8YnIgLz48YnIgLz48cHJlPg0KRG8NCg0KSWYgVGhpc0ZsYWcgVGhlbg0KICBEb1RoaXNQcm9jZXNzDQpFbmRJZg0KDQpJZiBUaGF0RmxhZyBUaGVuDQogIERvVGhhdFByb2Nlc3MNCkVuZElmDQoNCi4uLmV0Yw0KDQpMb29wDQo8L3ByZT48YnIgLz5UaGUgTWFpbiBUaHJlYWQgc3BlbmRzIGFsbCBpdCdzIHRpbWUgemlwcGluZyBhcm91bmQgc2ltcGx5IGFuZCByYXBpZGx5IGNoZWNraW5nIGZsYWdzIGFuZCBvbmx5IHRha2luZyBhIHNlbGYtY29udGFpbmVkIGFjdGlvbiB3aGVuIGl0IGhhcyB0by4gSWYgdGhlIGNvZGUgaXMgc2ltcGxlIGVub3VnaCBhbmQgb25seSB1c2VkIGluIG9uZSBwbGFjZSwgdGhlbiBpdCBzaG91bGQgZXhpc3QgaW5zaWRlIHRoZSBJZi9FbmRJZiBibG9jaywgb3RoZXJ3aXNlIHdyaXRlIHRoZSBjb2RlIGluIGEgU3ViIHByb2dyYW0gYW5kIGNhbGwgdGhhdCBmcm9tIHRoZSBJZiBibG9jay48YnIgLz48YnIgLz5XaXRoIG1pY3JvLWNvbnRyb2xsZXJzIHlvdSBkb24ndCBvZnRlbiBoYXZlIGFuIE9wZXJhdGluZyBTeXN0ZW0gdG8gaGFuZGxlIHRoZSBDUFUgd2hlbiBpdCBpcyBpZGxlIC0geW91IGNvbnRyb2wgdGhlIENQVSBhdCBhIHZlcnkgbG93IGxldmVsLiBJbiBtb2Rlcm4gY29tcHV0ZXIgbGFuZ3VhZ2VzLCB0aGUgIm1haW4gbG9vcCIgd291bGQgYmUgYSBkb3JtYW50IHN0YXRlIGFuZCBhbiBldmVudCBoYW5kbGVyIHdvdWxkIHdha2UgeW91ciBwcm9ncmFtIHdoZW4gdGhlIHN0YXRlIG9mIHRoZSBzdGltdWxpIGNoYW5nZWQgKHlvdSBkb24ndCBoYXZlIHRvIGdpdmUgdGhlIENQVSBzb21ldGhpbmcgdG8gZG8gd2hpbGUgaXQgaXMgd2FpdGluZyBmb3IgYSBzdGF0ZSBjaGFuZ2UpLiBUaGlzIG1ha2VzIGFsbCBvZiB0aGUgcmVzb3VyY2VzICh3aGlsZSB0aGUgQ1BVIGlzbid0IGJ1c3kpIGF2YWlsYWJsZSB0byB0aGUgc3lzdGVtIGZvciBvdGhlciB0YXNrcy4gPGJyIC8+PGJyIC8+U3RhdGUgbWFjaGluZSB0ZWNobmlxdWVzIGFyZSBhIG1ham9yIHN0ZXAgdG93YXJkcyBldmVudC1kcml2ZW4gcHJvZ3JhbW1pbmcgb24gc3lzdGVtcyB0aGF0IGRvbid0IG5vcm1hbGx5IGhhdmUgaXQuIEl0IGNhbiBwcm92aWRlIGFuIGFsbW9zdCBtdWx0aS10YXNraW5nIGFwcGVhcmFuY2UgaW4gbWljcm8tY29udHJvbGxlcnMgYXMgc2VjdGlvbnMgb2YgY29kZSBleGVjdXRlIGFzeW5jaHJvbm91c2x5IHRvIG90aGVycywgc2lnbmFsaW5nIGFuZCBpbnRlcmxvY2tpbmcgd2l0aCBvdGhlciBwcm9jZXNzZXMgYnkgc2V0dGluZyBvciBjbGVhcmluZyBmbGFncyAtIGEgcHJvY2VzcyBjYWxsZWQgInNlbWFwaG9yZSIuIFRoZSBwcm9jZXNzIG9mIHNlbWFwaG9yZSBieSB0d2Vha2luZyBmbGFncyBnb2VzIGJhY2sgdG8gdGhlIGVhcmxpZXN0IENQVXMsIHdoZW4gYW4gYWN0aW9uIHdvdWxkIGJlIHRha2VuIGFzIGEgcmVzdWx0IG9mIG9uZSBwcm9jZXNzIHNpZ25hbGluZyBhIHNwZWNpZmljIHN0YXRlIHdoaWNoIHJlc3VsdGVkIGluIGFub3RoZXIgcHJvY2VzcyBkb2luZyBzb21ldGhpbmcgYWJvdXQgaXQuIEFsbCBDUFVzIHN1cHBvcnQgc2VtYXBob3JlcywgaWYgb25seSB3aXRoIGEgemVybyBvciBjYXJyeSBmbGFnIGluIHRoZSBzdGF0dXMgcmVnaXN0ZXIuIFRoaXMgd2FzIHdhcyBhIGdvb2Qgd2F5IHRvIHNpZ25hbCBmcm9tIGEgb25lIHNlY3Rpb24gb2YgY29kZSB0byBhbm90aGVyIHRoYXQgYSBkZWNpc2lvbiBuZWVkZWQgdG8gYmUgbWFkZS48YnIgLz48YnIgLz5TdGF0ZS1tYWNoaW5lIGNvZGUgbWFrZXMgZm9yIGVhc2lseSByZWFkYWJsZSBhbmQgbW9kaWZpYWJsZSBwcm9ncmFtcyBhcyBlYWNoIGFjdGlvbiBiZWNvbWVzIGFuIGF0b21pYyBzZWN0aW9uIG9mIGNvZGUgd2l0aCBhIGNsZWFybHkgaWRlbnRpZmlhYmxlIHRyaWdnZXIuIFlvdSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IGRpc3J1cHRpbmcgb3RoZXIgc2VjdGlvbnMgb2YgY29kZSBzbyBsb25nIGFzIGFueSBwcm9jZXNzIGhhbmRsZXMgaXRzIGlucHV0IHZhbHVlcyBhbmQgcHJvdmlkZXMgdGhlIGV4cGVjdGVkIG91dHB1dCB2YWx1ZXMuIEZsYWdzIGNhbiBiZSBzZXQgYnkgYW55IHNlY3Rpb24gb2YgY29kZSwgdHJpZ2dlcmluZyBhY3Rpdml0eSBmcm9tIGFueXdoZXJlIGluIHlvdXIgY29kZS4gPGJyIC8+ZGQzNGj6em1yTq2qEzzUow6Ih/Rh+g==" />
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="03CF0AB7" />
</div>
        <h1 class="pagetitle">A Brief Introduction to State Machine Methodology...</h1><small>Modified on 2019/05/13 15:31 by CaptainBoing &mdash; Categorized as: methodology</small><br /><br />... and why you should use it.<br /><br />A <a class="externallink" href="https://en.wikipedia.org/wiki/Finite-state_machine" title="State Machine" target="_blank">State Machine</a> is a mathematical concept whereby a system is driven by stimuli and its state alters by reacting to them. The condition of the stimuli indicates the state of the system at any point in time. <br /><br />In computing, state machine methodology is employed to get away from having a traditionally tightly interlocked system in favour of one that is only active when a stimulus is received; Changing its "state" depending on those stimuli. Stimuli could be I/O pins, a specific string or more often, flags. Such a system tends to be loose-coupled to its tasks and thus easier to program for multiple actions, each being self contained often as the body code inside an IF test in the main thread.<br /><br />As an example, consider the following:<br /><br /><pre>
Do

If ThisFlag Then
  DoThisProcess
EndIf

If ThatFlag Then
  DoThatProcess
EndIf

...etc

Loop
</pre><br />The Main Thread spends all it's time zipping around simply and rapidly checking flags and only taking a self-contained action when it has to. If the code is simple enough and only used in one place, then it should exist inside the If/EndIf block, otherwise write the code in a Sub program and call that from the If block.<br /><br />With micro-controllers you don't often have an Operating System to handle the CPU when it is idle - you control the CPU at a very low level. In modern computer languages, the "main loop" would be a dormant state and an event handler would wake your program when the state of the stimuli changed (you don't have to give the CPU something to do while it is waiting for a state change). This makes all of the resources (while the CPU isn't busy) available to the system for other tasks. <br /><br />State machine techniques are a major step towards event-driven programming on systems that don't normally have it. It can provide an almost multi-tasking appearance in micro-controllers as sections of code execute asynchronously to others, signaling and interlocking with other processes by setting or clearing flags - a process called "semaphore". The process of semaphore by tweaking flags goes back to the earliest CPUs, when an action would be taken as a result of one process signaling a specific state which resulted in another process doing something about it. All CPUs support semaphores, if only with a zero or carry flag in the status register. This was was a good way to signal from a one section of code to another that a decision needed to be made.<br /><br />State-machine code makes for easily readable and modifiable programs as each action becomes an atomic section of code with a clearly identifiable trigger. You don't have to worry about disrupting other sections of code so long as any process handles its input values and provides the expected output values. Flags can be set by any section of code, triggering activity from anywhere in your code. <br />
    </form>
</body>

<!-- Mirrored from fruitoftheshed.com/Platform Agnostic.Print.aspx?Page=Platform%20Agnostic.A-Brief-Introduction-to-State-Machine-Methodology by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:36:41 GMT -->
</html>
