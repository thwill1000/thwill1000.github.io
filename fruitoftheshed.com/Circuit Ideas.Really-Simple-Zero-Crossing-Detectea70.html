

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from fruitoftheshed.com/Circuit%20Ideas.Really-Simple-Zero-Crossing-Detect.ashx?NS=Circuit%20Ideas by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:56:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=8" /><title>
	Really Simple Zero Crossing Detect - Fruit Of The Shed
</title><script type="text/javascript" src="JS/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="JS/Scripts.js"></script>
<script type="text/javascript" src="JS/SearchHighlight.js"></script>
<link rel="stylesheet" media="print" href="Themes/Default/Print_Styles.css" type="text/css" />
<link rel="stylesheet" media="screen" href="Themes/Default/Screen_Styles%20-%20Copy.css" type="text/css" />
<link rel="stylesheet" media="screen" href="Themes/Default/Screen_Styles.css" type="text/css" />
<link rel="stylesheet" href="Themes/Editor.css" type="text/css" />
<link rel="search" href="searchf7b1.xml?OpenSearch=1" type="application/opensearchdescription+xml" title="Fruit Of The Shed - Search" /><script src="Themes/Default/Scripts.js" type="text/javascript"></script>
<link rel="shortcut icon" href="Themes/Default/Icon.ico" type="image/x-icon" />
</head>
<body>
    <form name="aspnetForm" method="post" action="http://fruitoftheshed.com/Default.aspx?Page=Really-Simple-Zero-Crossing-Detect&amp;NS=Circuit+Ideas" id="aspnetForm">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUJMTQ3NjA4MDI2D2QWAmYPZBYCAgEPZBYCAgkPZBYEAhsPDxYCHg1BbnRoZW1WaXNpYmxlaGRkAicPDxYCHgdWaXNpYmxlaGQWAmYPFgIeC18hSXRlbUNvdW50ZmRkL9X+pH8J+jB1IIJZx71WjgOrjyw=" />
</div>

<script type="text/javascript">
//<![CDATA[
var Anthem_FormID = "aspnetForm";
//]]>
</script>
<script src="WebResource3c0c.axd?d=wu8PDPV1hmKciPrhUAi9NEjQUBbOefrIXCaRPwGH8Q5jrvPZFuGbKmycL3GXDKGD1_JZ083oQl1Kpd_P7rg1V93MtYOS3Vb-0Eztmu5VDCWQxc7l0&amp;t=636158881040000000" type="text/javascript"></script>
<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="CA0B0334" />
</div>
		<script type="text/javascript">
<!--
__BaseName = "ctl00_CphMaster_";
__ConfirmMessage = "Are you sure you want to proceed?";
// -->
</script>
		<script type="text/javascript">
		<!--
			function __GetServerElementById(id) {
				return document.getElementById(__BaseName + id);
			}
			function __RequestConfirm() {
				return confirm(__ConfirmMessage);
			}
		// -->
		</script>
    
        <div id="HeaderDiv">
            <div style="float: right;">Welcome <a href="Circuit%20Ideas.Language.html" class="systemlink" title="Select your language">Guest</a>, you are in: <select class="namespacedropdown" onchange="javascript:var sel = this.value; document.location = (sel != '' ? (sel + '.') : '') + 'Default.aspx';"><option value="">&lt;root&gt;</option><option selected="selected" value="Circuit Ideas">Circuit Ideas</option><option value="Colour MaxiMite 2 (CMM2)">Colour MaxiMite 2 (CMM2)</option><option value="GCB">GCB</option><option value="MicroMite ArmMite and MMX Hardware">MicroMite ArmMite and MMX Hardware</option><option value="MMBasic">MMBasic</option><option value="PIC ASM">PIC ASM</option><option value="Platform Agnostic">Platform Agnostic</option></select> &bull; <a href="Circuit%20Ideas.Loginea3e.html?Redirect=http%3a%2f%2ffruitoftheshed.com%2fDefault.aspx%3fPage%3dReally-Simple-Zero-Crossing-Detect%26NS%3dCircuit%20Ideas" class="systemlink" title="Login">Login</a></div><h1>Fruit Of The Shed</h1>
        </div>
                   
        <div id="ContainerDiv">
                 
            <div id="SidebarDiv">
                <div id="SidebarHeaderDiv">
                    <!-- Used for layout purposes only -->
                </div>
                <div id="SidebarContentDiv">
                    <div style="float: right;"> </div><h3 class="separator">Navigation (Circuit Ideas)<a class="headeranchor" id="Navigation_NAMESPACE_0" href="#Navigation_NAMESPACE_0" title="Link to this Section">&#0182;</a></h3><ul><li><b><a class="pagelink" href="Circuit%20Ideas.MainPage.html" title="_Main Page">Main Page</a></b></li><li><a class="pagelink" href="MainPage.html" title="Home Page">Main Page (root)</a><br /></li></ul><br /><ul><li><a class="systemlink" href="Circuit%20Ideas.Simple-Serial-Console-Connectionea70.html" title="Random Page">Random Page</a></li><li><a class="systemlink" href="Circuit%20Ideas.AllPages.html" title="All Pages">All Pages</a><br /> </li><li><a class="systemlink" href="Login0182.html" title="Create a new Page">Create a new Page</a><br /></li></ul><br /><ul><li><a class="systemlink" href="Login0982.html" title="Administration">Administration</a></li><li><a class="systemlink" href="Circuit%20Ideas.Upload.html" title="File Management">File Management</a><br /></li></ul><br /><ul><li><a class="systemlink" href="Circuit%20Ideas.Register.html" title="My Account">My Account</a><br /></li></ul><br /><ul><li><a class="systemlink" href="Circuit%20Ideas.Register.html" title="Create Account">Create Account</a><br /></li></ul><br /><small><b>Search the wiki</b></small><br /><br /><script type="text/javascript"><!--
function _DoSearch_SB9bffed0da8f946919883d085c50b776f() { document.location = 'Circuit Ideas.Search.aspx?AllNamespaces=1&FilesAndAttachments=1&Query=' + encodeURI(document.getElementById('SB9bffed0da8f946919883d085c50b776f').value); }
// -->
</script><input class="txtsearchbox" type="text" id="SB9bffed0da8f946919883d085c50b776f" onkeydown="javascript:var keycode; if(window.event) keycode = event.keyCode; else keycode = event.which; if(keycode == 10 || keycode == 13) { _DoSearch_SB9bffed0da8f946919883d085c50b776f(); return false; }" /> <big><a href="#" onclick="javascript:_DoSearch_SB9bffed0da8f946919883d085c50b776f(); return false;">&raquo;</a></big><br /><br />
                </div>
                <div id="SidebarFooterDiv">
                    <!-- Used for layout purposes only -->
                </div>
            </div>
            <div id="MainDiv">
                <div id="MainHeaderDiv">
                    <!-- Used for layout purposes only -->
                </div>
                <div id="PageInternalHeaderDiv"></div>
                

    <script type="text/javascript">
    <!--
        function __ShowAllTrail() {
            try {
                document.getElementById("BreadcrumbsDivMin").style["display"] = "none";
                document.getElementById("BreadcrumbsDivAll").style["display"] = "";
                __SetStatus("1");
            }
            catch(ex) { }
            return false;
        }
        function __HideTrail() {
            try {
                document.getElementById("BreadcrumbsDivMin").style["display"] = "";
                document.getElementById("BreadcrumbsDivAll").style["display"] = "none";
                __SetStatus("0");
            }
            catch(ex) { }
            return false;
        }
        
        function __SetStatus(open) {
            __CreateCookie("ScrewTurnWikiBCT", open, 365);
        }
        function __GetStatus() {
            var value = __ReadCookie("ScrewTurnWikiBCT");
            if(value) return value;
            else return "0";
        }

        function __InitBCT() {
        	if(__GetStatus() == "1") {
        		__ShowAllTrail();
        	}
        }

        var __attachmentsMenuJustShown = false;
        var __adminToolsMenuJustShown = false;
        var __ie7Mode = false;

        function __ToggleAttachmentsMenu(cx, cy) {
        	var element = document.getElementById("PageAttachmentsDiv");
        	if(element) {
        		if(element.style["display"] == "none") {
        			element.style["display"] = "";
        			var pos = __AbsolutePosition(element);
        			if(pos.left - cx > 0) {
        				__ie7Mode = true;
        				element.style["position"] = "absolute";
        				element.style["top"] = cy + "px";
        				element.style["left"] = (cx - pos.width) + "px";
        			}
        			else {
        				__RepositionDiv(document.getElementById("PageAttachmentsLink"), element);
        			}
        			__attachmentsMenuJustShown = true;
        		}
        	}
        	return false;
        }
        function __HideAttachmentsMenu() {
        	var element = document.getElementById("PageAttachmentsDiv");
        	if(element && !__attachmentsMenuJustShown) {
        		element.style["display"] = "none";
        		if (__ie7Mode) element.style["left"] = "10000px";
        	}
        	__attachmentsMenuJustShown = false;
        	return true; // Needed to enabled next clicks' action (file download)
        }

        function __ToggleAdminToolsMenu(cx, cy) {
        	var element = document.getElementById("AdminToolsDiv");
        	if(element) {
        		if(element.style["display"] == "none") {
        			element.style["display"] = "";
        			var pos = __AbsolutePosition(element);
        			if(pos.left - cx > 0) {
        				__ie7Mode = true;
        				element.style["position"] = "absolute";
        				element.style["top"] = cy + "px";
        				element.style["left"] = (cx - pos.width) + "px";
        			}
        			else {
        				__RepositionDiv(document.getElementById("AdminToolsLink"), element);
        			}
        			__adminToolsMenuJustShown = true;
        		}
        	}
        	return false;
        }
        function __HideAdminToolsMenu() {
        	var element = document.getElementById("AdminToolsDiv");
        	if(element && !__adminToolsMenuJustShown) {
        		element.style["display"] = "none";
        		if(__ie7Mode) element.style["left"] = "10000px";
        	}
        	__adminToolsMenuJustShown = false;
        	return true; // Needed to enable next clicks' action (admin tools)
        }

        function __HideAllMenus() {
        	__HideAttachmentsMenu();
        	__HideAdminToolsMenu();
        }

        document.body.onclick = __HideAllMenus;

        function __AbsolutePosition(obj) {
        	var pos = null;
        	if(obj != null) {
        		pos = new Object();
        		pos.top = obj.offsetTop;
        		pos.left = obj.offsetLeft;
        		pos.width = obj.offsetWidth;
        		pos.height = obj.offsetHeight;

        		obj = obj.offsetParent;
        		while(obj != null) {
        			pos.top += obj.offsetTop;
        			pos.left += obj.offsetLeft;
        			obj = obj.offsetParent;
        		}
        	}
        	return pos;
        }

        var __showTimer = null;
        var __hideTimer = null;

        function __ShowDropDown(e, divId, parent) {
           	// Set a timer
        	// On mouse out, cancel the timer and start a 2nd timer that hides the menu
        	// When the 1st timer elapses
        	//   show the drop-down
        	//   on menu mouseover, cancel the 2nd timer
        	//   on menu mouse out, hide the menu
        	__showTimer = setTimeout('__ShowDropDownForReal(' + e.clientX + ', ' + e.clientY + ', "' + divId + '", "' + parent.id + '");', 200);
        }

        function __ShowDropDownForReal(cx, cy, divId, parentId) {
        	var pos = __AbsolutePosition(document.getElementById(parentId));
        	var menu = document.getElementById(divId);

			// This is needed to trick IE7 which, for some reason,
			// does not position the drop-down correctly with the new Default theme
        	if(pos.left - cx > 30) {
        		menu.style["display"] = "";
        		menu.style["position"] = "absolute";
        		menu.style["top"] = cy + "px";
        		menu.style["left"] = (cx - 10) + "px";
        	}
        	else {
        		menu.style["display"] = "";
        		menu.style["position"] = "absolute";
        		menu.style["top"] = (pos.top + pos.height) + "px";
        		menu.style["left"] = pos.left + "px";
        	}
        	__showTimer = null;
        }

        function __HideDropDown(divId) {
        	if(__showTimer) clearTimeout(__showTimer);
        	__hideTimer = setTimeout('__HideDropDownForReal("' + divId + '");', 200);
        }

        function __HideDropDownForReal(divId) {
        	document.getElementById(divId).style["display"] = "none";
        	__hideTimer = null;
        }

        function __CancelHideTimer() {
        	if(__hideTimer) clearTimeout(__hideTimer);
        }
        
    // -->
    </script>

	<a id="PageTop"></a>
	
	<div id="PageHeaderDiv">
	
		<!-- Change this to PageToolbarDiv -->
		<div id="EditHistoryLinkDiv">
			<a id="DiscussLink" title="Discuss" href="Circuit%20Ideas.Really-Simple-Zero-Crossing-Detect266d.html?Discuss=1">Discuss (1)</a>
			
			
			<a id="HistoryLink" title="View Page edit history" href="Circuit%20Ideas.History86ba.html?Page=Circuit%20Ideas.Really-Simple-Zero-Crossing-Detect">History</a>
			
			
			
			
			
		</div>
		
		<h1 class="pagetitle">
			
			Really Simple Zero Crossing Detect
			
		</h1>
		
		<div id="PrintLinkDiv">
			<a id="PrintLink" href="Circuit%20Ideas.Print86ba.html?Page=Circuit%20Ideas.Really-Simple-Zero-Crossing-Detect" title="Printer friendly version" target="_blank">Print</a>
		</div>
		
		<div id="RssLinkDiv">
			
		</div>
		
		<div id="EmailNotificationDiv">
			<span id="Anthem_ctl00_CphMaster_btnEmailNotification__"></span>
		</div>
		
		<div id="ctl00_CphMaster_pnlPageInfo">
	
			<div id="PageInfoDiv">
				<span id="ModificationSpan">
					Modified on 
					2021/10/25 08:39
				</span>
				<span id="AuthorSpan">
					 by 
					<a href="Circuit%20Ideas.Userb2ec.html?Username=hendy">CaptainBoing</a>
				</span>
				<span id="NavPathsSpan">
					
				</span>
				<span id="CategoriesSpan">
					Categorized as 
					<i><a href="Circuit%20Ideas.AllPagesb702.html?Cat=-" title="Uncategorized">Uncategorized</a></i>
				</span>
				
				<span id="PageDiscussionSpan">
					
					
				</span>
			</div>
		
</div>
		
		<div id="fd88e79f0-8bef-49ef-a401-91599eb52a1f" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('fd88e79f0-8bef-49ef-a401-91599eb52a1f');"></div><div id="fb6df04ae-d7fc-466e-b9af-80a8cddba8cb" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('fb6df04ae-d7fc-466e-b9af-80a8cddba8cb');"><a href="MMBasic.True-Random-Generator-companion-code-for-circuit.html" title="True Random Generator (companion code for circuit)">True Random Generator (companion code for circuit)</a></div><div id="f06d1392f-3692-44c7-bb4d-6b49e10f3aeb" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('f06d1392f-3692-44c7-bb4d-6b49e10f3aeb');"></div><div id="f6f464924-5612-42a1-bd06-16538738055b" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('f6f464924-5612-42a1-bd06-16538738055b');"></div><div id="f61d6d7bd-22fb-48a6-a979-95461db955fb" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('f61d6d7bd-22fb-48a6-a979-95461db955fb');"><a href="MMBasic.uFormat-and-StrE-provide-flexible-formatting-of-numeric-values.html" title="uFormat$() and StrE$() provide flexible formatting of numeric values">uFormat$() and StrE$() provide flexible formatting of numeric values</a></div><div id="f20769876-0599-4361-ba9d-4bb16fccdc00" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('f20769876-0599-4361-ba9d-4bb16fccdc00');"><a href="MMBasic.VB-Work-a-like-LTrim-and-RTRIM-Functions.html" title="LTrim and RTrim Functions (VB work-a-like)">LTrim and RTrim Functions (VB work-a-like)</a><a href="MMBasic.LTrim-RTrim-cFunctions.html" title="LTrim RTrim CFunctions">LTrim RTrim CFunctions</a><a href="MMBasic.String-editing-on-screen-for-VT-compatible-Terminals.html" title="String editing on-screen for VT compatible Terminals">String editing on-screen for VT compatible Terminals</a></div><div id="sf8f56f5d-16a0-4e9e-8a17-5d2dfa359f97" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('sf8f56f5d-16a0-4e9e-8a17-5d2dfa359f97');"></div><div id="s9571c8de-518e-46e9-bba6-91265a55ce59" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('s9571c8de-518e-46e9-bba6-91265a55ce59');"><a href="MMBasic.True-Random-Generator-companion-code-for-circuit.html" title="True Random Generator (companion code for circuit)">True Random Generator (companion code for circuit)</a></div><div id="sca865ca0-e97e-4842-bca0-187bd2a5688b" style="display: none;" class="pageoutgoinglinksmenu" onmouseover="javascript:return __CancelHideTimer();" onmouseout="javascript:return __HideDropDown('sca865ca0-e97e-4842-bca0-187bd2a5688b');"></div><div id="BreadcrumbsDiv"><div id="BreadcrumbsDivMin"><a href="#" onclick="javascript:return __ShowAllTrail();" title="Click here to view the complete Breadcrumbs Trail">(10)</a> &raquo; <a href="Circuit%20Ideas.7490-The-forgotten-divider.html" title="7490 The forgotten counter/divider  (Circuit Ideas)">7490 The forgotten counter/divider  (Circuit Ideas)</a> &raquo; <a href="Circuit%20Ideas.Random-Bit-Generator-for-cryptographic-strength-random-numbers.html" title="Random Bit Generator for cryptographic strength random numbers (Circuit Ideas)" onmouseover="javascript:return __ShowDropDown(event, 's9571c8de-518e-46e9-bba6-91265a55ce59', this);" id="lnks9571c8de-518e-46e9-bba6-91265a55ce59" onmouseout="javascript:return __HideDropDown('s9571c8de-518e-46e9-bba6-91265a55ce59');">Random Bit Generator for cryptographic strength random numbers (Circuit Ideas)</a> &raquo; <b><a href="Circuit%20Ideas.Really-Simple-Zero-Crossing-Detect.html" title="Really Simple Zero Crossing Detect (Circuit Ideas)">Really Simple Zero Crossing Detect (Circuit Ideas)</a></b> </div><div id="BreadcrumbsDivAll" style="display: none;"><a href="#" onclick="javascript:return __HideTrail();" title="Click here to hide the Breadcrumbs Trail">[X]</a> &raquo; <a href="MMBasic.vmndlbrot-bas-part-of-the-original-MMBasic-library.html" title="vmndlbrot.bas (MMBasic)">vmndlbrot.bas (MMBasic)</a> &raquo; <a href="MMBasic.Simple-screen-Control-for-ANSI-based-Consoles-VT100-etc.html" title="VT Console Pack. Screen Positioning, Sane Key Scanning And a String Editing Routine (MMBasic)" onmouseover="javascript:return __ShowDropDown(event, 'f20769876-0599-4361-ba9d-4bb16fccdc00', this);" id="lnkf20769876-0599-4361-ba9d-4bb16fccdc00" onmouseout="javascript:return __HideDropDown('f20769876-0599-4361-ba9d-4bb16fccdc00');">VT Console Pack. Screen Positioning, Sane Key Scanning And a String Editing Routine (MMBasic)</a> &raquo; <a href="MMBasic.Xmodem-CRC.html" title="Xmodem CRC (MMBasic)">Xmodem CRC (MMBasic)</a> &raquo; <a href="MMBasic.ZPad-pad-a-number-with-leading-zeroes.html" title="ZPad$() - pad a number with leading zeroes (MMBasic)" onmouseover="javascript:return __ShowDropDown(event, 'f61d6d7bd-22fb-48a6-a979-95461db955fb', this);" id="lnkf61d6d7bd-22fb-48a6-a979-95461db955fb" onmouseout="javascript:return __HideDropDown('f61d6d7bd-22fb-48a6-a979-95461db955fb');">ZPad$() - pad a number with leading zeroes (MMBasic)</a> &raquo; <a href="Creating-and-Editing-Pages-on-Fruit-of-the-Shed.html" title="Creating and Editing Pages on Fruit of the Shed">Creating and Editing Pages on Fruit of the Shed</a> &raquo; <a href="Circuit%20Ideas.MainPage.html" title="_Main Page (Circuit Ideas)">_Main Page (Circuit Ideas)</a> &raquo; <a href="Circuit%20Ideas.Simple-Serial-Console-Connection.html" title="Simple Serial Console Connection (Circuit Ideas)">Simple Serial Console Connection (Circuit Ideas)</a> &raquo; <a href="Circuit%20Ideas.7490-The-forgotten-divider.html" title="7490 The forgotten counter/divider  (Circuit Ideas)">7490 The forgotten counter/divider  (Circuit Ideas)</a> &raquo; <a href="Circuit%20Ideas.Random-Bit-Generator-for-cryptographic-strength-random-numbers.html" title="Random Bit Generator for cryptographic strength random numbers (Circuit Ideas)" onmouseover="javascript:return __ShowDropDown(event, 'fb6df04ae-d7fc-466e-b9af-80a8cddba8cb', this);" id="lnkfb6df04ae-d7fc-466e-b9af-80a8cddba8cb" onmouseout="javascript:return __HideDropDown('fb6df04ae-d7fc-466e-b9af-80a8cddba8cb');">Random Bit Generator for cryptographic strength random numbers (Circuit Ideas)</a> &raquo; <b><a href="Circuit%20Ideas.Really-Simple-Zero-Crossing-Detect.html" title="Really Simple Zero Crossing Detect (Circuit Ideas)">Really Simple Zero Crossing Detect (Circuit Ideas)</a></b> </div></div>
		
		
	
	</div>
	
	<div id="PageContentDiv">
		<b>!!! WARNING, THIS ARTCLE DEALS WITH POTENTIALLY LETHAL VOLTAGES !!!</b><br /><br />If you don't feel confident in doing this, best avoid trying unless you have a low power AC source (a transformer, signal generator etc...). You will need to lower the value of the input resistor accordingly to give about 2 to 2.5mA (R=V/I).<br /><br />Zero crossing detect circuits are used to indicate the point at which an AC signal swings from positive to negative (and vice versa) passing through its zero volt point (or within a few volts of it).<br /><br />This might be to allow the switching of current or audio at a nice place to prevent interference or surges etc. These are my thoughts on a really simple ZCD circuit which I got down to three components! <br /><br />Remember Mains AC is usually stated as <a class="externallink" href="https://en.wikipedia.org/wiki/Root_mean_square" title="RMS" target="_blank">RMS</a> (RMS is the equivalent DC voltage required to do the same work). This means you need to divide by 0.707 (square root of 2 divided by 2) to get the peak voltage you can expect on the input. <br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="../upload.wikimedia.org/wikipedia/commons/thumb/8/89/Sine_wave_voltages.svg/530px-Sine_wave_voltages.svg.png" alt="Image" /><br /><br />In the UK, mains is 240V RMS / 0.707 = 339V peak (50Hz), you can easily adjust for your mains supply.<br /><br />The circuit below works by illuminating the two LEDs in an optocoupler alternately. They need anything from about 1.8V upwards to start glowing. Once on, they force the transistors to drag the ZCDET output LO - which is for the majority of the half cycle. The practical up-shot of this is that when the LEDs are dark (the voltage at the input is between +1.8V and -1.8V) the ZCDET output goes HI, indicating the voltage at the input is (effectively) at zero and the AC voltage is passing through its zero volt point on the way to another half-cycle. Each LED is protected from high reverse voltage by its counterpart.<br /><br />The input resistor is 150KΩ which (339/150000) gives about 2.2mA, but (339*0.0022) 0.77W peak power dissipation! It won't, in reality, be that high because we are not constantly at that voltage (remember RMS) but be aware of these limitations - it is probably a good idea to over-design the circuit. For long term use you should be looking at a 1W resistor here - I didn't have a 150KΩ at 1W so for the sake of testing for a few minutes I used a 0.5W resistor. It does get noticeably warm during 10 minutes of use at 240V - <b>DON'T STICK YOUR FINGER ON THIS TO CHECK THE HEAT WITH THE POWER ON!!!</b> To spread the heat-load a little, you could split the single mains resistor into two or more. A 75K in the Live and another in the Neutral would serve the same purpose but now the heat is dissipated in a couple of resistors instead of a single body.<br /><br />Now, I know what you are thinking: That is a waste of energy, why not replace the resistor with a capacitor and use it's reactance to provide 150KΩ equivalent? (22nF will give us around 1.7mA, probably close enough to the ideal 2mA). The answer is two fold. <br />1. The idea was to use the minimum number of components. Using a capacitor while making the circuit a *lot* more energy efficient would require a 1KΩ resistor in series to limit our inrush current and a 1-5MΩ resistor (I always go for 2.2) across the capacitor to bleed an residual charge away when it is disconnected from the power; don't want any nasty 300V stings even from a small capacitor. <br />2. The current lead of such a capacitor causes false (early) triggering of the circuit. This means the ZC signal occurs when there could still be a considerable voltage present in the closing milliseconds of each half cycle. Besides not being ZCD, it could also cause weird actions of circuitry beyond - consider a triac drive circuit - it might trigger and then immediately self-extinguish as the real ZC point arrived and current stopped flowing MT1-MT2. <br />So a resistor it is, two less components and a perfect power factor.<br /><br />For the later tests I operated this with 20V P-P and it was good to 1KHz... the pulses tend to flatten out a lot above that. The edges on the pulse are fairly slow so I wouldn't recommend driving a MOSFET directly from this pulse (they get hot if not switched quickly due to RDSon changing slowly resulting in significant power being dissipated in the device). If you want faster edges on your pulse, you could feed the output into the base of a signal transistor forming a Darlington pair with the two in the opto-coupler. This transistor would "saturate" at about 0.6V which would sharpen the edge and make it much more responsive to the changing voltage - I haven't tried this though as I was more interested in getting a tiny component count. The best pulse shaping would be achieved with a Schmitt trigger device, something like a 74HC14 or straight into a Schmitt input on a micro-controller.<br /><br />If you are messing with high voltages, you want to protect your delicates... Choose an optocoupler with good isolation (the minimum voltage required to jump -in this case- from the LEDs to the transistors). The TLP521 range is ten times higher than normal UK mains.<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="tlp521-2b70d.jpg?File=/CircuitIdeas/tlp521-2.jpg" alt="Image" /><br /><br />Here's the simple schematic:<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="zcdf807.jpg?File=/CircuitIdeas/zcd.jpg" alt="Image" /><br /><br />and here is my quick knock-up on a breadboard<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="breadboard_small2b97.jpg?File=/CircuitIdeas/breadboard_small.jpg" alt="Image" /><br /><br />This produces a nice pulse of 800uS (Vcc=3.3v) and 1mS (Vcc=5v) - not exactly square but definitely good enough to be seen and not a terribly slow rise time -gets to 1v in 100uS. Even a 4MHz microcontroller shouldn't have too much trouble polling for the top 400uS of the pulse, you probably wouldn't need to "waste" an interrupt on it.<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="33a_smallfcb6.jpg?File=/CircuitIdeas/33a_small.jpg" alt="Image" /><br /><br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="5a_small089a.jpg?File=/CircuitIdeas/5a_small.jpg" alt="Image" /><br /><br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="33b_small6a02.jpg?File=/CircuitIdeas/33b_small.jpg" alt="Image" /><br /><br /><br />And here is a photo of the AC waveform and pulses added together (I had to do it like this because my camera exposure was too quick and wouldn't capture both traces). <br />The positive going edges of the pulses seem to occur around the +/-2v mark - which is to be expected from LEDs.<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="5b_smalldc01.jpg?File=/CircuitIdeas/5b_small.jpg" alt="Image" /><br /><br /><br /><br />
	</div>
	
	
	
	<div id="PageAttachmentsDiv" style="position: absolute; left: 10000px;">
		
    </div>
    
    <div id="AdminToolsDiv" style="position: absolute; left: 10000px;">
		
		
		
    </div>
    
    <script type="text/javascript">
    <!--
    	function __RepositionDiv(link, element) {
    		var absPos = __AbsolutePosition(link);
    		var elemAbsPos = __AbsolutePosition(element);

    		element.style["top"] = (absPos.top + absPos.height) + "px";
    		element.style["left"] = (absPos.left - (elemAbsPos.width - absPos.width)) + "px";
    		element.style["position"] = "absolute";
    	}

		// Hide attachments and admin tools divs
    	// This is needed because __RepositionDiv cannot calculate the width of the element when it's hidden
    	var __elem = document.getElementById("PageAttachmentsDiv");
    	if(document.getElementById("PageAttachmentsLink")) {
    		__RepositionDiv(document.getElementById("PageAttachmentsLink"), __elem);
    	}
    	__elem.style["display"] = "none";

    	__elem = document.getElementById("AdminToolsDiv");
    	if(document.getElementById("AdminToolsLink")) {
    		__RepositionDiv(document.getElementById("AdminToolsLink"), __elem);
    	}
    	__elem.style["display"] = "none";

    	__InitBCT();
    // -->
    </script>


                <div id="PageInternalFooterDiv"></div>
                <div id="MainFooterDiv">
                    <!-- Used for layout purposes only -->
                </div>
            </div>

        </div>
            
        <div id="FooterDiv">
             
        </div>

    </form>  
</body>

<!-- Mirrored from fruitoftheshed.com/Circuit%20Ideas.Really-Simple-Zero-Crossing-Detect.ashx?NS=Circuit%20Ideas by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:56:44 GMT -->
</html>
