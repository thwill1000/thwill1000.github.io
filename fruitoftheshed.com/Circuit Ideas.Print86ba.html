

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" >

<!-- Mirrored from fruitoftheshed.com/Circuit Ideas.Print.aspx?Page=Circuit%20Ideas.Really-Simple-Zero-Crossing-Detect by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:35:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><title>
	Really Simple Zero Crossing Detect - Fruit Of The Shed
</title><link rel="stylesheet" type="text/css" href="Themes/Print.css" /></head>
<body>
    <form name="frmPrint" method="post" action="http://fruitoftheshed.com/Print.aspx?NS=Circuit+Ideas&amp;Page=Circuit+Ideas.Really-Simple-Zero-Crossing-Detect" id="frmPrint">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTIwMDg4Njc4MjcPZBYCAgEPZBYCAgEPFgIeBFRleHQF9Dk8aDEgY2xhc3M9InBhZ2V0aXRsZSI+UmVhbGx5IFNpbXBsZSBaZXJvIENyb3NzaW5nIERldGVjdDwvaDE+PHNtYWxsPk1vZGlmaWVkIG9uIDIwMjEvMTAvMjUgMDg6MzkgYnkgQ2FwdGFpbkJvaW5nICZtZGFzaDsgQ2F0ZWdvcml6ZWQgYXM6IFVuY2F0ZWdvcml6ZWQ8L3NtYWxsPjxiciAvPjxiciAvPjxiPiEhISBXQVJOSU5HLCBUSElTIEFSVENMRSBERUFMUyBXSVRIIFBPVEVOVElBTExZIExFVEhBTCBWT0xUQUdFUyAhISE8L2I+PGJyIC8+PGJyIC8+SWYgeW91IGRvbid0IGZlZWwgY29uZmlkZW50IGluIGRvaW5nIHRoaXMsIGJlc3QgYXZvaWQgdHJ5aW5nIHVubGVzcyB5b3UgaGF2ZSBhIGxvdyBwb3dlciBBQyBzb3VyY2UgKGEgdHJhbnNmb3JtZXIsIHNpZ25hbCBnZW5lcmF0b3IgZXRjLi4uKS4gWW91IHdpbGwgbmVlZCB0byBsb3dlciB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IHJlc2lzdG9yIGFjY29yZGluZ2x5IHRvIGdpdmUgYWJvdXQgMiB0byAyLjVtQSAoUj1WL0kpLjxiciAvPjxiciAvPlplcm8gY3Jvc3NpbmcgZGV0ZWN0IGNpcmN1aXRzIGFyZSB1c2VkIHRvIGluZGljYXRlIHRoZSBwb2ludCBhdCB3aGljaCBhbiBBQyBzaWduYWwgc3dpbmdzIGZyb20gcG9zaXRpdmUgdG8gbmVnYXRpdmUgKGFuZCB2aWNlIHZlcnNhKSBwYXNzaW5nIHRocm91Z2ggaXRzIHplcm8gdm9sdCBwb2ludCAob3Igd2l0aGluIGEgZmV3IHZvbHRzIG9mIGl0KS48YnIgLz48YnIgLz5UaGlzIG1pZ2h0IGJlIHRvIGFsbG93IHRoZSBzd2l0Y2hpbmcgb2YgY3VycmVudCBvciBhdWRpbyBhdCBhIG5pY2UgcGxhY2UgdG8gcHJldmVudCBpbnRlcmZlcmVuY2Ugb3Igc3VyZ2VzIGV0Yy4gVGhlc2UgYXJlIG15IHRob3VnaHRzIG9uIGEgcmVhbGx5IHNpbXBsZSBaQ0QgY2lyY3VpdCB3aGljaCBJIGdvdCBkb3duIHRvIHRocmVlIGNvbXBvbmVudHMhIDxiciAvPjxiciAvPlJlbWVtYmVyIE1haW5zIEFDIGlzIHVzdWFsbHkgc3RhdGVkIGFzIDxhIGNsYXNzPSJleHRlcm5hbGxpbmsiIGhyZWY9Imh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Jvb3RfbWVhbl9zcXVhcmUiIHRpdGxlPSJSTVMiIHRhcmdldD0iX2JsYW5rIj5STVM8L2E+IChSTVMgaXMgdGhlIGVxdWl2YWxlbnQgREMgdm9sdGFnZSByZXF1aXJlZCB0byBkbyB0aGUgc2FtZSB3b3JrKS4gVGhpcyBtZWFucyB5b3UgbmVlZCB0byBkaXZpZGUgYnkgMC43MDcgKHNxdWFyZSByb290IG9mIDIgZGl2aWRlZCBieSAyKSB0byBnZXQgdGhlIHBlYWsgdm9sdGFnZSB5b3UgY2FuIGV4cGVjdCBvbiB0aGUgaW5wdXQuIDxiciAvPjxiciAvPjxhIGNsYXNzPSJ1bmtub3dubGluayIgaHJlZj0iQ2lyY3VpdCBJZGVhcy4uYXNoeCIgdGl0bGU9IkNpcmN1aXQgSWRlYXMuIj48L2E+PGltZyBzcmM9Imh0dHBzOi8vdXBsb2FkLndpa2ltZWRpYS5vcmcvd2lraXBlZGlhL2NvbW1vbnMvdGh1bWIvOC84OS9TaW5lX3dhdmVfdm9sdGFnZXMuc3ZnLzUzMHB4LVNpbmVfd2F2ZV92b2x0YWdlcy5zdmcucG5nIiBhbHQ9IkltYWdlIiAvPjxiciAvPjxiciAvPkluIHRoZSBVSywgbWFpbnMgaXMgMjQwViBSTVMgLyAwLjcwNyA9IDMzOVYgcGVhayAoNTBIeiksIHlvdSBjYW4gZWFzaWx5IGFkanVzdCBmb3IgeW91ciBtYWlucyBzdXBwbHkuPGJyIC8+PGJyIC8+VGhlIGNpcmN1aXQgYmVsb3cgd29ya3MgYnkgaWxsdW1pbmF0aW5nIHRoZSB0d28gTEVEcyBpbiBhbiBvcHRvY291cGxlciBhbHRlcm5hdGVseS4gVGhleSBuZWVkIGFueXRoaW5nIGZyb20gYWJvdXQgMS44ViB1cHdhcmRzIHRvIHN0YXJ0IGdsb3dpbmcuIE9uY2Ugb24sIHRoZXkgZm9yY2UgdGhlIHRyYW5zaXN0b3JzIHRvIGRyYWcgdGhlIFpDREVUIG91dHB1dCBMTyAtIHdoaWNoIGlzIGZvciB0aGUgbWFqb3JpdHkgb2YgdGhlIGhhbGYgY3ljbGUuIFRoZSBwcmFjdGljYWwgdXAtc2hvdCBvZiB0aGlzIGlzIHRoYXQgd2hlbiB0aGUgTEVEcyBhcmUgZGFyayAodGhlIHZvbHRhZ2UgYXQgdGhlIGlucHV0IGlzIGJldHdlZW4gKzEuOFYgYW5kIC0xLjhWKSB0aGUgWkNERVQgb3V0cHV0IGdvZXMgSEksIGluZGljYXRpbmcgdGhlIHZvbHRhZ2UgYXQgdGhlIGlucHV0IGlzIChlZmZlY3RpdmVseSkgYXQgemVybyBhbmQgdGhlIEFDIHZvbHRhZ2UgaXMgcGFzc2luZyB0aHJvdWdoIGl0cyB6ZXJvIHZvbHQgcG9pbnQgb24gdGhlIHdheSB0byBhbm90aGVyIGhhbGYtY3ljbGUuIEVhY2ggTEVEIGlzIHByb3RlY3RlZCBmcm9tIGhpZ2ggcmV2ZXJzZSB2b2x0YWdlIGJ5IGl0cyBjb3VudGVycGFydC48YnIgLz48YnIgLz5UaGUgaW5wdXQgcmVzaXN0b3IgaXMgMTUwS86pIHdoaWNoICgzMzkvMTUwMDAwKSBnaXZlcyBhYm91dCAyLjJtQSwgYnV0ICgzMzkqMC4wMDIyKSAwLjc3VyBwZWFrIHBvd2VyIGRpc3NpcGF0aW9uISBJdCB3b24ndCwgaW4gcmVhbGl0eSwgYmUgdGhhdCBoaWdoIGJlY2F1c2Ugd2UgYXJlIG5vdCBjb25zdGFudGx5IGF0IHRoYXQgdm9sdGFnZSAocmVtZW1iZXIgUk1TKSBidXQgYmUgYXdhcmUgb2YgdGhlc2UgbGltaXRhdGlvbnMgLSBpdCBpcyBwcm9iYWJseSBhIGdvb2QgaWRlYSB0byBvdmVyLWRlc2lnbiB0aGUgY2lyY3VpdC4gRm9yIGxvbmcgdGVybSB1c2UgeW91IHNob3VsZCBiZSBsb29raW5nIGF0IGEgMVcgcmVzaXN0b3IgaGVyZSAtIEkgZGlkbid0IGhhdmUgYSAxNTBLzqkgYXQgMVcgc28gZm9yIHRoZSBzYWtlIG9mIHRlc3RpbmcgZm9yIGEgZmV3IG1pbnV0ZXMgSSB1c2VkIGEgMC41VyByZXNpc3Rvci4gSXQgZG9lcyBnZXQgbm90aWNlYWJseSB3YXJtIGR1cmluZyAxMCBtaW51dGVzIG9mIHVzZSBhdCAyNDBWIC0gPGI+RE9OJ1QgU1RJQ0sgWU9VUiBGSU5HRVIgT04gVEhJUyBUTyBDSEVDSyBUSEUgSEVBVCBXSVRIIFRIRSBQT1dFUiBPTiEhITwvYj4gVG8gc3ByZWFkIHRoZSBoZWF0LWxvYWQgYSBsaXR0bGUsIHlvdSBjb3VsZCBzcGxpdCB0aGUgc2luZ2xlIG1haW5zIHJlc2lzdG9yIGludG8gdHdvIG9yIG1vcmUuIEEgNzVLIGluIHRoZSBMaXZlIGFuZCBhbm90aGVyIGluIHRoZSBOZXV0cmFsIHdvdWxkIHNlcnZlIHRoZSBzYW1lIHB1cnBvc2UgYnV0IG5vdyB0aGUgaGVhdCBpcyBkaXNzaXBhdGVkIGluIGEgY291cGxlIG9mIHJlc2lzdG9ycyBpbnN0ZWFkIG9mIGEgc2luZ2xlIGJvZHkuPGJyIC8+PGJyIC8+Tm93LCBJIGtub3cgd2hhdCB5b3UgYXJlIHRoaW5raW5nOiBUaGF0IGlzIGEgd2FzdGUgb2YgZW5lcmd5LCB3aHkgbm90IHJlcGxhY2UgdGhlIHJlc2lzdG9yIHdpdGggYSBjYXBhY2l0b3IgYW5kIHVzZSBpdCdzIHJlYWN0YW5jZSB0byBwcm92aWRlIDE1MEvOqSBlcXVpdmFsZW50PyAoMjJuRiB3aWxsIGdpdmUgdXMgYXJvdW5kIDEuN21BLCBwcm9iYWJseSBjbG9zZSBlbm91Z2ggdG8gdGhlIGlkZWFsIDJtQSkuIFRoZSBhbnN3ZXIgaXMgdHdvIGZvbGQuIDxiciAvPjEuIFRoZSBpZGVhIHdhcyB0byB1c2UgdGhlIG1pbmltdW0gbnVtYmVyIG9mIGNvbXBvbmVudHMuIFVzaW5nIGEgY2FwYWNpdG9yIHdoaWxlIG1ha2luZyB0aGUgY2lyY3VpdCBhICpsb3QqIG1vcmUgZW5lcmd5IGVmZmljaWVudCB3b3VsZCByZXF1aXJlIGEgMUvOqSByZXNpc3RvciBpbiBzZXJpZXMgdG8gbGltaXQgb3VyIGlucnVzaCBjdXJyZW50IGFuZCBhIDEtNU3OqSByZXNpc3RvciAoSSBhbHdheXMgZ28gZm9yIDIuMikgYWNyb3NzIHRoZSBjYXBhY2l0b3IgdG8gYmxlZWQgYW4gcmVzaWR1YWwgY2hhcmdlIGF3YXkgd2hlbiBpdCBpcyBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgcG93ZXI7IGRvbid0IHdhbnQgYW55IG5hc3R5IDMwMFYgc3RpbmdzIGV2ZW4gZnJvbSBhIHNtYWxsIGNhcGFjaXRvci4gPGJyIC8+Mi4gVGhlIGN1cnJlbnQgbGVhZCBvZiBzdWNoIGEgY2FwYWNpdG9yIGNhdXNlcyBmYWxzZSAoZWFybHkpIHRyaWdnZXJpbmcgb2YgdGhlIGNpcmN1aXQuIFRoaXMgbWVhbnMgdGhlIFpDIHNpZ25hbCBvY2N1cnMgd2hlbiB0aGVyZSBjb3VsZCBzdGlsbCBiZSBhIGNvbnNpZGVyYWJsZSB2b2x0YWdlIHByZXNlbnQgaW4gdGhlIGNsb3NpbmcgbWlsbGlzZWNvbmRzIG9mIGVhY2ggaGFsZiBjeWNsZS4gQmVzaWRlcyBub3QgYmVpbmcgWkNELCBpdCBjb3VsZCBhbHNvIGNhdXNlIHdlaXJkIGFjdGlvbnMgb2YgY2lyY3VpdHJ5IGJleW9uZCAtIGNvbnNpZGVyIGEgdHJpYWMgZHJpdmUgY2lyY3VpdCAtIGl0IG1pZ2h0IHRyaWdnZXIgYW5kIHRoZW4gaW1tZWRpYXRlbHkgc2VsZi1leHRpbmd1aXNoIGFzIHRoZSByZWFsIFpDIHBvaW50IGFycml2ZWQgYW5kIGN1cnJlbnQgc3RvcHBlZCBmbG93aW5nIE1UMS1NVDIuIDxiciAvPlNvIGEgcmVzaXN0b3IgaXQgaXMsIHR3byBsZXNzIGNvbXBvbmVudHMgYW5kIGEgcGVyZmVjdCBwb3dlciBmYWN0b3IuPGJyIC8+PGJyIC8+Rm9yIHRoZSBsYXRlciB0ZXN0cyBJIG9wZXJhdGVkIHRoaXMgd2l0aCAyMFYgUC1QIGFuZCBpdCB3YXMgZ29vZCB0byAxS0h6Li4uIHRoZSBwdWxzZXMgdGVuZCB0byBmbGF0dGVuIG91dCBhIGxvdCBhYm92ZSB0aGF0LiBUaGUgZWRnZXMgb24gdGhlIHB1bHNlIGFyZSBmYWlybHkgc2xvdyBzbyBJIHdvdWxkbid0IHJlY29tbWVuZCBkcml2aW5nIGEgTU9TRkVUIGRpcmVjdGx5IGZyb20gdGhpcyBwdWxzZSAodGhleSBnZXQgaG90IGlmIG5vdCBzd2l0Y2hlZCBxdWlja2x5IGR1ZSB0byBSRFNvbiBjaGFuZ2luZyBzbG93bHkgcmVzdWx0aW5nIGluIHNpZ25pZmljYW50IHBvd2VyIGJlaW5nIGRpc3NpcGF0ZWQgaW4gdGhlIGRldmljZSkuIElmIHlvdSB3YW50IGZhc3RlciBlZGdlcyBvbiB5b3VyIHB1bHNlLCB5b3UgY291bGQgZmVlZCB0aGUgb3V0cHV0IGludG8gdGhlIGJhc2Ugb2YgYSBzaWduYWwgdHJhbnNpc3RvciBmb3JtaW5nIGEgRGFybGluZ3RvbiBwYWlyIHdpdGggdGhlIHR3byBpbiB0aGUgb3B0by1jb3VwbGVyLiBUaGlzIHRyYW5zaXN0b3Igd291bGQgInNhdHVyYXRlIiBhdCBhYm91dCAwLjZWIHdoaWNoIHdvdWxkIHNoYXJwZW4gdGhlIGVkZ2UgYW5kIG1ha2UgaXQgbXVjaCBtb3JlIHJlc3BvbnNpdmUgdG8gdGhlIGNoYW5naW5nIHZvbHRhZ2UgLSBJIGhhdmVuJ3QgdHJpZWQgdGhpcyB0aG91Z2ggYXMgSSB3YXMgbW9yZSBpbnRlcmVzdGVkIGluIGdldHRpbmcgYSB0aW55IGNvbXBvbmVudCBjb3VudC4gVGhlIGJlc3QgcHVsc2Ugc2hhcGluZyB3b3VsZCBiZSBhY2hpZXZlZCB3aXRoIGEgU2NobWl0dCB0cmlnZ2VyIGRldmljZSwgc29tZXRoaW5nIGxpa2UgYSA3NEhDMTQgb3Igc3RyYWlnaHQgaW50byBhIFNjaG1pdHQgaW5wdXQgb24gYSBtaWNyby1jb250cm9sbGVyLjxiciAvPjxiciAvPklmIHlvdSBhcmUgbWVzc2luZyB3aXRoIGhpZ2ggdm9sdGFnZXMsIHlvdSB3YW50IHRvIHByb3RlY3QgeW91ciBkZWxpY2F0ZXMuLi4gQ2hvb3NlIGFuIG9wdG9jb3VwbGVyIHdpdGggZ29vZCBpc29sYXRpb24gKHRoZSBtaW5pbXVtIHZvbHRhZ2UgcmVxdWlyZWQgdG8ganVtcCAtaW4gdGhpcyBjYXNlLSBmcm9tIHRoZSBMRURzIHRvIHRoZSB0cmFuc2lzdG9ycykuIFRoZSBUTFA1MjEgcmFuZ2UgaXMgdGVuIHRpbWVzIGhpZ2hlciB0aGFuIG5vcm1hbCBVSyBtYWlucy48YnIgLz48YnIgLz48YSBjbGFzcz0idW5rbm93bmxpbmsiIGhyZWY9IkNpcmN1aXQgSWRlYXMuLmFzaHgiIHRpdGxlPSJDaXJjdWl0IElkZWFzLiI+PC9hPjxpbWcgc3JjPSJHZXRGaWxlLmFzcHg/RmlsZT0vQ2lyY3VpdElkZWFzL3RscDUyMS0yLmpwZyIgYWx0PSJJbWFnZSIgLz48YnIgLz48YnIgLz5IZXJlJ3MgdGhlIHNpbXBsZSBzY2hlbWF0aWM6PGJyIC8+PGJyIC8+PGEgY2xhc3M9InVua25vd25saW5rIiBocmVmPSJDaXJjdWl0IElkZWFzLi5hc2h4IiB0aXRsZT0iQ2lyY3VpdCBJZGVhcy4iPjwvYT48aW1nIHNyYz0iR2V0RmlsZS5hc3B4P0ZpbGU9L0NpcmN1aXRJZGVhcy96Y2QuanBnIiBhbHQ9IkltYWdlIiAvPjxiciAvPjxiciAvPmFuZCBoZXJlIGlzIG15IHF1aWNrIGtub2NrLXVwIG9uIGEgYnJlYWRib2FyZDxiciAvPjxiciAvPjxhIGNsYXNzPSJ1bmtub3dubGluayIgaHJlZj0iQ2lyY3VpdCBJZGVhcy4uYXNoeCIgdGl0bGU9IkNpcmN1aXQgSWRlYXMuIj48L2E+PGltZyBzcmM9IkdldEZpbGUuYXNweD9GaWxlPS9DaXJjdWl0SWRlYXMvYnJlYWRib2FyZF9zbWFsbC5qcGciIGFsdD0iSW1hZ2UiIC8+PGJyIC8+PGJyIC8+VGhpcyBwcm9kdWNlcyBhIG5pY2UgcHVsc2Ugb2YgODAwdVMgKFZjYz0zLjN2KSBhbmQgMW1TIChWY2M9NXYpIC0gbm90IGV4YWN0bHkgc3F1YXJlIGJ1dCBkZWZpbml0ZWx5IGdvb2QgZW5vdWdoIHRvIGJlIHNlZW4gYW5kIG5vdCBhIHRlcnJpYmx5IHNsb3cgcmlzZSB0aW1lIC1nZXRzIHRvIDF2IGluIDEwMHVTLiBFdmVuIGEgNE1IeiBtaWNyb2NvbnRyb2xsZXIgc2hvdWxkbid0IGhhdmUgdG9vIG11Y2ggdHJvdWJsZSBwb2xsaW5nIGZvciB0aGUgdG9wIDQwMHVTIG9mIHRoZSBwdWxzZSwgeW91IHByb2JhYmx5IHdvdWxkbid0IG5lZWQgdG8gIndhc3RlIiBhbiBpbnRlcnJ1cHQgb24gaXQuPGJyIC8+PGJyIC8+PGEgY2xhc3M9InVua25vd25saW5rIiBocmVmPSJDaXJjdWl0IElkZWFzLi5hc2h4IiB0aXRsZT0iQ2lyY3VpdCBJZGVhcy4iPjwvYT48aW1nIHNyYz0iR2V0RmlsZS5hc3B4P0ZpbGU9L0NpcmN1aXRJZGVhcy8zM2Ffc21hbGwuanBnIiBhbHQ9IkltYWdlIiAvPjxiciAvPjxiciAvPjxiciAvPjxhIGNsYXNzPSJ1bmtub3dubGluayIgaHJlZj0iQ2lyY3VpdCBJZGVhcy4uYXNoeCIgdGl0bGU9IkNpcmN1aXQgSWRlYXMuIj48L2E+PGltZyBzcmM9IkdldEZpbGUuYXNweD9GaWxlPS9DaXJjdWl0SWRlYXMvNWFfc21hbGwuanBnIiBhbHQ9IkltYWdlIiAvPjxiciAvPjxiciAvPjxiciAvPjxhIGNsYXNzPSJ1bmtub3dubGluayIgaHJlZj0iQ2lyY3VpdCBJZGVhcy4uYXNoeCIgdGl0bGU9IkNpcmN1aXQgSWRlYXMuIj48L2E+PGltZyBzcmM9IkdldEZpbGUuYXNweD9GaWxlPS9DaXJjdWl0SWRlYXMvMzNiX3NtYWxsLmpwZyIgYWx0PSJJbWFnZSIgLz48YnIgLz48YnIgLz48YnIgLz5BbmQgaGVyZSBpcyBhIHBob3RvIG9mIHRoZSBBQyB3YXZlZm9ybSBhbmQgcHVsc2VzIGFkZGVkIHRvZ2V0aGVyIChJIGhhZCB0byBkbyBpdCBsaWtlIHRoaXMgYmVjYXVzZSBteSBjYW1lcmEgZXhwb3N1cmUgd2FzIHRvbyBxdWljayBhbmQgd291bGRuJ3QgY2FwdHVyZSBib3RoIHRyYWNlcykuIDxiciAvPlRoZSBwb3NpdGl2ZSBnb2luZyBlZGdlcyBvZiB0aGUgcHVsc2VzIHNlZW0gdG8gb2NjdXIgYXJvdW5kIHRoZSArLy0ydiBtYXJrIC0gd2hpY2ggaXMgdG8gYmUgZXhwZWN0ZWQgZnJvbSBMRURzLjxiciAvPjxiciAvPjxhIGNsYXNzPSJ1bmtub3dubGluayIgaHJlZj0iQ2lyY3VpdCBJZGVhcy4uYXNoeCIgdGl0bGU9IkNpcmN1aXQgSWRlYXMuIj48L2E+PGltZyBzcmM9IkdldEZpbGUuYXNweD9GaWxlPS9DaXJjdWl0SWRlYXMvNWJfc21hbGwuanBnIiBhbHQ9IkltYWdlIiAvPjxiciAvPjxiciAvPjxiciAvPjxiciAvPmRk2bXC3qZmsAhLS0gKExa7CwIQzSE=" />
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="03CF0AB7" />
</div>
        <h1 class="pagetitle">Really Simple Zero Crossing Detect</h1><small>Modified on 2021/10/25 08:39 by CaptainBoing &mdash; Categorized as: Uncategorized</small><br /><br /><b>!!! WARNING, THIS ARTCLE DEALS WITH POTENTIALLY LETHAL VOLTAGES !!!</b><br /><br />If you don't feel confident in doing this, best avoid trying unless you have a low power AC source (a transformer, signal generator etc...). You will need to lower the value of the input resistor accordingly to give about 2 to 2.5mA (R=V/I).<br /><br />Zero crossing detect circuits are used to indicate the point at which an AC signal swings from positive to negative (and vice versa) passing through its zero volt point (or within a few volts of it).<br /><br />This might be to allow the switching of current or audio at a nice place to prevent interference or surges etc. These are my thoughts on a really simple ZCD circuit which I got down to three components! <br /><br />Remember Mains AC is usually stated as <a class="externallink" href="https://en.wikipedia.org/wiki/Root_mean_square" title="RMS" target="_blank">RMS</a> (RMS is the equivalent DC voltage required to do the same work). This means you need to divide by 0.707 (square root of 2 divided by 2) to get the peak voltage you can expect on the input. <br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="../upload.wikimedia.org/wikipedia/commons/thumb/8/89/Sine_wave_voltages.svg/530px-Sine_wave_voltages.svg.png" alt="Image" /><br /><br />In the UK, mains is 240V RMS / 0.707 = 339V peak (50Hz), you can easily adjust for your mains supply.<br /><br />The circuit below works by illuminating the two LEDs in an optocoupler alternately. They need anything from about 1.8V upwards to start glowing. Once on, they force the transistors to drag the ZCDET output LO - which is for the majority of the half cycle. The practical up-shot of this is that when the LEDs are dark (the voltage at the input is between +1.8V and -1.8V) the ZCDET output goes HI, indicating the voltage at the input is (effectively) at zero and the AC voltage is passing through its zero volt point on the way to another half-cycle. Each LED is protected from high reverse voltage by its counterpart.<br /><br />The input resistor is 150KΩ which (339/150000) gives about 2.2mA, but (339*0.0022) 0.77W peak power dissipation! It won't, in reality, be that high because we are not constantly at that voltage (remember RMS) but be aware of these limitations - it is probably a good idea to over-design the circuit. For long term use you should be looking at a 1W resistor here - I didn't have a 150KΩ at 1W so for the sake of testing for a few minutes I used a 0.5W resistor. It does get noticeably warm during 10 minutes of use at 240V - <b>DON'T STICK YOUR FINGER ON THIS TO CHECK THE HEAT WITH THE POWER ON!!!</b> To spread the heat-load a little, you could split the single mains resistor into two or more. A 75K in the Live and another in the Neutral would serve the same purpose but now the heat is dissipated in a couple of resistors instead of a single body.<br /><br />Now, I know what you are thinking: That is a waste of energy, why not replace the resistor with a capacitor and use it's reactance to provide 150KΩ equivalent? (22nF will give us around 1.7mA, probably close enough to the ideal 2mA). The answer is two fold. <br />1. The idea was to use the minimum number of components. Using a capacitor while making the circuit a *lot* more energy efficient would require a 1KΩ resistor in series to limit our inrush current and a 1-5MΩ resistor (I always go for 2.2) across the capacitor to bleed an residual charge away when it is disconnected from the power; don't want any nasty 300V stings even from a small capacitor. <br />2. The current lead of such a capacitor causes false (early) triggering of the circuit. This means the ZC signal occurs when there could still be a considerable voltage present in the closing milliseconds of each half cycle. Besides not being ZCD, it could also cause weird actions of circuitry beyond - consider a triac drive circuit - it might trigger and then immediately self-extinguish as the real ZC point arrived and current stopped flowing MT1-MT2. <br />So a resistor it is, two less components and a perfect power factor.<br /><br />For the later tests I operated this with 20V P-P and it was good to 1KHz... the pulses tend to flatten out a lot above that. The edges on the pulse are fairly slow so I wouldn't recommend driving a MOSFET directly from this pulse (they get hot if not switched quickly due to RDSon changing slowly resulting in significant power being dissipated in the device). If you want faster edges on your pulse, you could feed the output into the base of a signal transistor forming a Darlington pair with the two in the opto-coupler. This transistor would "saturate" at about 0.6V which would sharpen the edge and make it much more responsive to the changing voltage - I haven't tried this though as I was more interested in getting a tiny component count. The best pulse shaping would be achieved with a Schmitt trigger device, something like a 74HC14 or straight into a Schmitt input on a micro-controller.<br /><br />If you are messing with high voltages, you want to protect your delicates... Choose an optocoupler with good isolation (the minimum voltage required to jump -in this case- from the LEDs to the transistors). The TLP521 range is ten times higher than normal UK mains.<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="tlp521-2b70d.jpg?File=/CircuitIdeas/tlp521-2.jpg" alt="Image" /><br /><br />Here's the simple schematic:<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="zcdf807.jpg?File=/CircuitIdeas/zcd.jpg" alt="Image" /><br /><br />and here is my quick knock-up on a breadboard<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="breadboard_small2b97.jpg?File=/CircuitIdeas/breadboard_small.jpg" alt="Image" /><br /><br />This produces a nice pulse of 800uS (Vcc=3.3v) and 1mS (Vcc=5v) - not exactly square but definitely good enough to be seen and not a terribly slow rise time -gets to 1v in 100uS. Even a 4MHz microcontroller shouldn't have too much trouble polling for the top 400uS of the pulse, you probably wouldn't need to "waste" an interrupt on it.<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="33a_smallfcb6.jpg?File=/CircuitIdeas/33a_small.jpg" alt="Image" /><br /><br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="5a_small089a.jpg?File=/CircuitIdeas/5a_small.jpg" alt="Image" /><br /><br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="33b_small6a02.jpg?File=/CircuitIdeas/33b_small.jpg" alt="Image" /><br /><br /><br />And here is a photo of the AC waveform and pulses added together (I had to do it like this because my camera exposure was too quick and wouldn't capture both traces). <br />The positive going edges of the pulses seem to occur around the +/-2v mark - which is to be expected from LEDs.<br /><br /><a class="unknownlink" href="Circuit%20Ideas..html" title="Circuit Ideas."></a><img src="5b_smalldc01.jpg?File=/CircuitIdeas/5b_small.jpg" alt="Image" /><br /><br /><br /><br />
    </form>
</body>

<!-- Mirrored from fruitoftheshed.com/Circuit Ideas.Print.aspx?Page=Circuit%20Ideas.Really-Simple-Zero-Crossing-Detect by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:35:58 GMT -->
</html>
