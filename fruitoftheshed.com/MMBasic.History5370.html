

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from fruitoftheshed.com/MMBasic.History.aspx?Page=MMBasic.Micromite-SMS-Text-Gateway&Revision=0 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:53:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=8" /><title>
	Page History - Fruit Of The Shed
</title><script type="text/javascript" src="JS/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="JS/Scripts.js"></script>
<script type="text/javascript" src="JS/SearchHighlight.js"></script>
<link rel="stylesheet" media="print" href="Themes/Default/Print_Styles.css" type="text/css" />
<link rel="stylesheet" media="screen" href="Themes/Default/Screen_Styles%20-%20Copy.css" type="text/css" />
<link rel="stylesheet" media="screen" href="Themes/Default/Screen_Styles.css" type="text/css" />
<link rel="stylesheet" href="Themes/Editor.css" type="text/css" />
<link rel="search" href="searchf7b1.xml?OpenSearch=1" type="application/opensearchdescription+xml" title="Fruit Of The Shed - Search" /><script src="Themes/Default/Scripts.js" type="text/javascript"></script>
<link rel="shortcut icon" href="Themes/Default/Icon.ico" type="image/x-icon" />
</head>
<body>
    <form name="aspnetForm" method="post" action="http://fruitoftheshed.com/History.aspx?NS=MMBasic&amp;Page=MMBasic.Micromite-SMS-Text-Gateway&amp;Revision=0" id="aspnetForm">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTEzMjI3OTE2NTkPZBYCZg9kFgICAQ9kFgICCQ9kFggCAQ8WAh4EVGV4dAUwUGFnZSBIaXN0b3J5OiBTTVMgKFRleHQpIEdhdGV3YXkgd2l0aCBNaWNyb01pdGUgZAIFDxBkEBUBATAVAQEwFCsDAWdkZAIHDxBkEBUCB0N1cnJlbnQBMBUCB0N1cnJlbnQBMBQrAwJnZ2RkAgsPFgIfAAWI4wE8dGFibGUgY2xhc3M9ImJveCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIj48dHI+PHRkPjxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48Yj4mbGFxdW87IE9sZGVyIFJldmlzaW9uIC0gPGEgaHJlZj0iTU1CYXNpYy5IaXN0b3J5LmFzcHg/UGFnZT1NTUJhc2ljLk1pY3JvbWl0ZS1TTVMtVGV4dC1HYXRld2F5Ij5CYWNrIHRvIFBhZ2UgSGlzdG9yeTwvYT4gLSA8YSBocmVmPSJNTUJhc2ljLk1pY3JvbWl0ZS1TTVMtVGV4dC1HYXRld2F5LmFzaHgiPkN1cnJlbnQgUmV2aXNpb248L2E+PC9iPjwvcD48L3RkPjwvdHI+PC90YWJsZT48YnIgLz48aDMgY2xhc3M9InNlcGFyYXRvciI+UGFnZSBSZXZpc2lvbjogMjAxNi8xMi8yOCAwNzo0OTwvaDM+PGJyIC8+VGhpcyBTTVMgZ2F0ZXdheSBhdHRhY2hlcyB0byB5b3VyIExBTiB2aWEgV2lGaSAoV2FudCB0byBwcm92aWRlIHdpcmVkIExBTiB0aHJvdWdoIEVOQzI4SjYwIG9uZSBkYXkpLiBJdCB0YWtlcyBhIFNJTSBjYXJkIGZvciB5b3VyIGZhdm91cml0ZSBHU00gb3BlcmF0b3IgYW5kIGNvbm5lY3RzIHRvIHRoYXQgbW9iaWxlIG5ldHdvcmsuIEl0IHRoZW4gYnJpZGdlcyB0aGUgdHdvIGFuZCBwZXJtaXRzIG1lc3NhZ2VzIHRvIGJlIHBhc3NlZCBiZXR3ZWVuIHRoZW0uIFNlY3VyaXR5IGlzIHByZXR0eSBsb3cgYXQgdGhlIG1vbWVudCwgYnV0IGZpcmV3YWxsIGV4dGVybmFsIGFjY2VzcyBmb3Igbm93LiA8YnIgLz48YnIgLz5Qcm9ncmFtLXdpc2UsIHRoZXJlIGlzIG5vdGhpbmcgZXhvdGljIGFib3V0IGl0IC0gbm8gQ0Z1bmN0aW9ucyBvciBhbnl0aGluZywgaXQgaXMgYSBnb29kIGRlbW9uc3RyYXRpb24gb2YgdXNpbmcgdGhlIGJ1aWxkaW5nIGJsb2NrcyBpbiBNTUJhc2ljIHRvIHByb3ZpZGUgYW4gaW50ZWxsaWdlbnQgKGFuZCBmb3IgbWUpIHJlYWxseSB1c2VmdWwgdG9vbCB0aGF0IHNlZXMgZGFpbHkgdXNlLiBJdCByZXByZXNlbnRzIGFib3V0IHR3byBtb250aHMgb2YgZXZvbHZpbmcgY29kZSB3aXRoIHRlYXJzLCB0YW50cnVtcywgYSBmZXcgbGF0ZSBuaWdodHMgYW5kIGEgbG90IG9mIGhlYWQgc2NyYXRjaGluZy4uLiBSRUFEIFRIRSBEQVRBU0hFRVRTIC0gb3ZlciBhbmQgb3ZlciB1bnRpbCB0aGV5IG1ha2Ugc2Vuc2UuPGJyIC8+PGJyIC8+SXQgZXhwb3NlcyBhIHdlYiBBUEkgYWxsb3dpbmcgdGV4dCBtZXNzYWdlcyB0byBiZSBzZW50IHZpYSBhIHdlYiBicm93c2VyIG9yIGFueSBIVFRQIGNsaWVudCAoaS5lLiB5b3VyIG93biBwcm9ncmFtcykuIFRoZXNlIGFyZSB0aGVuIGZvcndhcmRlZCBpbiByZWFsIHRpbWUgdG8gdGhlIEdTTSBuZXR3b3JrLiBUaGUgQVBJIGlzIG11bHRpLXNlc3Npb24gYW5kIHVwIHRvIDUgc2ltdWx0YW5lb3VzIGNvbm5lY3Rpb25zIHRvIHRoZSBBUEkgYXJlIHN1cHBvcnRlZC4gU2VuZGluZyBvZiBTTVMgbWVzc2FnZXMgaXMgc2luZ2xlIHNlc3Npb24gYnV0IGJlY2F1c2Ugc2VuZGluZyBpcyBoYW5kbGVkIG9uIHRoZSBtYWluIHRocmVhZCBpdCBuYXR1cmFsbHkgcGF1c2VzIHRoZSBwYXJzaW5nIHdoaWxlIGEgdGV4dCBpcyBzZW50IHNvIGl0IHByb3ZpZGluZyBhbiBpbXBsaWNpdCBxdWV1aW5nIHN5c3RlbS4gTWVzc2FnZXMgc2VlbSB0byB0YWtlIGFib3V0IDUgc2Vjb25kcy1pc2ggdG8gYWN0dWFsbHkgZ28gZnJvbSB0aGUgR1NNIG1vZHVsZSwgc28gdGhlIHJlYWwgdGltZSByZXNwb25zZSAoaS5lLiBjb25maXJtYXRpb24gZnJvbSB0aGUgQVBJKSBpcyBlbnRpcmVseSBkby1hYmxlLiBNeSBvd24gd2VicGFnZSBjb2RlIHdhaXRzIGZvciB0aGUgcmVzcG9uc2UgYW5kIHBhcnNlcyB0aGUgcmVwbHkgZnJvbSB0aGUgQVBJLjxiciAvPjxiciAvPkluYm91bmQgU01TIG1lc3NhZ2VzIGFyZSBsYXJnZWx5IGlnbm9yZWQgKGFuZCBkZWxldGVkIGZyb20gdGhlIFNJTSkgYXMgb2YgVmVyc2lvbiAxLjEgZXhjZXB0IGZvciBhIHNwZWNpYWxseSBjcmFmdGVkIG1lc3NhZ2UgZnJvbSBhbiAiYWRtaW4iIG1vYmlsZSBudW1iZXIuIFVwb24gcmVjZWlwdCBpdCBhY3RpdmF0ZXMgYSByZWxheSBmb3IgMTAgc2Vjb25kcywgc2VuZGluZyBhIG1lc3NhZ2UgdG8gdGhlIGVmZmVjdCBlaXRoZXIgc2lkZSBvZiB0aGUgYWN0aXZhdGlvbi4gRm9yIG15IGFwcGxpY2F0aW9uLCBJIGNvbm5lY3RlZCBhIG1haW5zIGV4dGVuc2lvbiB0aHJvdWdoIHRoZSBOb3JtYWxseSBDbG9zZWQgY29udGFjdHMgb2YgYSByZWxheSBtb2R1bGUuIFRoaXMgZmVlZHMgdGhlIG1haW5zIHBvd2VyIHRvIHRoZSBQU1UgZm9yIG15IGZpYnJlIHJvdXRlci4gVGhpcyByb3V0ZXIgc3VmZmVycyBmcm9tIG15c3RlcnkgbG9ja3VwcyBldmVyeSBmZXcgbW9udGhzLiBCeSBzZW5kaW5nIG15ICJjcmFmdGVkIiBtZXNzYWdlLCBJIGNhbiByZW1vdGVseSBib3VuY2UgdGhlIHJvdXRlciB0aHJvdWdoIGEgY29udHJvbGxlZCAxMCBzZWNvbmQgcG93ZXIgY3ljbGUgZnJvbSBhbnl3aGVyZSBvbiB0aGUgcGxhbmV0LiBBcyBhIGZyZXF1ZW50IHRyYXZlbGVyLCBJIGhhdmUgdGlyZWQgb2YgdHJ5aW5nIHRvIHRhbGsgInJlbW90ZSBoYW5kcyIgdGhyb3VnaCB0aGUgcHJvY2VkdXJlLCBldmVuIHRob3VnaCB0byBtZSBpdCBpcyB0cml2aWFsLiBVc2VkIHRoaXMgZmVhdHVyZSByZWNlbnRseSBmcm9tIE1hZGVpcmEgd2hlbiBteSBuZXR3b3JrIHdlbnQgZGFyay4gVGhlIGdhdGV3YXkgcGluZ3Mgb3V0IHRvIHRoZSBpbnRlcm5ldCBhdCByZWd1bGFyIGludGVydmFscyAoSSBwaW5nIG9uZSBvZiBteSBJU1BzIEROUyBzZXJ2ZXMgLSBiZSBjYXJlZnVsIHdobyB5b3UgcGluZyAtIHRoZXkgbWlnaHQgbm90IGxpa2UgaXQpIGFuZCBhbGVydHMgYWZ0ZXIgYSBzZXQgbnVtYmVyIG9mIGZhaWxzLCBzbyBJIG1pZ2h0IG5vdCBldmVuIGtub3cgSSBoYXZlIGxvc3QgY29ubmVjdGl2aXR5IGJ1dCB0aGlzIGdhdGV3YXkgd2lsbCB0ZWxsIG1lLiBJdCB0aGVuIGNvbmZpcm1zIHdoZW4gdGhlIGludGVybmV0IGNvbm5lY3Rpdml0eSBjb21lcyBiYWNrLjxiciAvPjxiciAvPkl0IGlzIGEgYml0IHJvdWdoIHJvdW5kIHRoZSBlZGdlcywgYnV0IGl0IGRvZXMgaXQncyBqb2Igd2VsbC48YnIgLz48YnIgLz5GdXR1cmUgaW1wcm92ZW1lbnRzOjxiciAvPjx1bD48bGk+RnVsbCAyLXdheSBtZXNzYWdpbmcgY29udmVyZ2VuY2UgaXMgdGhlIGxvbmctdGVybSB0YXJnZXQgd2l0aCB0aGlzIGRldmljZS4gUGFzcyBpbmJvdW5kIFNNUyB0byBhbiBBUEkgKHdlYiBwYWdlIG9uICYjMDA5MTtyZW1vdGUmIzAwOTM7IHNlcnZlcikgLSB3aWxsIHVzZSB0aGUgRVNQODI2NiBpbiBjbGllbnQgbW9kZSBhbmQgaXMgZmFpcmx5IHN0cmFpZ2h0Zm9yd2FyZCwgYnV0IHdpbGwgbmVlZCB0byBjcmFmdCB0aGUgSFRUUCBjaGF0dGVyIHRvL2Zyb20gdGhlIHNlcnZlci4gVGhvc2UgIjxpPnRvIGV2aWN0IFRvbSBmcm9tIHRoZSBiaWcgYnJvdGhlciBob3VzZSwgdGV4dCBUT00gdG8gLi4uPC9pPiIgc3lzdGVtcyB3b3VsZCBiZSB2ZXJ5IGVhc3kgdG8gaW1wbGVtZW50IG9uY2UgdGhpcyBpcyBkb25lLiBUaGUgd2ViIHBhZ2Ugb24gdGhlIHNlcnZlciB3b3VsZCBiZSByZXNwb25zaWJsZSBmb3IgdGhlIGRhdGEgcHJvY2Vzc2luZyBvbmNlIHRoZSBTTVMgaGFzZSBiZWVuIG9mZi1sb2FkZWQgZnJvbSB0aGUgZ2F0ZXdheS48L2xpPjxsaT5Tb21lIGtpbmQgb2YgdmFsaWRhdGlvbiAocGFzc3dvcmQvZW5jcnlwdGlvbikuIDxiciAvPjwvbGk+PC91bD48YnIgLz5Tb2Z0d2FyZSBpcyBzdGFibGUgYnV0IHN0aWxsIGV2b2x2aW5nIGJ1dCBmb3Igbm93IGl0IGRlbW9uc3RyYXRlcyBhIHJlYXNvbmFibHkgcm9idXN0IHdvcmtpbmcgc29sdXRpb24uIEl0IGhhcyBydW4gY29udGludW91c2x5IGZvciB3ZWVrcyB3aXRoIG5vIHByb2JsZW1zIC0gaW4gZmFjdCB0aGUgb25seSBwcm9ibGVtcyBJIGRpZCBoYXZlIHdlcmUgd2l0aCBhIHdlYWsgVm9kYWZvbmUgc2lnbmFsIHRoYXQgbWVhbnQgdGhlIE01OTAgd2FzIGNvbnN0YW50bHkgdHJ5aW5nIHRvIHJlZ2lzdGVyIG9uIHRoZSBuZXR3b3JrLiBSZWNlbnRseSB3ZW50IHRvIGEgVmlyZ2luIFNJTSBvbiBhIMKjNiBhIG1vbnRoIHVubGltaXRlZCB0ZXh0cyBkZWFsIGFuZCBpdCBoYXMgbmV2ZXIgZmFpbGVkIHlldCE8YnIgLz48YnIgLz5GdWxsIGZ1bmN0aW9uYWxpdHkgbGlzdCBhbmQgc29mdHdhcmUgd2lsbCBmb2xsb3csIENpcmN1aXQgZGlhZ3JhbSBpcyBiZWxvdyAtIHRoZXJlIGFyZSBudW1lcm91cyBjb25uZWN0b3JzIGZvciBtb2R1bGVzIGNoZWFwbHkgYXZhaWxhYmxlIG9uIGVCYXkgLSB0aGUgd2hvbGUgdGhpbmcgc2hvdWxkIGNvc3QgeW91IGxlc3MgdGhhbiDCozIwLiA8YnIgLz48YnIgLz5UaGUgTENEIGlzIGN1cnJlbnRseSB1bnVzZWQgKGFsdGhvdWdoIGEgaGVhZGVyIGlzIHRoZXJlKSBhbmQgcmljaCBsb2dnaW5nIGlzIHByb3ZpZGVkIHRocm91Z2ggdGhlIENIMzQwRyBVU0IgaW50ZXJmYWNlIHdoaWNoIGNvbm5lY3RzIHRvIHRoZSBjb25zb2xlIG9mIHRoZSBtaWNyb21pdGUuIFRoZSBpZGVhIGJlaW5nIGV2ZW50dWFsbHkgdGhhdCBpdCBiZWNvbWVzIGEgc2VsZi1jb250YWluZWQgbW9kdWxlIGFuZCBhbiBMQ0QgZGlzcGxheSB3aWxsIHByb3ZpZGUgc3RhdHVzIGV0Yy4gVGhlcmUncyBubyBuZWVkIHRvIGxlYXZlIGl0IHBsdWdnZWQgaW4gdG8gcHV0dHkgYWxsIHRoZSB0aW1lIChidXQgSSBkbyBjb3ogSSBsb3ZlIGxvZ3MpLjxiciAvPjxiciAvPjxiciAvPjxiciAvPjxiPkNpcmN1aXQgRGlhZ3JhbTwvYj4gVGhlIE01OTAgbW9kdWxlIGhhcyBhIGRvZGd5IHZvbHRhZ2UgZHJvcHBlciBpbiB0aGUgZm9ybSBvZiBhIHNpbmdsZSBkaW9kZSwgYW5kIHRoZSBwb3dlciByYWlsIGlzIG1hcmtlZCBhcyArNVYuIEl0IHJlbGllcyBvbiB0aGUgZm9yd2FyZCB2b2x0YWdlIG9mIHRoZSAxTjQwMDEgdG8gYnJpbmcgdGhlIHBvd2VyIGluIGxpbmUgd2l0aCB0aGUgTTU5MCdzIHdvcmtpbmcgc3BlYyAtIGEgcHJhY3RpY2UgZXhwcmVzc2x5IGZvcmJpZGRlbiBpbiB0aGUgZG9jdW1lbnRhdGlvbiwgYnV0IGhleSB3aGF0IGRvIHRoZSBDaGluZXNlIGNhcmUgc28gbG9uZyBhcyB0aGV5IGNhbiBzZWxsIHN0dWZmLiBUaGlzIGNhdXNlZCBtZSBsb3RzIG9mIHByb2JsZW1zIGVhcmx5IG9uIHdpdGggdGhlIG1vZGVtIHNlY3Rpb24gcmVzZXR0aW5nIG91dC1vZi10aGUtYmx1ZS4gSSByZXBsYWNlZCB0aGUgZGlvZGUgd2l0aCBhIHdpcmUgbGluayAoaW4gdGhlIHBob3RvLCBiZXR3ZWVuIHRoZSBTSU0gYW5kIE01OTApIGFuZCBkcm92ZSBpdCBmcm9tIHRoZSAzLjNWIC0gaXQgaXMgcGVyZmVjdGx5IGhhcHB5IG5vdyBpdCdzIHdvcmtpbmcgaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBzcGVjIDpvLyBiZXdhcmUgY2hlYXAgbW9kdWxlcyBJIGd1ZXNzLiBJIGFsc28gbW9kaWZpZWQgdGhlIG1vZHVsZSBieSBicmluZ2luZyB0aGUgIkVNRVJHUERPV04iIHBpbiBvZiB0aGUgTTU5MCAoZWZmZWN0aXZlbHkgYSByZXNldCkgb3V0IHRvIHRoZSBoZWFkZXIgc28gSSBjYW4gcmVzZXQgdGhlIHRoaW5nLiBOb3JtYWxseSB0aGlzIGlzbid0IGF2YWlsYWJsZSBvbiB0aGVzZSBtb2R1bGVzIGFuZCB5b3UgaGF2ZSBhIHBvd2VyIHRvZ2dsZSBzaWduYWwgdGhhdCBtaW1pY3MgdGhlIHBvd2VyIGJ1dHRvbiBvbiBhIG1vYmlsZS4uLiBwcm9ibGVtIGlzIGJlY2F1c2UgaXQgaXMgYSB0b2dnbGUsIHlvdSBjYW4gbmV2ZXIgYmUgY2VydGFpbiBvZiB0aGUgc3RhdGUgb2YgdGhlIG1vZHVsZS4gQXMgSSBmb3VuZCBvdXQgd2hlbiBpdCB3YXMgcnVubmluZyBmcm9tIDV2LCB5b3UgY2FuIGdldCB3ZWlyZCBvdXRhZ2VzLCB0b2dnbGUgdGhlIHBvd2VyIHRvIHRyeSBhbmQgcmVzb2x2ZSBpdCBhbmQgZmluZCB5b3UgaGF2ZSBhY3RpdmVseSB0dXJuZWQgdGhlIHRoaW5nIG9mZiAoYmVjYXVzZSBpdCB3YXMgYWN0dWFsbHkgb24gYnV0IG5vdCByZXNwb25kaW5nKS4uLiBob3JyaWJsZSBhcnJhbmdlbWVudC4gPGJyIC8+PGJyIC8+PGEgY2xhc3M9InVua25vd25saW5rIiBocmVmPSJNTUJhc2ljLi5hc2h4IiB0aXRsZT0iTU1CYXNpYy4iPjwvYT48aW1nIHNyYz0iR2V0RmlsZS5hc3B4P0ZpbGU9L01NQmFzaWMvU01TR2F0ZXdheVNDSC5wbmciIGFsdD0iSW1hZ2UiIC8+PGJyIC8+PGJyIC8+PGJyIC8+PGJyIC8+PGI+Q29tcGxldGVkIHdvcmtpbmcgdW5pdCAoeWV0IHRvIGJlIGNhc2VkIG5pY2VseSkuPC9iPiBQb3dlciBpcyBmcm9tIGEgNVYzQSAid2FsbHdhcnQiLCA1diBmb3IgdGhlIHJlbGF5IG1vZHVsZSBhbmQgTENELCBldmVyeXRoaW5nIGVsc2UgaXMgMy4zdiBmcm9tIGEgM0EgREMtREMgY29udmVydGVyIG1vZHVsZSB3aGljaCBnaXZlcyBhIGp1aWN5IHBvd2VyIHJhaWwgLSBzcGVjaWZpY2FsbHkgZm9yIHRoZSBHU00gbW9kdWxlIHdoaWNoIGNhbiBkcmF3IHVwIHRvIDFBIHdpdGggYSB3ZWFrIG1vYmlsZSBzaWduYWwgYW5kIHRoZSBFU1A4MjY2IGNhbiBkcmF3IDI4MG1BLCBzbyBiYWdzIG9mIHBvd2VyIGZvciBldmVyeXRoaW5nLjxiciAvPjxiciAvPjxhIGNsYXNzPSJ1bmtub3dubGluayIgaHJlZj0iTU1CYXNpYy4uYXNoeCIgdGl0bGU9Ik1NQmFzaWMuIj48L2E+PGltZyBzcmM9IkdldEZpbGUuYXNweD9GaWxlPS9NTUJhc2ljL1NNU0dhdGV3YXkxLnBuZyIgYWx0PSJJbWFnZSIgLz48YnIgLz48YnIgLz48YnIgLz48YnIgLz48Yj5TZW5kaW5nIGEgdGV4dCBtZXNzYWdlIGZyb20gYSB3ZWIgcGFnZS4uLjwvYj48YnIgLz48YnIgLz48YSBjbGFzcz0idW5rbm93bmxpbmsiIGhyZWY9Ik1NQmFzaWMuLmFzaHgiIHRpdGxlPSJNTUJhc2ljLiI+PC9hPjxpbWcgc3JjPSJHZXRGaWxlLmFzcHg/RmlsZT0vTU1CYXNpYy9TTVNHYXRld2F5Mi5wbmciIGFsdD0iSW1hZ2UiIC8+PGJyIC8+PGJyIC8+PGJyIC8+PGJyIC8+PGI+Li4uIHJlY2VpdmVkIG9uIHRoZSBTTVMgR2F0ZXdheSBBUEkuLi48L2I+IE91dHB1dCBmcm9tIHRoZSBjb25zb2xlIGxvZzxiciAvPjxiciAvPjxhIGNsYXNzPSJ1bmtub3dubGluayIgaHJlZj0iTU1CYXNpYy4uYXNoeCIgdGl0bGU9Ik1NQmFzaWMuIj48L2E+PGltZyBzcmM9IkdldEZpbGUuYXNweD9GaWxlPS9NTUJhc2ljL1NNU0dhdGV3YXk0LnBuZyIgYWx0PSJJbWFnZSIgLz48YnIgLz48YnIgLz48YnIgLz48YnIgLz48Yj4uLi5hbmQgdGhlIHNhbWUgdGV4dCByZWNlaXZlZCBvbiBteSBtb2JpbGUgcGhvbmUuPC9iPjxiciAvPjxiciAvPjxhIGNsYXNzPSJ1bmtub3dubGluayIgaHJlZj0iTU1CYXNpYy4uYXNoeCIgdGl0bGU9Ik1NQmFzaWMuIj48L2E+PGltZyBzcmM9IkdldEZpbGUuYXNweD9GaWxlPS9NTUJhc2ljL1NNU0dhdGV3YXkzLnBuZyIgYWx0PSJJbWFnZSIgLz48YnIgLz48YnIgLz48YnIgLz48YnIgLz48Yj5IZXJlIGlzIGEgcHJvY2Vzc2lvbiBvZiByZWNpZXZlZCBTTVMgbWVzc2FnZXMuPC9iPiB0aGlzIHNob3dzIGEgdHlwaWNhbCBsaWZlIGN5Y2xlIHRvZ2V0aGVyIHdpdGggc29tZSBwb3dlciBjeWNsaW5nLjxiciAvPjxiciAvPjxhIGNsYXNzPSJ1bmtub3dubGluayIgaHJlZj0iTU1CYXNpYy4uYXNoeCIgdGl0bGU9Ik1NQmFzaWMuIj48L2E+PGltZyBzcmM9IkdldEZpbGUuYXNweD9GaWxlPS9NTUJhc2ljL1NNU0dhdGV3YXl0ZXh0cy5wbmciIGFsdD0iSW1hZ2UiIC8+PGJyIC8+PGJyIC8+PGJyIC8+SGVyZSBpcyB0aGUgc291cmNlIGNvZGUuLi4gcmVtZW1iZXIgdGhpcyBpcyB2ZXJ5IHNwZWNpZmljIHRvIG15IGFwcGxpY2F0aW9uLCB5b3UnbGwgaGF2ZSB0byBwaWNrIHRocm91Z2ggaXQgaWYgeW91IHdhbnQgdG8gdXNlIGl0IGFuZCBhZGQvcmVtb3ZlIGFueSBiaXRzIHlvdSBsaWtlLiBQbGVhc2UgdXNlIHRoZSBkaXNjdXNzIG9wdGlvbiB0byBhc2sgcXVlc3Rpb25zLCB0aGF0IHdheSBldmVyeW9uZSBzZWVzIHRoZSB0aHJlYWQgYW5kIHlvdSB3aWxsIGxpa2VseSBhbnN3ZXIgdGhlIHNhbWUgcXVlc3Rpb25zIHRoZXkgaGF2ZSA7byk8YnIgLz48YnIgLz48cHJlPg0KDQonUHJlYW1ibGUNCiAgICBPUFRJT04gQkFTRSAwDQoNCiAgICBDT05TVCBTZWNzPTEwMDANCiAgICBDT05TVCBNaW5zPVNlY3MmIzQyOzYwDQogICAgQ09OU1QgSHJzPU1pbnMmIzQyOzYwDQoNCiAgICBDT05TVCBHU009MSxHU01SU1Q9MTYNCiAgICBDT05TVCBMQU49MixMQU5SU1Q9Mg0KICAgIENPTlNUIFJMMT0xNSxSTDFUaW1lPTEwMDAwDQogICAgQ09OU1QgRGFpbHlTTVM9IjA1JiM1ODs1OSIgJyBTZXQgdG8gIi0xIiB0byBwcmV2ZW50IHRoZSBkYWlseSB0ZXN0IFNNUw0KDQogICAgQ09OU1QgUEE9Q0hSJCgzNCkrIjguOC44LjgiK0NIUiQoMzQpICcgdGhlIGludGVybmV0IGNvbm5lY3Rpdml0eSBwaW5nIGFkZHJlc3MsIGUuZy4gc29tZXRoaW5nIGNsb3NlIGluIHlvdXIgSVNQDQogICAgQ09OU1QgUGluZ0NUUlJlY2hhcmdlPTMNCiAgICBDT05TVCBEb3duUmVtaW5kZXI9NQ0KDQogICAgQ09OU1QgV0RUaW1lPTYwMDAwDQoNCiAgICBDT05TVCBBZG1pblBIJD0iKzQ0N3h4eHh5eXl5eXkiICcgdGhlICJhZG1pbiIgbW9iaWxlIHBob25lIGUuZy4geW91cnMuDQogICAgQ09OU1QgQ29udE1zZz0iMTAxNTYxMDE5MTEwMTU2Qk9VTkNFIiAnIHRoZSBjb250cm9sIG1lc3NhZ2UgdG8gYWN0aXZhdGUgdGhlIHNsYXZlIHJlbGF5Li4uIHN1aXRhYmx5IGNyeXB0aWMgZm9yIHlvdS4NCg0KICAgIENPTlNUIFBpbmdUTVJSZWNoYXJnZT0xODAgJ3NlY3MNCiAgICBDT05TVCBHU01UTVJSZWNoYXJnZT02MCAnU2Vjcw0KDQogICAgQ09OU1QgSVA9Q0hSJCgzNCkrIjE5Mi4xNjguMC4xNCIrQ0hSJCgzNCkgJyB0aGUgc3RhdGljIGFkZHJlc3MgdG8gYXNzaWduIHRvIHRoZSBMQU4gaW50ZXJmYWNlIC4uLg0KICAgIENPTlNUIEdXPUNIUiQoMzQpKyIxOTIuMTY4LjAuMSIrQ0hSJCgzNCkgICcgLi4uIGFuZCBpdCdzIGdhdGV3YXkuLi4NCiAgICBDT05TVCBNUz1DSFIkKDM0KSsiMjU1LjI1NS4yNTUuMCIrQ0hSJCgzNCknIC4uLiBhbmQgaXRzIG5ldG1hc2sNCiAgICBDT05TVCBBUD1DSFIkKDM0KSsiWFlaIitDSFIkKDM0KSAgICAgICAgICAnIHlvdXIgV2lGaSBTU0lEIChuYW1lIG9mIHlvdXIgd2lmaSBsYW4pLi4uDQogICAgQ09OU1QgUFc9Q0hSJCgzNCkrIiYjMzU7JiMzNTsmIzM1OyYjMzU7JiMzNTsmIzM1OyIrQ0hSJCgzNCkgICAgICAgJyAuLi4gYW5kIGl0cyBwYXNzd29yZCAtIHNvcnJ5IHRoaXMgaXMgcGxhaW4gdGV4dCwgbGF0ZXIgdmVyc2lvbnMgd2lsbCBoaWRlIHRoaXMNCg0KJ0gvVyBJbml0DQogICAgV0FUQ0hET0cgT0ZGDQogICAgUElOKExBTlJTVCk9MQ0KICAgIFNFVFBJTiBMQU5SU1QsRE9VVA0KICAgIFBJTihHU01SU1QpPTAgJ2hvbGQgR1NNIGluIHJlc2V0IHRvIHByZXZlbnQgYm9vdGluZw0KICAgIFNFVFBJTiBHU01SU1QsRE9VVCxPQw0KICAgIFBJTihSTDEpPTENCiAgICBTRVRQSU4gUkwxLERPVVQsT0MNCg0KJ1MvVyBJbml0DQogICAgRElNIFNUUklORyBBJCxCJCxEJA0KICAgIERJTSBTVFJJTkcgTE5CdWYkDQogICAgRElNIFNUUklORyBMQU5SeExOJCxMQU5UeExOJCxUQ2hyJCBMRU5HVEggMSxMQ0RMTjEkIExFTkdUSCAxNixMQ0RMTjIkIExFTkdUSCAxNg0KICAgIERJTSBJTlRFR0VSIGgsbSxDLFosVE9GZyxDaGFuLENvbm4oNCksUGluZ1RNUixQaW5nQ3RyLFJMMVRNUixEYWlseVNNU0ZnDQogICAgRElNIElOVEVHRVIgTEFOZixHU01mLERpc3RTTVNDb3VudCxPQlNNU0NvdW50LElCU01TQ291bnQNCiAgICBESU0gRkxPQVQgeA0KDQogICAgQ0xvZyAiU01TIEdhdGV3YXkgVjEuMSIsMA0KDQogICAgU2V0Q2xvY2sNCg0KICAgIElGIE1NLldBVENIRE9HIHRoZW4NCiAgICAgICAgQ0xvZyAiJiM0MjsmIzQyOyYjNDI7IFJFU1RBUlQgRk9SQ0VEIEJZIFdBVENIRE9HICYjNDI7JiM0MjsmIzQyOyIsMA0KICAgIEVORCBJRg0KDQogICAgYSQ9UmVwbGFjZSQoRFMkKCksIiYjNTg7IiwiIikNCiAgICBhJD1SZXBsYWNlJChhJCwiLSIsIiIpDQogICAgTENETE4yJD0gTUlEJChhJCwzLDYpICsgTUlEJChhJCwxMCw0KSArIFNUUklORyQoNiwiICIpDQogICAgVENociQ9IiAiDQogICAgQnVpbGRMQ0QNCg0KICAgIENMb2cgIlN5c3RlbSBjb21pbmcgdXAiLDANCg0KJ3RpbWVyIGluaXRzDQogICAgUGluZ1RNUj1QaW5nVE1SUmVjaGFyZ2UNCiAgICBHU01Qb2xsVE1SPUdTTVRNUlJlY2hhcmdlDQoNCiAgICBQaW5nQ3RyPTENCiAgICBSTDFUTVI9LTENCg0KICAgIENMb2cgIlN0YXJ0aW5nIExBTiBJbnRlcmZhY2UiLDANCiAgICBUSU1FUj0wDQogICAgT3BlbiAiQ09NMiYjNTg7OTYwMCwxMDI0IiBBcyAmIzM1O0xBTg0KICAgIEVTUDgyNjZSZXNldA0KICAgIENMb2cgIi4uLiBMQU4gdXAgaW4gIitTVFIkKFRJTUVSKSsibVMiLDANCg0KICAgIENMb2cgIlN0YXJ0aW5nIEdTTSBJbnRlcmZhY2UiLDANCiAgICBDaGFuPVRJTUVSDQogICAgT3BlbiAiQ09NMSYjNTg7OTYwMCw4MTkyIiBBcyAmIzM1O0dTTQ0KICAgIE01OTBSZXNldA0KICAgIENMb2cgIi4uLiBHU00gdXAgaW4gIitTVFIkKFRJTUVSLUNoYW4pKyJtUyIsMA0KDQogICAgQ0xvZyAiU3RhcnRpbmcgQ29yZSB0aW1lciB0aHJlYWQiLDANCiAgICBTRVRUSUNLIDEmIzQyO1NlY3MsQ29yZVRNUiw0DQoNCiAgICBDTG9nICJCb290IHRvb2sgIitTVFIkKFRJTUVSKSsibVMiLDANCiAgICBDTG9nICJTeXN0ZW0gUnVubmluZyIsMA0KDQogICAgej1HU01TZW5kKEFkbWluUEgkLCJTTVMgR2F0ZXdheSBoYXMgc3RhcnRlZCIpDQoNCk1haW4mIzU4Ow0KICAgIFdBVENIRE9HPVdEVGltZQ0KDQogICAgSUYgTEVGVCQoVElNRSQsNSk9RGFpbHlTTVMgVEhFTg0KICAgICAgICBJRiBEYWlseVNNU0ZnPTAgVEhFTg0KICAgICAgICAgICAgej1HU01TZW5kKEFkbWluUEgkLCJTTVMgR2F0ZXdheSBkYWlseSB0ZXN0LiAiICsgREFURSQgKyAiICIgKyBUSU1FJCkNCiAgICAgICAgICAgIERhaWx5U01TRmc9MQ0KICAgICAgICBFTkQgSUYNCiAgICBFTFNFDQogICAgICAgIERhaWx5U01TRmc9MA0KICAgIEVORCBJRg0KDQogICAgSUYgUkwxVE1SPTAgdGhlbg0KICAgICAgICBSTDFUTVI9LTENCiAgICAgICAgQSQ9IlNsYXZlIHNvY2tldCBwb3dlciBPTiINCiAgICAgICAgUElOKFJMMSk9MQ0KICAgICAgICBDTG9nIEEkLDANCiAgICAgICAgej1HU01TZW5kKEFkbWluUEgkLEEkKQ0KICAgICAgICBDTG9nICImIzEyMztyZXNwb25zZT0iK3N0ciQoeikrIiYjMTI1OyIsMA0KICAgIEVORCBJRg0KDQoNCiAgICBJRiBQaW5nVE1SJmx0Oz0wIFRIRU4NCiAgICAgICAgUGluZ1RNUj1QaW5nVE1SUmVjaGFyZ2UNCg0KICAgICAgICBTZXRDbG9jayAnY29udmVuaWVudCBwbGFjZQ0KDQogICAgICAgIENMb2cgIkludGVybmV0IGNvbm5lY3Rpdml0eS4uLiIsMA0KICAgICAgICBBJD1FU1A4MjY2RXhlYyQoIkFUK1BJTkc9IitQQSw0MDAwLDApDQoNCiAgICAgICAgSUYgQSQ9Ik9LIiBUSEVODQogICAgICAgICAgICBDTG9nICIuLi4gZ29vZCIsMA0KICAgICAgICAgICAgTEFOZj0wJiM1ODtEaXN0U01TQ291bnQ9MA0KICAgICAgICAgICAgUGluZ0N0cj1QaW5nQ1RSUmVjaGFyZ2UNCiAgICAgICAgICAgIElGIFBpbmdDdHImbHQ7PTAgVEhFTg0KICAgICAgICAgICAgICAgICdzZW5kICJVUCIgc21zDQogICAgICAgICAgICAgICAgQ0xvZyAiJiM0MjsmIzQyOyYjNDI7IGJhY2sgdXAgbWVzc2FnZSIsMA0KICAgICAgICAgICAgICAgIHo9R1NNU2VuZChBZG1pblBIJCwiSW50ZXJuZXQgVVAiKQ0KICAgICAgICAgICAgRU5EIElGDQogICAgICAgIEVMU0UNCiAgICAgICAgICAgIExBTmY9TEFOZisxJiM1ODtJRiBMQU5mJmd0OzkgVEhFTiBMQU5mPTkNCiAgICAgICAgICAgIENMb2cgIkludGVybmV0IERvd24iLDANCiAgICAgICAgICAgIFBpbmdDdHI9UGluZ0N0ci0xDQogICAgICAgICAgICBJRiBQaW5nQ3RyPTAgVEhFTg0KICAgICAgICAgICAgICAgICdzZW5kICJET1dOIiBzbXMNCiAgICAgICAgICAgICAgICBDTG9nICImIzQyOyYjNDI7JiM0MjsgSW50ZXJuZXQgZG93biBtZXNzYWdlIiwwDQogICAgICAgICAgICAgICAgej1HU01TZW5kKEFkbWluUEgkLCJJbnRlcm5ldCBET1dOLCBwbGVhc2UgY2hlY2siKQ0KICAgICAgICAgICAgRUxTRQ0KICAgICAgICAgICAgICAgIENMb2cgIi4uLiBmb3IgIitTVFIkKFBpbmdDdHIpLDANCiAgICAgICAgICAgICAgICB4PUFCUyhQaW5nQ3RyKS9Eb3duUmVtaW5kZXINCiAgICAgICAgICAgICAgICBJRiB4PUlOVCh4KSBBTkQgeCZndDswIFRIRU4gJ3dob2xlIHRlbiBtaW51dGUgcGVyaW9kcw0KICAgICAgICAgICAgICAgICAgICAnc2VuZCAiU1RJTEwgRE9XTiIgc21zDQogICAgICAgICAgICAgICAgICAgIERpc3RTTVNDb3VudD1EaXN0U01TQ291bnQrMSYjNTg7SUYgRGlzdFNNU0NvdW50Jmd0Ozk5IFRIRU4gRGlzdFNNU0NvdW50PTk5DQogICAgICAgICAgICAgICAgICAgIENMb2cgIiYjNDI7JiM0MjsmIzQyOyBTdGlsbCBkb3duIG1lc3NhZ2UiLDANCiAgICAgICAgICAgICAgICAgICAgej1HU01TZW5kKEFkbWluUEgkLCJJbnRlcm5ldCByZW1haW5zIERPV04sIHBsZWFzZSBjaGVjayIpDQogICAgICAgICAgICAgICAgRU5EIElGDQogICAgICAgICAgICBFTkQgSUYNCiAgICAgICAgRU5EIElGDQoNCiAgICBFTkQgSUYNCg0KDQogICAgSUYgR1NNUG9sbFRNUiZsdDs9MCBUSEVODQogICAgICAgIEdTTVBvbGxUTVI9R1NNVE1SUmVjaGFyZ2UNCiAgICAgICAgQ0xvZyAiR1NNIGNvbm5lY3Rpdml0eS4uLiIsMA0KICAgICAgICBBJD0iQVQrQ1JFRz8iDQogICAgICAgIEEkPU01OTBFeGVjJChBJCwyLDAsIitDUkVHJiM1ODsgMCwxfCtDUkVHJiM1ODsgMCw0IikNCiAgICAgICAgSUYgQSQ9IlQvTyIgT1IgQSQ9IkVSUk9SIiBUSEVODQogICAgICAgICAgICBDTG9nIEEkLDANCiAgICAgICAgICAgIEdTTWY9R1NNZisxJiM1ODtJRiBHU01mJmd0OzkgVEhFTiBHU01mPTkNCiAgICAgICAgICAgIENMb2cgIkdTTSByZWdpc3RyYXRpb24gRG93biIsMA0KICAgICAgICBFTFNFDQogICAgICAgICAgICBDTG9nIEEkLDANCiAgICAgICAgICAgIENMb2cgIi4uLiBnb29kIiwwDQogICAgICAgICAgICBHU01mPTANCiAgICAgICAgRU5EIElGDQoNCiAgICAgICAgRmx1c2hJTyhHU00pDQoNCiAgICAgICAgJ2NoZWNrIHJlY2lldmVkIG1lc3NhZ2VzDQogICAgICAgIEEkPSJBVCtDTUdMPTQiDQogICAgICAgIENMb2cgQSQsMA0KICAgICAgICBQUklOVCYjMzU7R1NNLEEkDQogICAgICAgIFBBVVNFIDUwMA0KDQogICAgICAgICdtZXNzYWdlcyBsb29rIGxpa2UgdGhpcyYjNTg7DQogICAgICAgICcrQ01HTCYjNTg7IDEsIlJFQyBVTlJFQUQiLCIrNDQ3MDAwMTIzNDU2IiwiIiwiMTYvMTAvMDcsMjImIzU4OzExJiM1ODszNSswNCINCiAgICAgICAgJ21lc3NhZ2UgYm9keQ0KDQogICAgICAgIERPDQogICAgICAgICAgICBBJD1HZXRJTyQoR1NNLDIpDQogICAgICAgICAgICBJRiBBJCZsdDsmZ3Q7IiIgdGhlbiBDTG9nIEEkLDANCiAgICAgICAgICAgIElGIEEkPSJPSyIgVEhFTiBFWElUIERPDQoNCiAgICAgICAgICAgICdJRiBBJD0iRVJST1IiIFRIRU4gJyBnZXQgZXh0ZW5kZWQgaW5mbw0KICAgICAgICAgICAgJyAgIFBSSU5UICYjMzU7R1NNLCJBVCtDRUVSIg0KICAgICAgICAgICAgJyAgIFBBVVNFIDUwMA0KICAgICAgICAgICAgJyAgIERPDQogICAgICAgICAgICAnICAgICAgIEEkPUdldElPJChHU00sMikNCiAgICAgICAgICAgICcgICAgICAgQ0xvZyBBJCwwDQogICAgICAgICAgICAnICAgTE9PUCBVTlRJTCBBJD0iT0siIG9yIEEkPSJUL08iDQogICAgICAgICAgICAnICAgRVhJVCBETw0KICAgICAgICAgICAgJ0VORCBJRg0KDQogICAgICAgICAgICBJRiBJTlNUUihBJCwiK0NNR0wmIzU4OyIpIFRIRU4gJ3RoZSBlbnZlbG9wZQ0KICAgICAgICAgICAgICAgIEIkPUdldElPJChHU00sMikgJ3RoZSBtZXNzYWdlDQogICAgICAgICAgICAgICAgQ0xvZyBCJCwwDQogICAgICAgICAgICAgICAgQSQ9UmVwbGFjZSQoQSQsQ0hSJCgzNCksIiIpDQogICAgICAgICAgICAgICAgej1TcGxpdChBJCwiLCIpDQogICAgICAgICAgICAgICAgJyAgICAxICAgICAgIDIgICAgICAgICAzICA0ICAgIDUgICAgICAgNg0KICAgICAgICAgICAgICAgICcrQ01HTCYjNTg7IDEsUkVDIFVOUkVBRCx0ZWxubywsMTYvMTAvMDcsMjImIzU4OzExJiM1ODszNSswNA0KDQogICAgICAgICAgICAgICAgSUYgU1AkKDIpPSJSRUMgVU5SRUFEIiBUSEVODQogICAgICAgICAgICAgICAgICAgIElGIFJUUmltJChTUCQoMykpPUFkbWluUEgkIFRIRU4NCiAgICAgICAgICAgICAgICAgICAgICAgIElGIFVDQVNFJChCJCk9Q29udE1zZyBUSEVODQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQSQ9IlNsYXZlIHNvY2tldCBwb3dlciBPRkYiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0xvZyBBJCwwDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgUElOKFJMMSk9MA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJMMVRNUj0xMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHo9R1NNU2VuZChBZG1pblBIJCxBJCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDTG9nICImIzEyMztyZXNwb25zZT0iK3N0ciQoeikrIiYjMTI1OyIsMA0KICAgICAgICAgICAgICAgICAgICAgICAgRU5EIElGDQogICAgICAgICAgICAgICAgICAgIEVORCBJRg0KICAgICAgICAgICAgICAgIEVORCBJRg0KDQogICAgICAgICAgICBFTkQgSUYNCiAgICAgICAgTE9PUA0KDQogICAgICAgIEEkPSJBVCtDTUdEPTEsMSINCiAgICAgICAgQSQ9TTU5MEV4ZWMkKEEkLDIsMCwiT0siKQ0KICAgICAgICBGbHVzaElPKEdTTSkNCiAgICBFTkQgSUYNCg0KDQogICAgJ0NvbnNvbGUgSU5QVVQgLSBQYXJzZSBhbnkgY29tbWFuZHMgaGVyZQ0KDQoNCiAgICAnV2ViIEFQSSBwYXJzaW5nDQoNCiAgICBMQU5SeExOJD1HZXRJTyQoTEFOLDEpDQogICAgSUYgTEFOUnhMTiQ9IiIgT1IgTEFOUnhMTiQ9IlQvTyIgVEhFTiBHT1RPIE1haW4NCg0KICAgIENMb2cgTEFOUnhMTiQsMA0KICAgIElGIE1JRCQoTEFOUnhMTiQsMiw4KT0iLENPTk5FQ1QiIFRIRU4gICduZXcgaW5ib3VuZCB3ZWIgY29ubmVjdGlvbg0KICAgICAgICBDaGFuPVZBTChMQU5SeExOJCkNCiAgICAgICAgSUYgQ2hhbiZndDs9MCBBTkQgQ2hhbiZsdDs9NCBUSEVODQogICAgICAgICAgICBDb25uKENoYW4pPTENCiAgICAgICAgICAgIENMb2cgIkluYm91bmQgY29ubmVjdCBjaGFubmVsICIrU1RSJChDaGFuKSwwDQogICAgICAgICAgICBHT1RPIElQRVhJVA0KICAgICAgICBFTkQgSUYNCiAgICBFTkQgSUYNCg0KICAgIElGIE1JRCQoTEFOUnhMTiQsMiw3KT0iLENMT1NFRCIgVEhFTiAnIHdlYiBjb25uZWN0aW9uIGNsb3NlZA0KICAgICAgICBDaGFuPVZBTChMQU5SeExOJCkNCiAgICAgICAgSUYgQ2hhbiZndDs9MCBBTkQgQ2hhbiZsdDs9NCBUSEVODQogICAgICAgICAgICBJRiBDb25uKENoYW4pPTAgVEhFTiBBJD0iQWJub3JtYWxseSAiIEVMU0UgQSQ9IiINCiAgICAgICAgICAgIENMb2cgIkNsb3NlZCBjaGFubmVsICIrU1RSJChDaGFuKSwwDQogICAgICAgICAgICBDb25uKENoYW4pPTANCiAgICAgICAgICAgIEdPVE8gSVBFWElUDQogICAgICAgIEVORCBJRg0KICAgIEVORCBJRg0KDQogICAgSUYgTEVGVCQoTEFOUnhMTiQsNSk9IitJUEQsIiBUSEVOICcgd2ViIGNvbm5lY3Rpb24gcGF5bG9hZA0KICAgICAgICBDaGFuPVZBTChNSUQkKExBTlJ4TE4kLDYsMSkpDQogICAgICAgIElGIENoYW4mZ3Q7NCBUSEVOIEdPVE8gSVBEZXJyRVhJVA0KICAgICAgICBJRiBDb25uKENoYW4pJmx0OyZndDsxIFRIRU4gR09UTyBJUERlcnJFWElUICdjaGFubmVsIG5vdCBvcGVuDQoNCiAgICAgICAgej1JTlNUUihMQU5SeExOJCwiJiM1ODtHRVQgL3Ntc3NlbmQ/IikgJytJUEQsMCxubm4mIzU4O0dFVCAvc21zc2VuZD90ZWw9P21zZz0gSFRUUC8xLjENCg0KICAgICAgICBkbyYjNTg7YSQ9R2V0SU8kKExBTiwyKSYjNTg7bG9vcCB1bnRpbCBhJD0iQ29ubmVjdGlvbiYjNTg7IEtlZXAtQWxpdmUiICcgZW1wdHkgdGhlIHJlc3Qgb2YgdGhlIGVudmVsb3BlDQoNCiAgICAgICAgSUYgej0mZ3Q7OCBBTkQgWiZsdDs9MTEgVEhFTg0KICAgICAgICAgICAgYiQ9TUlEJChMQU5SeExOJCx6KzEzKQ0KICAgICAgICAgICAgej1JTlNUUihiJCwiIEhUVFAvIikNCiAgICAgICAgICAgIElGIHombHQ7MjEgVEhFTiBHT1RPIElQRGVyckVYSVQNCiAgICAgICAgICAgIGIkPUxFRlQkKGIkLHotMSkgJ3JlbW92ZSB0aGUgSFRUUCBiaXQNCiAgICAgICAgICAgIGIkPVJlcGxhY2UkKGIkLCIrIiwiICIpICAnICsgICB0byBzcGFjZXMNCiAgICAgICAgICAgIGFyZ3M9U3BsaXQoYiQsIj8iKQ0KICAgICAgICAgICAgSUYgYXJncyAmbHQ7MyBUSEVOIEdPVE8gSVBEZXJyRVhJVA0KICAgICAgICAgICAgVGVsJD0iIiYjNTg7TXNnJD0iIg0KICAgICAgICAgICAgRk9SIG49MiBUTyBhcmdzICdhcmdzPTEgaXMgYSBkdW1teQ0KICAgICAgICAgICAgICAgIFNFTEVDVCBDQVNFIExFRlQkKHVjYXNlJChTUCQobikpLDQpDQogICAgICAgICAgICAgICAgICAgIENBU0UgIlRFTD0iDQogICAgICAgICAgICAgICAgICAgICAgICBUZWwkPUxUcmltJChSVHJpbSQoTUlEJChzcCQobiksNSkpKQ0KICAgICAgICAgICAgICAgICAgICBDQVNFICJNU0c9Ig0KICAgICAgICAgICAgICAgICAgICAgICAgTXNnJD1MVHJpbSQoUlRyaW0kKE1JRCQoc3AkKG4pLDUpKSkNCiAgICAgICAgICAgICAgICBFTkQgU0VMRUNUDQogICAgICAgICAgICBORVhUDQogICAgICAgICAgICBJRiBUZWwkPSIiIE9SIE1zZyQ9IiIgVEhFTiBHT1RPIElQRGVyckVYSVQNCiAgICAgICAgICAgIEVSQVNFIFNQJA0KICAgICAgICAgICAgTXNnJD1VUkxEZWNvZGUkKE1zZyQpDQoNCiAgICAgICAgICAgIENMb2cgIk8vQiBTTVMgIitUZWwkKyImIzU4OyIrTXNnJCwwDQogICAgICAgICAgICB6PUdTTVNlbmQoVGVsJCxNc2ckKQ0KICAgICAgICAgICAgSUYgej0wIFRIRU4NCiAgICAgICAgICAgICAgICBCJD0iT0smIzU4OyBNZXNzYWdlIFF1ZXVlZCBmb3Igc2VuZGluZyImIzU4O0dPVE8gSVBPS0VYSVQNCiAgICAgICAgICAgIEVMU0UNCiAgICAgICAgICAgICAgICBCJD0iRVJST1ImIzU4OyBHYXRld2F5IGZhaWxlZCB0byBzZW5kIG1lc3NhZ2UgJiMxMjM7IitTVFIkKHopKyImIzEyNTsiDQogICAgICAgICAgICAgICAgR09UTyBJUE9LRVhJVA0KICAgICAgICAgICAgRU5EIElGDQoNCgkJCScgb3RoZXIgd2ViIEFQSSBjb21tYW5kcyBwYXJzZCBoZXJlDQogICAgICAgICAgICAnej1JTlNUUihMQU5SeExOJCwiJiM1ODtHRVQgL3N0YXQgIikgJytJUEQsMCxubm4mIzU4O0dFVCAvc3RhdCBIVFRQLzEuMQ0KICAgICAgICAgICAgJ0lGIHo9Jmd0OzggQU5EIFombHQ7PTExIFRIRU4NCiAgICAgICAgICAgICdvdGhlciBBUEkgY2FsbHMgZ28gaGVyZS4uLg0KICAgICAgICAgICAgJ3o9SU5TVFIoTEFOUnhMTiQsIiYjNTg7R0VUIC93aGF0ZXZlcj8iKQ0KICAgICAgICAgICAgJ0lGIHombHQ7Jmd0OzAgVEhFTg0KICAgICAgICAgICAgJ2V0Yy4uLg0KDQogICAgICAgICAgICAnICAgQiQ9Ik9LJiM1ODsgU1RBVD0iK0xDRExOMSQrTENETE4yJA0KICAgICAgICAgICAgJyAgIEdPVE8gSVBPS0VYSVQNCg0KICAgICAgICBFTkQgSUYNCg0KICAgICAgICBHT1RPIElQRGVyckVYSVQgJ2RlZmF1bHQgYWN0aW9uIElGIHdlIGRvbid0IGZpbmQgYW4gQVBJIGNhbGwNCg0KICAgIEVORCBJRg0KDQoNCiAgICBHT1RPIElQRVhJVA0KSVBEZXJyRVhJVCYjNTg7DQogICAgQiQ9IkVSUk9SJiM1ODsgTWFsZm9ybWVkIHJlcXVlc3QgJiMxMjM7IitMQU5SeExOJCsiJiMxMjU7Ig0KSVBPS0VYSVQmIzU4Ow0KDQogICAgUFJJTlQgJiMzNTtMQU4sIkFUK0NJUFNFTkRFWD0iK1NUUiQoQ2hhbikrIiwyNTUiDQogICAgUEFVU0UgMTAwDQoNCiAgICBQUklOVCYjMzU7TEFOLEIkKyJcMCINCiAgICBQQVVTRSAxMDANCg0KICAgIFBSSU5UJiMzNTtMQU4sIkFUK0NJUENMT1NFPSIrU1RSJChDaGFuKQ0KICAgIENvbm4oQ2hhbik9MA0KDQpJUEVYSVQmIzU4Ow0KDQogICAgR09UTyBNYWluDQoNCiAgICBFTkQNCg0KDQonJiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7IEVTUDgyNjYgV2lGaSBNb2RlbSBTVUJzeXMgJiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7LQ0KDQogICAgU1VCIEVTUDgyNjZSZXNldA0KICAgICAgICBMT0NBTCBTVFJJTkcgQSQNCiAgICAgICAgTE9DQUwgSU5URUdFUiBODQoNCiAgICAgICAgUFVMU0UgTEFOUlNULDEwDQogICAgICAgIFBBVVNFIDQwMA0KDQogICAgICAgIExBTkV4ZWMgIkFURTAiLDIsMA0KICAgICAgICBMQU5FeGVjICJBVCtDV0FVVE9DT05OPTAiLDIsMA0KICAgICAgICBMQU5FeGVjICJBVCtDV01PREU9MSIsMiwwDQogICAgICAgIExBTkV4ZWMgIkFUK0NXUUFQIiw0LDANCiAgICAgICAgTEFORXhlYyAiQVQrUkZWREQiLDIsMA0KICAgICAgICBMQU5FeGVjICJBVCtDV0pBUD0iK0FQKyIsIitQVywxMCwxDQogICAgICAgIExBTkV4ZWMgIkFUK0NJUFNUQT0iK0lQKyIsIitHVysiLCIrTVMsMiwwDQogICAgICAgIExBTkV4ZWMgIkFUK0NJRlNSIiwyLDANCiAgICAgICAgTEFORXhlYyAiQVQrQ1dBVVRPQ09OTj0xIiwyLDANCiAgICAgICAgTEFORXhlYyAiQVQrQ0lQTVVYPTEiLDIsMA0KICAgICAgICBMQU5FeGVjICJBVCtDSVBTRVJWRVI9MSwxOTA5MCIsMiwwDQoNCiAgICAgICAgTEFOVHhMTiQ9IiImIzU4O0xBTlJ4TE4kPSIiDQoNCiAgICAgICAgRk9SIE49MCBUTyA0JiM1ODtDb25uKE4pPTAmIzU4O05FWFQNCg0KICAgIEVORCBTVUINCg0KICAgIFNVQiBMQU5FeGVjKENNJCxULFN1cHByZXNzKSAndGVtcCAtIHdpbGwgZ28gd2hlbiB3ZSBoYXZlIGJldHRlciBoYW5kbGluZyBvZiB0aGUgc3RhcnR1cA0KICAgICAgICBMT0NBTCBTVFJJTkcgQSQNCiAgICAgICAgQSQ9RVNQODI2NkV4ZWMkKENNJCxULFN1cHByZXNzKQ0KICAgICAgICBJRiBTdXBwcmVzcyZsdDsyIFRIRU4gQ0xvZyBBJCwwDQogICAgRU5EIFNVQg0KDQogICAgRlVOQ1RJT04gRVNQODI2NkV4ZWMkKENvbSQsVGltZU91dCxPYmYpDQogICAgICAgIExPQ0FMIFNUUklORyBBJCBMRU5HVEggMSxMTiQNCiAgICAgICAgTE9DQUwgSU5URUdFUiBDDQoNCiAgICAgICAgQ0xvZyBDb20kLG9iZg0KICAgICAgICBQUklOVCAmIzM1O0xBTixDb20kDQoNCiAgICAgICAgRE8NCiAgICAgICAgICAgIExOJD1HZXRJTyQoTEFOLFRpbWVPdXQpDQogICAgICAgICAgICBJRiBMTiQ9IlQvTyIgVEhFTiBFU1A4MjY2RXhlYyQ9IlQvTyImIzU4O0VYSVQgRE8NCiAgICAgICAgICAgIElGIExOJCZsdDsmZ3Q7IiIgVEhFTg0KICAgICAgICAgICAgICAgIElGIE9iZiZsdDsyIFRIRU4gQ0xvZyAiJiM5MTsiK0xOJCsiJiM5MzsiLDANCiAgICAgICAgICAgICAgICBJRiBMTiQ9Ik9LIiBPUiBMTiQ9IiZndDsiIE9SIExOJD0iU0VORCBPSyIgVEhFTiBFU1A4MjY2RXhlYyQ9TE4kJiM1ODtFWElUIERPDQogICAgICAgICAgICAgICAgSUYgSU5TVFIoTE4kLCJFUlJPUiIpIFRIRU4gRVNQODI2NkV4ZWMkPSJFUlJPUiAmIzkxOyIrTE5CdWYkKyImIzkzOyImIzU4O0VYSVQgRE8NCiAgICAgICAgICAgIEVORCBJRg0KICAgICAgICBMT09QDQoNCiAgICBFTkQgRlVOQ1RJT04NCg0KJyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyBNNTkwIEdTTSBNb2RlbSBTVUJzeXMgJiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTstDQoNCiAgICBTVUIgTTU5MFJlc2V0DQogICAgICAgIExPQ0FMIFNUUklORyBBJA0KICAgICAgICBMT0NBTCBJTlRFR0VSIE4NCg0KICAgICAgICBQSU4oR1NNUlNUKT0wICdjYW4ndCB1c2UgcHVsc2UgYmVjYXVzZSBpdCBzaG91bGQgYWxyZWFkeSBiZSBsbw0KICAgICAgICBQQVVTRSA1MDAgJ0JPT1QgaXMgYWN0aXZlIExPIGFuZCBhdCBsZWFzdCAzMDBtUw0KICAgICAgICBQSU4oR1NNUlNUKT0xDQoNCiAgICAgICAgQ2xlYXJUT1RpbWVyDQogICAgICAgIERPDQogICAgICAgICAgICBJRiBUT0ZnIFRIRU4gR09UTyBHU01GYWlsDQogICAgICAgICAgICBBJD1HZXRJTyQoR1NNLDUpDQogICAgICAgICAgICBDTG9nIEEkLDANCiAgICAgICAgTE9PUCBVTlRJTCBBJD0iTU9ERU0mIzU4O1NUQVJUVVAiDQoNCiAgICAgICAgJ0NsZWFyVE9UaW1lcg0KICAgICAgICAnUFJJTlQmIzM1O0dTTSwiQVQrRU5QV1JTQVZFPTAiICdzb2x2ZXMgc2xvdyArUEJSRUFEWSA/DQoNCiAgICAgICAgQ2xlYXJUT1RpbWVyDQogICAgICAgIERPDQogICAgICAgICAgICBJRiBUT0ZnIFRIRU4gR09UTyBHU01GYWlsDQogICAgICAgICAgICBBJD1HZXRJTyQoR1NNLDEyMCkNCiAgICAgICAgICAgIENMb2cgQSQsMA0KICAgICAgICBMT09QIFVOVElMIEEkPSIrUEJSRUFEWSINCiAgICAgICAgRmx1c2hJTyhHU00pDQoNCiAgICAgICAgR1NNRXhlYyAiQVRFMCIsMiwwLCJPSyIgJyhUVVJOIE9GRiBMT0NBTCBFQ0hPKQ0KICAgICAgICBGbHVzaElPKEdTTSkNCg0KICAgICAgICBHU01FeGVjICJBVCtDUEFTIiwyLDAsIitDUEFTJiM1ODsgMCINCiAgICAgICAgSUYgVE9GZyBUSEVOIEdPVE8gR1NNRmFpbA0KDQogICAgICAgIERPICcgZm9yZXZlcg0KICAgICAgICAgICAgJ0ZsdXNoSU8oR1NNKQ0KICAgICAgICAgICAgJ0dTTUV4ZWMgIkFUK0NSRUc/IiwyLDAsIitDUkVHJiM1ODsgMCwxIiAnKE1PRFVMRSBJUyBSRUdJU1RFUkVEIE9OIFRIRSBORVRXT1JLKQ0KICAgICAgICAgICAgUFJJTlQgJiMzNTtHU00sIkFUK0NSRUc/Ig0KICAgICAgICAgICAgRE8mIzU4O0EkPUdldElPJChHU00sMikmIzU4O0xPT1AgV0hJTEUgTEVOKEEkKT0wDQogICAgICAgICAgICBDTG9nIEEkLDANCiAgICAgICAgICAgIElGIFRPRmcgVEhFTiBHT1RPIENSRUdXYWl0DQogICAgICAgICAgICBJRiBJTlNUUihBJCwiK0NSRUcmIzU4OyIpIFRIRU4NCiAgICAgICAgICAgICAgICBJRiBJTlNUUihBJCwiK0NSRUcmIzU4OyAwLDEiKT0wIFRIRU4NCiAgICAgICAgICAgICAgICAgICAgR09UTyBDUkVHV2FpdA0KICAgICAgICAgICAgICAgIEVMU0UNCiAgICAgICAgICAgICAgICAgICAgQ0xvZyAiUmVnaXN0ZXJlZCBvbiBHU00gbmV0d29yayIsMA0KICAgICAgICAgICAgICAgICAgICBHU01mPTANCiAgICAgICAgICAgICAgICAgICAgRVhJVCBETw0KICAgICAgICAgICAgICAgIEVORCBJRg0KICAgICAgICAgICAgRU5EIElGDQpDUkVHV2FpdCYjNTg7DQogICAgICAgICAgICBDTG9nICJXYWl0aW5nIGZvciBHU00gbmV0d29yayByZWdpc3RyYXRpb24iLDANCiAgICAgICAgICAgIFBBVVNFIDUwMDANCiAgICAgICAgICAgIEZsdXNoSU8oR1NNKQ0KICAgICAgICAgICAgR1NNZj0xDQogICAgICAgIExPT1ANCg0KICAgICAgICBJRiBHU01mIFRIRU4gR09UTyBHU01GYWlsDQoNCiAgICAgICAgR1NNZj0wDQoNCiAgICAgICAgR1NNRXhlYyAiQVQrRU5QV1JTQVZFPTAiLDIsMCwiT0siDQogICAgICAgIElGIFRPRmcgVEhFTiBHT1RPIEdTTUZhaWwNCiAgICAgICAgRmx1c2hJTyhHU00pDQoNCiAgICAgICAgR1NNRXhlYyAiQVQrQ09QUz8iLDIsMCwiT0siDQogICAgICAgIElGIFRPRmcgVEhFTiBHT1RPIEdTTUZhaWwNCiAgICAgICAgRmx1c2hJTyhHU00pDQoNCiAgICAgICAgR1NNRXhlYyAiQVQrQ1NRIiwyLDAsIk9LIg0KICAgICAgICBJRiBUT0ZnIFRIRU4gR09UTyBHU01GYWlsDQogICAgICAgIEZsdXNoSU8oR1NNKQ0KDQogICAgICAgIEdTTUV4ZWMgIkFUK1hCQU5EU0VMPyIsMiwwLCJPSyINCiAgICAgICAgSUYgVE9GZyBUSEVOIEdPVE8gR1NNRmFpbA0KICAgICAgICBGbHVzaElPKEdTTSkNCg0KICAgICAgICBHU01FeGVjICJBVCtDQ0lEPyIsMiwwLCJPSyINCiAgICAgICAgSUYgVE9GZyBUSEVOIEdPVE8gR1NNRmFpbA0KICAgICAgICBGbHVzaElPKEdTTSkNCg0KICAgICAgICBHU01FeGVjICJBVCtDU0NBPyIsMiwwLCJPSyINCiAgICAgICAgSUYgVE9GZyBUSEVOIEdPVE8gR1NNRmFpbA0KICAgICAgICBGbHVzaElPKEdTTSkNCg0KICAgICAgICBHU01FeGVjICJBVCtDRlVOPyIsMiwwLCIrQ0ZVTiYjNTg7IDEsMCINCiAgICAgICAgSUYgVE9GZyBUSEVOIEdPVE8gR1NNRmFpbA0KICAgICAgICBGbHVzaElPKEdTTSkNCg0KICAgICAgICBHU01FeGVjICJBVCtDUElOPyIsMiwwLCIrQ1BJTiYjNTg7IFJFQURZIg0KICAgICAgICBJRiBUT0ZnIFRIRU4gR09UTyBHU01GYWlsDQogICAgICAgIEZsdXNoSU8oR1NNKQ0KDQogICAgICAgIEdTTUV4ZWMgIkFUK0NTTVM/IiwyLDAsIk9LIg0KICAgICAgICBJRiBUT0ZnIFRIRU4gR09UTyBHU01GYWlsDQogICAgICAgIEZsdXNoSU8oR1NNKQ0KDQogICAgICAgIEdTTUV4ZWMgIkFUK0NNR0Y9MSIsMiwwLCJPSyINCiAgICAgICAgSUYgVE9GZyBUSEVOIEdPVE8gR1NNRmFpbA0KICAgICAgICBGbHVzaElPKEdTTSkNCg0KICAgICAgICBHU01FeGVjICJBVCtDU0NTPSIrQ0hSJCgzNCkrIkdTTSIrQ0hSJCgzNCksMiwwLCJPSyINCiAgICAgICAgSUYgVE9GZyBUSEVOIEdPVE8gR1NNRmFpbA0KICAgICAgICBGbHVzaElPKEdTTSkNCg0KICAgICAgICBHU01FeGVjICJBVCtDTUdEPTEsMSIsMiwwLCJPSyINCiAgICAgICAgSUYgVE9GZyBUSEVOIEdPVE8gR1NNRmFpbA0KICAgICAgICBGbHVzaElPKEdTTSkNCg0KICAgICAgICBFWElUIFNVQg0KDQpHU01GYWlsJiM1ODsNCiAgICAgICAgQ0xvZyAiLi4uIEZhaWxlZCB0byBzdGFydCBpbiAiK1NUUiQoVElNRVItQ2hhbikrIm1TIiwwDQogICAgICAgIEdTTWY9MQ0KICAgIEVORCBTVUINCg0KICAgIFNVQiBHU01FeGVjKENNJCxULG9iZixSZXNwJCkNCiAgICAgICAgTE9DQUwgU1RSSU5HIEEkDQogICAgICAgIEEkPU01OTBFeGVjJChDTSQsVCxvYmYsUmVzcCQpJiM1ODtDTG9nIEEkLDANCiAgICBFTkQgU1VCDQoNCiAgICBGVU5DVElPTiBNNTkwRXhlYyQoQ29tJCxUaW1lT3V0LG9iZixSZXNwJCkNCiAgICAgICAgTE9DQUwgU1RSSU5HIEEkIExFTkdUSCAxLExOJCxMTkJ1ZiQNCiAgICAgICAgTE9DQUwgSU5URUdFUiBDLG4seg0KDQogICAgICAgIENMb2cgQ29tJCxvYmYNCiAgICAgICAgej1TcGxpdChSZXNwJCwifCIpDQogICAgICAgIFBSSU5UICYjMzU7R1NNLENvbSQNCiAgICAgICAgU3RhcnRUT1RpbWVyIFRpbWVPdXQNCg0KICAgICAgICBETw0KICAgICAgICAgICAgSUYgVE9GZz0xIFRIRU4gTTU5MEV4ZWMkPSJUL08gJiM5MTsiK0xOQnVmJCsiJiM5MzsiJiM1ODtFWElUIERPDQogICAgICAgICAgICBJRiBMT0MoJiMzNTtHU00pJmx0OyZndDswIFRIRU4NCiAgICAgICAgICAgICAgICBBJD1JTlBVVCQoMSwmIzM1O0dTTSkmIzU4O0M9QVNDKEEkKQ0KICAgICAgICAgICAgICAgIFNFTEVDVCBDQVNFIEMNCiAgICAgICAgICAgICAgICAgICAgQ0FTRSAxMw0KICAgICAgICAgICAgICAgICAgICAgICAgSUYgTE4kJmx0OyZndDsiIiBUSEVODQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTE5CdWYkPUxOQnVmJCtMTiQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDTG9nICImIzkxOyIrTE5CdWYkKyImIzkzOyIsMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZPUiBuPTEgVE8geg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJRiBMTiQ9U1AkKG4pIFRIRU4gTTU5MEV4ZWMkPUxOJCYjNTg7RVhJVCBETw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5FWFQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJRiBJTlNUUihMTiQsIkVSUk9SIikgVEhFTiBNNTkwRXhlYyQ9IkVSUk9SICYjOTE7IitMTkJ1ZiQrIiYjOTM7IiYjNTg7RVhJVCBETw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExOJD0iIiYjNTg7TE5CdWYkPSIiDQogICAgICAgICAgICAgICAgICAgICAgICBFTkQgSUYNCiAgICAgICAgICAgICAgICAgICAgQ0FTRSAwIFRPIDMxDQogICAgICAgICAgICAgICAgICAgIENBU0UgRUxTRQ0KICAgICAgICAgICAgICAgICAgICAgICAgTE4kPUxOJCtBJA0KICAgICAgICAgICAgICAgIEVORCBTRUxFQ1QNCiAgICAgICAgICAgIEVORCBJRg0KICAgICAgICBMT09QDQogICAgICAgIENsZWFyVE9UaW1lcg0KICAgIEVORCBGVU5DVElPTg0KDQogICAgRlVOQ1RJT04gR1NNU2VuZCh0JCxtJCkNCiAgICAgICAgTE9DQUwgSU5URUdFUiBuDQogICAgICAgIExPQ0FMIFNUUklORyBBJA0KICAgICAgICBJRiBHU01mJmx0OyZndDswIFRIRU4gR1NNU2VuZD0xMDE5MSYjNTg7RVhJVCBGVU5DVElPTg0KICAgICAgICBhJD0iQVQrQ01HUz0iK2NociQoMzQpK3QkK0NIUiQoMzQpDQogICAgICAgIFBSSU5UJiMzNTtHU00sQSQNCiAgICAgICAgQ0xvZyBBJCwwDQogICAgICAgIFBBVVNFIDEwMDANCiAgICAgICAgYSQ9TEVGVCQobSQsMTQwKQ0KICAgICAgICBQUklOVCYjMzU7R1NNLEEkK0NIUiQoMjYpOw0KICAgICAgICBDTG9nIGEkLDANCiAgICAgICAgUEFVU0UgMTAwDQogICAgICAgIERPDQogICAgICAgICAgICBBJD1HZXRJTyQoR1NNLDE1KQ0KICAgICAgICAgICAgQ0xvZyBBJCwwDQogICAgICAgICAgICBJRiBJTlNUUihBJCwiK0NNR1MmIzU4OyIpIFRIRU4gR1NNU2VuZD0wJiM1ODtFWElUIEZVTkNUSU9ODQogICAgICAgICAgICBJRiBBJD0iVC9PIiBUSEVOIEVYSVQgRE8NCiAgICAgICAgTE9PUA0KICAgICAgICBHU01TZW5kPTEwMTU2DQogICAgRU5EIEZVTkNUSU9ODQonJiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsNCg0KICAgIFNVQiBDTG9nKENvbSQsb2JmKQ0KICAgICAgICBTRUxFQ1QgQ0FTRSBPYmYNCiAgICAgICAgICAgIENBU0UgMA0KICAgICAgICAgICAgICAgIFBSSU5UIERTJCgpO0NvbSQNCiAgICAgICAgICAgIENBU0UgMQ0KICAgICAgICAgICAgICAgIFBSSU5UIERTJCgpO1NUUklORyQoMjAsIiYjMzU7IikNCiAgICAgICAgICAgIENBU0UgRUxTRQ0KICAgICAgICBFTkQgU0VMRUNUDQogICAgRU5EIFNVQg0KDQogICAgRlVOQ1RJT04gR2V0SU8kKGlvLFRpbWVPdXQpDQogICAgICAgIExPQ0FMIFNUUklORyBhJCxiJA0KICAgICAgICBMT0NBTCBJTlRFR0VSIGMNCg0KICAgICAgICBTdGFydFRPVGltZXIgVGltZU91dA0KICAgICAgICBETw0KICAgICAgICAgICAgSUYgVE9GZz0xIFRIRU4gR2V0SU8kPSJUL08iJiM1ODtFWElUIERPDQogICAgICAgICAgICBJRiBMT0MoJiMzNTtpbykmbHQ7Jmd0OzAgVEhFTg0KICAgICAgICAgICAgICAgIEEkPUlOUFVUJCgxLCYjMzU7aW8pJiM1ODtDPUFTQyhBJCkNCiAgICAgICAgICAgICAgICBTRUxFQ1QgQ0FTRSBDDQogICAgICAgICAgICAgICAgICAgIENBU0UgMTMNCiAgICAgICAgICAgICAgICAgICAgICAgIEdldElPJD1iJCYjNTg7RVhJVCBETw0KICAgICAgICAgICAgICAgICAgICBDQVNFIDAgVE8gMzENCiAgICAgICAgICAgICAgICAgICAgQ0FTRSBFTFNFDQogICAgICAgICAgICAgICAgICAgICAgICBJRiBMRU4oYiQpK0xFTihhJCkmbHQ7MjU1IFRIRU4gYiQ9YiQrYSQgRUxTRSBiJD1hJA0KICAgICAgICAgICAgICAgIEVORCBTRUxFQ1QNCiAgICAgICAgICAgIEVORCBJRg0KICAgICAgICBMT09QDQogICAgICAgIENsZWFyVE9UaW1lcg0KICAgIEVORCBGVU5DVElPTg0KDQogICAgU1VCIEZsdXNoSU8oc3RyZWFtKQ0KICAgICAgICBMT0NBTCBTVFJJTkcgQSQNCiAgICAgICAgRE8gV0hJTEUgTE9DKCYjMzU7c3RyZWFtKSZsdDsmZ3Q7MA0KICAgICAgICAgICAgUEFVU0UgNTAmIzU4O0EkPUlOUFVUJChMT0MoJiMzNTtzdHJlYW0pLCYjMzU7c3RyZWFtKSYjNTg7UEFVU0UgNTANCiAgICAgICAgTE9PUA0KICAgIEVORCBTVUINCg0KICAgIFNVQiBDb3JlVE1SDQogICAgICAgIFBpbmdUTVI9UGluZ1RNUi0xDQogICAgICAgIEdTTVBvbGxUTVI9R1NNUG9sbFRNUi0xDQogICAgICAgIFJMMVRNUj1STDFUTVItMQ0KICAgICAgICBJRiBUQ2hyJD0iJiM0MjsiIFRIRU4gVENociQ9IiAiIEVMU0UgVENociQ9IiYjNDI7Ig0KICAgICAgICBCdWlsZExDRA0KICAgIEVORCBTVUINCg0KICAgIFNVQiBTdGFydFRPVGltZXIoVGltZW91dCkNCiAgICAgICAgVE9GZz0wJiM1ODtTRVRUSUNLIFRpbWVPdXQmIzQyOzEwMDAsU2V0VE9GZywyDQogICAgRU5EIFNVQg0KDQogICAgU1VCIENsZWFyVE9UaW1lcg0KICAgICAgICBTRVRUSUNLIDAsMCwyJiM1ODtUT0ZnPTANCiAgICBFTkQgU1VCDQoNCiAgICBTVUIgU2V0VE9GZw0KICAgICAgICBUT0ZnPTENCiAgICBFTkQgU1VCDQoNCiAgICBTVUIgU2V0Q2xvY2sNCiAgICAgICAgUlRDIEdFVFRJTUUNCiAgICBFTkQgU1VCDQoNCg0KICAgIFNVQiBCdWlsZExDRA0KICAgICAgICBMQ0RMTjEkPSJMIiArIFNUUiQoTEFOZikgKyAiRyIgKyBTVFIkKEdTTWYpICsgIlMiICsgU1RSJChQSU4oMTYpKSArICJPIiArIFNUUiQoT0JTTVNDb3VudCw0LDAsIjAiKSArICJJIiArIFNUUiQoSUJTTVNDb3VudCw0LDAsIjAiKQ0KICAgICAgICBMQ0RMTjIkPUxFRlQkKExDRExOMiQsMTApICsgIiAgICAiICsgVENociQgKyBTVFIkKERpc3RTTVNDb3VudCwyLDAsIjAiKQ0KICAgICAgICAnUFJJTlQgTENETE4xJCYjNTg7UFJJTlQgTENETE4yJCYjNTg7UFJJTlQNCiAgICBFTkQgU1VCDQoNCiAgICBGVU5DVElPTiBEUyQoKQ0KICAgICAgICBMT0NBTCBhJCxiJA0KICAgICAgICBETyYjNTg7YSQ9ZGF0ZSQmIzU4O2IkPXRpbWUkJiM1ODtMT09QIFdISUxFIGEkJmx0OyZndDtkYXRlJCBPUiBiJCZsdDsmZ3Q7dGltZSQNCiAgICAgICAgRFMkPVJJR0hUJChhJCw0KStNSUQkKGEkLDMsMykrIi0iK0xFRlQkKGEkLDIpKyIgIitiJCsiICINCiAgICBFTkQgRlVOQ1RJT04NCg0KICAgIEZVTkNUSU9OIFJlcGxhY2UkKGEkLGIkLGMkKQ0KICAgICAgICBMT0NBTCBJTlRFR0VSIHoNCiAgICAgICAgTE9DQUwgU1RSSU5HIHgkLHkkDQogICAgICAgIHo9MQ0KICAgICAgICBETw0KICAgICAgICAgICAgej1JTlNUUih6LGEkLGIkKQ0KICAgICAgICAgICAgSUYgej0wIFRIRU4gRVhJVCBETw0KICAgICAgICAgICAgeCQ9TEVGVCQoYSQsei0xKSYjNTg7eSQ9TUlEJChhJCx6K0xFTihiJCkpJiM1ODthJD14JCtjJCt5JCYjNTg7ej1MRU4oeCQpK0xFTihjJCkNCiAgICAgICAgTE9PUA0KICAgICAgICBSZXBsYWNlJD1hJA0KICAgIEVORCBGVU5DVElPTg0KDQogICAgRlVOQ1RJT04gVVJMRGVjb2RlJChhJCkNCiAgICAgICAgTE9DQUwgSU5URUdFUiB6DQogICAgICAgIExPQ0FMIFNUUklORyBiJCxjJA0KICAgICAgICB6PTENCiAgICAgICAgRE8NCiAgICAgICAgICAgIHo9SU5TVFIoeixhJCwiJSIpDQogICAgICAgICAgICBJRiB6PTAgT1Igej1MRU4oYSQpIFRIRU4gRVhJVCBETw0KICAgICAgICAgICAgYiQ9TUlEJChhJCx6LDMpJiM1ODtjJD1DSFIkKFZBTCgiJmFtcDtoIitNSUQkKGIkLDIpKSkmIzU4O2EkPVJlcGxhY2UkKGEkLGIkLGMkKQ0KICAgICAgICBMT09QDQogICAgICAgIFVSTERlY29kZSQ9YSQNCiAgICBFTkQgRlVOQ1RJT04NCg0KICAgIEZVTkNUSU9OIExUcmltJChhJCkNCiAgICAgICAgTE9DQUwgSU5URUdFUiBtDQogICAgICAgIEZPUiBtPTEgVE8gTEVOKGEkKQ0KICAgICAgICAgICAgSUYgbm90KE1JRCQoYSQsbSwxKT0iICIgT1IgTUlEJChhJCxtLDEpPUNIUiQoOSkpIFRIRU4gTFRyaW0kPU1JRCQoYSQsbSkmIzU4O0VYSVQgRlVOQ1RJT04NCiAgICAgICAgTkVYVA0KICAgICAgICBMVHJpbSQ9IiINCiAgICBFTkQgRlVOQ1RJT04NCg0KICAgIEZVTkNUSU9OIFJUcmltJChhJCkNCiAgICAgICAgTE9DQUwgSU5URUdFUiBuDQogICAgICAgIEZPUiBuPUxFTihhJCkgVE8gMSBTVEVQIC0xDQogICAgICAgICAgICBJRiBub3QoTUlEJChhJCxuLDEpPSIgIiBPUiBNSUQkKGEkLG4sMSk9Q0hSJCg5KSkgVEhFTiBSVHJpbSQ9TEVGVCQoYSQsbikmIzU4O0VYSVQgRlVOQ1RJT04NCiAgICAgICAgTkVYVA0KICAgICAgICBSVHJpbSQ9IiINCiAgICBFTkQgRlVOQ1RJT04NCg0KICAgIEZVTkNUSU9OIFNwbGl0KGEkLGIkKQ0KICAgICAgICBMT0NBTCBJTlRFR0VSIHosbixtDQogICAgICAgIE9OIEVSUk9SIFNLSVANCiAgICAgICAgRVJBU0UgU1AkDQogICAgICAgIHo9MSYjNTg7bj0wDQogICAgICAgIERPDQogICAgICAgICAgICB6PUlOU1RSKHosYSQsYiQpDQogICAgICAgICAgICBJRiB6PTAgVEhFTg0KICAgICAgICAgICAgICAgIElGIG49MCBUSEVODQogICAgICAgICAgICAgICAgICAgIERJTSBTUCQoMSkmIzU4O1NQJCgxKT1hJCYjNTg7U3BsaXQ9MSYjNTg7RVhJVCBGVU5DVElPTg0KICAgICAgICAgICAgICAgIEVMU0UNCiAgICAgICAgICAgICAgICAgICAgRVhJVCBETw0KICAgICAgICAgICAgICAgIEVORCBJRg0KICAgICAgICAgICAgRUxTRQ0KICAgICAgICAgICAgICAgIG49bisxJiM1ODt6PXorTEVOKGIkKQ0KICAgICAgICAgICAgRU5EIElGDQogICAgICAgIExPT1ANCg0KICAgICAgICBtPW4rMSYjNTg7bj0xDQogICAgICAgIERJTSBTUCQobSkNCiAgICAgICAgRE8NCiAgICAgICAgICAgIHo9SU5TVFIoMSxhJCxiJCkNCiAgICAgICAgICAgIElGIHo9MCBUSEVODQogICAgICAgICAgICAgICAgU1AkKG0pPWEkJiM1ODtFWElUIERPDQogICAgICAgICAgICBFTFNFDQogICAgICAgICAgICAgICAgU1AkKG4pPUxFRlQkKGEkLHotMSkmIzU4O2EkPU1JRCQoYSQseitMRU4oYiQpKSYjNTg7bj1uKzENCiAgICAgICAgICAgIEVORCBJRg0KICAgICAgICBMT09QDQogICAgICAgIFNwbGl0PW0NCiAgICBFTkQgRlVOQ1RJT04NCg0KDQo8L3ByZT48YnIgLz48YnIgLz48YnIgLz48YnIgLz48YnIgLz48YnIgLz48YnIgLz48YnIgLz48YnIgLz5kZA+Mz4TwGSW6XP3tc0cBxs+jR6Do" />
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="2068001F" />
	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWBQLIhKqbBgKiz/TSAwK3j57gBwLd5ta/BQL9yYWiCVCE50kRlH1jBJteIai4s7LK28ww" />
</div>
		<script type="text/javascript">
<!--
__BaseName = "ctl00_CphMaster_";
__ConfirmMessage = "Are you sure you want to proceed?";
// -->
</script>
		<script type="text/javascript">
		<!--
			function __GetServerElementById(id) {
				return document.getElementById(__BaseName + id);
			}
			function __RequestConfirm() {
				return confirm(__ConfirmMessage);
			}
		// -->
		</script>
    
        <div id="HeaderDiv">
            <div style="float: right;">Welcome <a href="MMBasic.Language.html" class="systemlink" title="Select your language">Guest</a>, you are in: <select class="namespacedropdown" onchange="javascript:var sel = this.value; document.location = (sel != '' ? (sel + '.') : '') + 'Default.aspx';"><option value="">&lt;root&gt;</option><option value="Circuit Ideas">Circuit Ideas</option><option value="Colour MaxiMite 2 (CMM2)">Colour MaxiMite 2 (CMM2)</option><option value="GCB">GCB</option><option value="MicroMite ArmMite and MMX Hardware">MicroMite ArmMite and MMX Hardware</option><option selected="selected" value="MMBasic">MMBasic</option><option value="PIC ASM">PIC ASM</option><option value="Platform Agnostic">Platform Agnostic</option></select> &bull; <a href="MMBasic.Login415e.html?Redirect=http%3a%2f%2ffruitoftheshed.com%2fHistory.aspx%3fNS%3dMMBasic%26Page%3dMMBasic.Micromite-SMS-Text-Gateway%26Revision%3d0" class="systemlink" title="Login">Login</a></div><h1>Fruit Of The Shed</h1>
        </div>
                   
        <div id="ContainerDiv">
                 
            <div id="SidebarDiv">
                <div id="SidebarHeaderDiv">
                    <!-- Used for layout purposes only -->
                </div>
                <div id="SidebarContentDiv">
                    <div style="float: right;"> </div><h3 class="separator">Navigation (MMBasic)<a class="headeranchor" id="Navigation_NAMESPACE_0" href="#Navigation_NAMESPACE_0" title="Link to this Section">&#0182;</a></h3><ul><li><b><a class="pagelink" href="MMBasic.MainPage.html" title="_MMBasic Code Library">Main Page</a></b></li><li><a class="pagelink" href="MainPage.html" title="Home Page">Main Page (root)</a><br /></li></ul><br /><ul><li><a class="systemlink" href="MMBasic.EggDrop-part-of-the-original-MMBasic-libraryc674.html" title="Random Page">Random Page</a></li><li><a class="systemlink" href="MMBasic.AllPages.html" title="All Pages">All Pages</a><br /> </li><li><a class="systemlink" href="Logina75d.html" title="Create a new Page">Create a new Page</a><br /></li></ul><br /><ul><li><a class="systemlink" href="Logine894.html" title="Administration">Administration</a></li><li><a class="systemlink" href="MMBasic.Upload.html" title="File Management">File Management</a><br /></li></ul><br /><ul><li><a class="systemlink" href="MMBasic.Register.html" title="My Account">My Account</a><br /></li></ul><br /><ul><li><a class="systemlink" href="MMBasic.Register.html" title="Create Account">Create Account</a><br /></li></ul><br /><small><b>Search the wiki</b></small><br /><br /><script type="text/javascript"><!--
function _DoSearch_SBf63524b4df3e46d58daced6fab3b588b() { document.location = 'MMBasic.Search.aspx?AllNamespaces=1&FilesAndAttachments=1&Query=' + encodeURI(document.getElementById('SBf63524b4df3e46d58daced6fab3b588b').value); }
// -->
</script><input class="txtsearchbox" type="text" id="SBf63524b4df3e46d58daced6fab3b588b" onkeydown="javascript:var keycode; if(window.event) keycode = event.keyCode; else keycode = event.which; if(keycode == 10 || keycode == 13) { _DoSearch_SBf63524b4df3e46d58daced6fab3b588b(); return false; }" /> <big><a href="#" onclick="javascript:_DoSearch_SBf63524b4df3e46d58daced6fab3b588b(); return false;">&raquo;</a></big><br /><br /><br />
                </div>
                <div id="SidebarFooterDiv">
                    <!-- Used for layout purposes only -->
                </div>
            </div>
            <div id="MainDiv">
                <div id="MainHeaderDiv">
                    <!-- Used for layout purposes only -->
                </div>
                <div id="PageInternalHeaderDiv"></div>
                

    <h1 class="pagetitlesystem">Page History: SMS (Text) Gateway with MicroMite </h1>
    <p>Compare Page Revisions</p> 
    <select name="ctl00$CphMaster$lstRev1" id="ctl00_CphMaster_lstRev1">
	<option value="0">0</option>

</select>
    <select name="ctl00$CphMaster$lstRev2" id="ctl00_CphMaster_lstRev2">
	<option value="Current">Current</option>
	<option value="0">0</option>

</select>
    <input type="submit" name="ctl00$CphMaster$btnCompare" value="Compare" id="ctl00_CphMaster_btnCompare" />
    <br /><br />
    
    <table class="box" cellpadding="0" cellspacing="0"><tr><td><p style="text-align: center;"><b>&laquo; Older Revision - <a href="MMBasic.Historye4b6.html?Page=MMBasic.Micromite-SMS-Text-Gateway">Back to Page History</a> - <a href="MMBasic.Micromite-SMS-Text-Gateway.html">Current Revision</a></b></p></td></tr></table><br /><h3 class="separator">Page Revision: 2016/12/28 07:49</h3><br />This SMS gateway attaches to your LAN via WiFi (Want to provide wired LAN through ENC28J60 one day). It takes a SIM card for your favourite GSM operator and connects to that mobile network. It then bridges the two and permits messages to be passed between them. Security is pretty low at the moment, but firewall external access for now. <br /><br />Program-wise, there is nothing exotic about it - no CFunctions or anything, it is a good demonstration of using the building blocks in MMBasic to provide an intelligent (and for me) really useful tool that sees daily use. It represents about two months of evolving code with tears, tantrums, a few late nights and a lot of head scratching... READ THE DATASHEETS - over and over until they make sense.<br /><br />It exposes a web API allowing text messages to be sent via a web browser or any HTTP client (i.e. your own programs). These are then forwarded in real time to the GSM network. The API is multi-session and up to 5 simultaneous connections to the API are supported. Sending of SMS messages is single session but because sending is handled on the main thread it naturally pauses the parsing while a text is sent so it providing an implicit queuing system. Messages seem to take about 5 seconds-ish to actually go from the GSM module, so the real time response (i.e. confirmation from the API) is entirely do-able. My own webpage code waits for the response and parses the reply from the API.<br /><br />Inbound SMS messages are largely ignored (and deleted from the SIM) as of Version 1.1 except for a specially crafted message from an "admin" mobile number. Upon receipt it activates a relay for 10 seconds, sending a message to the effect either side of the activation. For my application, I connected a mains extension through the Normally Closed contacts of a relay module. This feeds the mains power to the PSU for my fibre router. This router suffers from mystery lockups every few months. By sending my "crafted" message, I can remotely bounce the router through a controlled 10 second power cycle from anywhere on the planet. As a frequent traveler, I have tired of trying to talk "remote hands" through the procedure, even though to me it is trivial. Used this feature recently from Madeira when my network went dark. The gateway pings out to the internet at regular intervals (I ping one of my ISPs DNS serves - be careful who you ping - they might not like it) and alerts after a set number of fails, so I might not even know I have lost connectivity but this gateway will tell me. It then confirms when the internet connectivity comes back.<br /><br />It is a bit rough round the edges, but it does it's job well.<br /><br />Future improvements:<br /><ul><li>Full 2-way messaging convergence is the long-term target with this device. Pass inbound SMS to an API (web page on &#0091;remote&#0093; server) - will use the ESP8266 in client mode and is fairly straightforward, but will need to craft the HTTP chatter to/from the server. Those "<i>to evict Tom from the big brother house, text TOM to ...</i>" systems would be very easy to implement once this is done. The web page on the server would be responsible for the data processing once the SMS hase been off-loaded from the gateway.</li><li>Some kind of validation (password/encryption). <br /></li></ul><br />Software is stable but still evolving but for now it demonstrates a reasonably robust working solution. It has run continuously for weeks with no problems - in fact the only problems I did have were with a weak Vodafone signal that meant the M590 was constantly trying to register on the network. Recently went to a Virgin SIM on a Â£6 a month unlimited texts deal and it has never failed yet!<br /><br />Full functionality list and software will follow, Circuit diagram is below - there are numerous connectors for modules cheaply available on eBay - the whole thing should cost you less than Â£20. <br /><br />The LCD is currently unused (although a header is there) and rich logging is provided through the CH340G USB interface which connects to the console of the micromite. The idea being eventually that it becomes a self-contained module and an LCD display will provide status etc. There's no need to leave it plugged in to putty all the time (but I do coz I love logs).<br /><br /><br /><br /><b>Circuit Diagram</b> The M590 module has a dodgy voltage dropper in the form of a single diode, and the power rail is marked as +5V. It relies on the forward voltage of the 1N4001 to bring the power in line with the M590's working spec - a practice expressly forbidden in the documentation, but hey what do the Chinese care so long as they can sell stuff. This caused me lots of problems early on with the modem section resetting out-of-the-blue. I replaced the diode with a wire link (in the photo, between the SIM and M590) and drove it from the 3.3V - it is perfectly happy now it's working in accordance with the spec :o/ beware cheap modules I guess. I also modified the module by bringing the "EMERGPDOWN" pin of the M590 (effectively a reset) out to the header so I can reset the thing. Normally this isn't available on these modules and you have a power toggle signal that mimics the power button on a mobile... problem is because it is a toggle, you can never be certain of the state of the module. As I found out when it was running from 5v, you can get weird outages, toggle the power to try and resolve it and find you have actively turned the thing off (because it was actually on but not responding)... horrible arrangement. <br /><br /><a class="unknownlink" href="MMBasic..html" title="MMBasic."></a><img src="SMSGatewaySCHcc80.png?File=/MMBasic/SMSGatewaySCH.png" alt="Image" /><br /><br /><br /><br /><b>Completed working unit (yet to be cased nicely).</b> Power is from a 5V3A "wallwart", 5v for the relay module and LCD, everything else is 3.3v from a 3A DC-DC converter module which gives a juicy power rail - specifically for the GSM module which can draw up to 1A with a weak mobile signal and the ESP8266 can draw 280mA, so bags of power for everything.<br /><br /><a class="unknownlink" href="MMBasic..html" title="MMBasic."></a><img src="SMSGateway1c5ea.png?File=/MMBasic/SMSGateway1.png" alt="Image" /><br /><br /><br /><br /><b>Sending a text message from a web page...</b><br /><br /><a class="unknownlink" href="MMBasic..html" title="MMBasic."></a><img src="SMSGateway25dcf.png?File=/MMBasic/SMSGateway2.png" alt="Image" /><br /><br /><br /><br /><b>... received on the SMS Gateway API...</b> Output from the console log<br /><br /><a class="unknownlink" href="MMBasic..html" title="MMBasic."></a><img src="SMSGateway414b0.png?File=/MMBasic/SMSGateway4.png" alt="Image" /><br /><br /><br /><br /><b>...and the same text received on my mobile phone.</b><br /><br /><a class="unknownlink" href="MMBasic..html" title="MMBasic."></a><img src="SMSGateway3fee6.png?File=/MMBasic/SMSGateway3.png" alt="Image" /><br /><br /><br /><br /><b>Here is a procession of recieved SMS messages.</b> this shows a typical life cycle together with some power cycling.<br /><br /><a class="unknownlink" href="MMBasic..html" title="MMBasic."></a><img src="SMSGatewaytexts207f.png?File=/MMBasic/SMSGatewaytexts.png" alt="Image" /><br /><br /><br />Here is the source code... remember this is very specific to my application, you'll have to pick through it if you want to use it and add/remove any bits you like. Please use the discuss option to ask questions, that way everyone sees the thread and you will likely answer the same questions they have ;o)<br /><br /><pre>

'Preamble
    OPTION BASE 0

    CONST Secs=1000
    CONST Mins=Secs&#42;60
    CONST Hrs=Mins&#42;60

    CONST GSM=1,GSMRST=16
    CONST LAN=2,LANRST=2
    CONST RL1=15,RL1Time=10000
    CONST DailySMS="05&#58;59" ' Set to "-1" to prevent the daily test SMS

    CONST PA=CHR$(34)+"8.8.8.8"+CHR$(34) ' the internet connectivity ping address, e.g. something close in your ISP
    CONST PingCTRRecharge=3
    CONST DownReminder=5

    CONST WDTime=60000

    CONST AdminPH$="+447xxxxyyyyyy" ' the "admin" mobile phone e.g. yours.
    CONST ContMsg="101561019110156BOUNCE" ' the control message to activate the slave relay... suitably cryptic for you.

    CONST PingTMRRecharge=180 'secs
    CONST GSMTMRRecharge=60 'Secs

    CONST IP=CHR$(34)+"192.168.0.14"+CHR$(34) ' the static address to assign to the LAN interface ...
    CONST GW=CHR$(34)+"192.168.0.1"+CHR$(34)  ' ... and it's gateway...
    CONST MS=CHR$(34)+"255.255.255.0"+CHR$(34)' ... and its netmask
    CONST AP=CHR$(34)+"XYZ"+CHR$(34)          ' your WiFi SSID (name of your wifi lan)...
    CONST PW=CHR$(34)+"&#35;&#35;&#35;&#35;&#35;&#35;"+CHR$(34)       ' ... and its password - sorry this is plain text, later versions will hide this

'H/W Init
    WATCHDOG OFF
    PIN(LANRST)=1
    SETPIN LANRST,DOUT
    PIN(GSMRST)=0 'hold GSM in reset to prevent booting
    SETPIN GSMRST,DOUT,OC
    PIN(RL1)=1
    SETPIN RL1,DOUT,OC

'S/W Init
    DIM STRING A$,B$,D$
    DIM STRING LNBuf$
    DIM STRING LANRxLN$,LANTxLN$,TChr$ LENGTH 1,LCDLN1$ LENGTH 16,LCDLN2$ LENGTH 16
    DIM INTEGER h,m,C,Z,TOFg,Chan,Conn(4),PingTMR,PingCtr,RL1TMR,DailySMSFg
    DIM INTEGER LANf,GSMf,DistSMSCount,OBSMSCount,IBSMSCount
    DIM FLOAT x

    CLog "SMS Gateway V1.1",0

    SetClock

    IF MM.WATCHDOG then
        CLog "&#42;&#42;&#42; RESTART FORCED BY WATCHDOG &#42;&#42;&#42;",0
    END IF

    a$=Replace$(DS$(),"&#58;","")
    a$=Replace$(a$,"-","")
    LCDLN2$= MID$(a$,3,6) + MID$(a$,10,4) + STRING$(6," ")
    TChr$=" "
    BuildLCD

    CLog "System coming up",0

'timer inits
    PingTMR=PingTMRRecharge
    GSMPollTMR=GSMTMRRecharge

    PingCtr=1
    RL1TMR=-1

    CLog "Starting LAN Interface",0
    TIMER=0
    Open "COM2&#58;9600,1024" As &#35;LAN
    ESP8266Reset
    CLog "... LAN up in "+STR$(TIMER)+"mS",0

    CLog "Starting GSM Interface",0
    Chan=TIMER
    Open "COM1&#58;9600,8192" As &#35;GSM
    M590Reset
    CLog "... GSM up in "+STR$(TIMER-Chan)+"mS",0

    CLog "Starting Core timer thread",0
    SETTICK 1&#42;Secs,CoreTMR,4

    CLog "Boot took "+STR$(TIMER)+"mS",0
    CLog "System Running",0

    z=GSMSend(AdminPH$,"SMS Gateway has started")

Main&#58;
    WATCHDOG=WDTime

    IF LEFT$(TIME$,5)=DailySMS THEN
        IF DailySMSFg=0 THEN
            z=GSMSend(AdminPH$,"SMS Gateway daily test. " + DATE$ + " " + TIME$)
            DailySMSFg=1
        END IF
    ELSE
        DailySMSFg=0
    END IF

    IF RL1TMR=0 then
        RL1TMR=-1
        A$="Slave socket power ON"
        PIN(RL1)=1
        CLog A$,0
        z=GSMSend(AdminPH$,A$)
        CLog "&#123;response="+str$(z)+"&#125;",0
    END IF


    IF PingTMR&lt;=0 THEN
        PingTMR=PingTMRRecharge

        SetClock 'convenient place

        CLog "Internet connectivity...",0
        A$=ESP8266Exec$("AT+PING="+PA,4000,0)

        IF A$="OK" THEN
            CLog "... good",0
            LANf=0&#58;DistSMSCount=0
            PingCtr=PingCTRRecharge
            IF PingCtr&lt;=0 THEN
                'send "UP" sms
                CLog "&#42;&#42;&#42; back up message",0
                z=GSMSend(AdminPH$,"Internet UP")
            END IF
        ELSE
            LANf=LANf+1&#58;IF LANf&gt;9 THEN LANf=9
            CLog "Internet Down",0
            PingCtr=PingCtr-1
            IF PingCtr=0 THEN
                'send "DOWN" sms
                CLog "&#42;&#42;&#42; Internet down message",0
                z=GSMSend(AdminPH$,"Internet DOWN, please check")
            ELSE
                CLog "... for "+STR$(PingCtr),0
                x=ABS(PingCtr)/DownReminder
                IF x=INT(x) AND x&gt;0 THEN 'whole ten minute periods
                    'send "STILL DOWN" sms
                    DistSMSCount=DistSMSCount+1&#58;IF DistSMSCount&gt;99 THEN DistSMSCount=99
                    CLog "&#42;&#42;&#42; Still down message",0
                    z=GSMSend(AdminPH$,"Internet remains DOWN, please check")
                END IF
            END IF
        END IF

    END IF


    IF GSMPollTMR&lt;=0 THEN
        GSMPollTMR=GSMTMRRecharge
        CLog "GSM connectivity...",0
        A$="AT+CREG?"
        A$=M590Exec$(A$,2,0,"+CREG&#58; 0,1|+CREG&#58; 0,4")
        IF A$="T/O" OR A$="ERROR" THEN
            CLog A$,0
            GSMf=GSMf+1&#58;IF GSMf&gt;9 THEN GSMf=9
            CLog "GSM registration Down",0
        ELSE
            CLog A$,0
            CLog "... good",0
            GSMf=0
        END IF

        FlushIO(GSM)

        'check recieved messages
        A$="AT+CMGL=4"
        CLog A$,0
        PRINT&#35;GSM,A$
        PAUSE 500

        'messages look like this&#58;
        '+CMGL&#58; 1,"REC UNREAD","+447000123456","","16/10/07,22&#58;11&#58;35+04"
        'message body

        DO
            A$=GetIO$(GSM,2)
            IF A$&lt;&gt;"" then CLog A$,0
            IF A$="OK" THEN EXIT DO

            'IF A$="ERROR" THEN ' get extended info
            '   PRINT &#35;GSM,"AT+CEER"
            '   PAUSE 500
            '   DO
            '       A$=GetIO$(GSM,2)
            '       CLog A$,0
            '   LOOP UNTIL A$="OK" or A$="T/O"
            '   EXIT DO
            'END IF

            IF INSTR(A$,"+CMGL&#58;") THEN 'the envelope
                B$=GetIO$(GSM,2) 'the message
                CLog B$,0
                A$=Replace$(A$,CHR$(34),"")
                z=Split(A$,",")
                '    1       2         3  4    5       6
                '+CMGL&#58; 1,REC UNREAD,telno,,16/10/07,22&#58;11&#58;35+04

                IF SP$(2)="REC UNREAD" THEN
                    IF RTRim$(SP$(3))=AdminPH$ THEN
                        IF UCASE$(B$)=ContMsg THEN
                            A$="Slave socket power OFF"
                            CLog A$,0
                            PIN(RL1)=0
                            RL1TMR=10
                            z=GSMSend(AdminPH$,A$)
                            CLog "&#123;response="+str$(z)+"&#125;",0
                        END IF
                    END IF
                END IF

            END IF
        LOOP

        A$="AT+CMGD=1,1"
        A$=M590Exec$(A$,2,0,"OK")
        FlushIO(GSM)
    END IF


    'Console INPUT - Parse any commands here


    'Web API parsing

    LANRxLN$=GetIO$(LAN,1)
    IF LANRxLN$="" OR LANRxLN$="T/O" THEN GOTO Main

    CLog LANRxLN$,0
    IF MID$(LANRxLN$,2,8)=",CONNECT" THEN  'new inbound web connection
        Chan=VAL(LANRxLN$)
        IF Chan&gt;=0 AND Chan&lt;=4 THEN
            Conn(Chan)=1
            CLog "Inbound connect channel "+STR$(Chan),0
            GOTO IPEXIT
        END IF
    END IF

    IF MID$(LANRxLN$,2,7)=",CLOSED" THEN ' web connection closed
        Chan=VAL(LANRxLN$)
        IF Chan&gt;=0 AND Chan&lt;=4 THEN
            IF Conn(Chan)=0 THEN A$="Abnormally " ELSE A$=""
            CLog "Closed channel "+STR$(Chan),0
            Conn(Chan)=0
            GOTO IPEXIT
        END IF
    END IF

    IF LEFT$(LANRxLN$,5)="+IPD," THEN ' web connection payload
        Chan=VAL(MID$(LANRxLN$,6,1))
        IF Chan&gt;4 THEN GOTO IPDerrEXIT
        IF Conn(Chan)&lt;&gt;1 THEN GOTO IPDerrEXIT 'channel not open

        z=INSTR(LANRxLN$,"&#58;GET /smssend?") '+IPD,0,nnn&#58;GET /smssend?tel=?msg= HTTP/1.1

        do&#58;a$=GetIO$(LAN,2)&#58;loop until a$="Connection&#58; Keep-Alive" ' empty the rest of the envelope

        IF z=&gt;8 AND Z&lt;=11 THEN
            b$=MID$(LANRxLN$,z+13)
            z=INSTR(b$," HTTP/")
            IF z&lt;21 THEN GOTO IPDerrEXIT
            b$=LEFT$(b$,z-1) 'remove the HTTP bit
            b$=Replace$(b$,"+"," ")  ' +   to spaces
            args=Split(b$,"?")
            IF args &lt;3 THEN GOTO IPDerrEXIT
            Tel$=""&#58;Msg$=""
            FOR n=2 TO args 'args=1 is a dummy
                SELECT CASE LEFT$(ucase$(SP$(n)),4)
                    CASE "TEL="
                        Tel$=LTrim$(RTrim$(MID$(sp$(n),5)))
                    CASE "MSG="
                        Msg$=LTrim$(RTrim$(MID$(sp$(n),5)))
                END SELECT
            NEXT
            IF Tel$="" OR Msg$="" THEN GOTO IPDerrEXIT
            ERASE SP$
            Msg$=URLDecode$(Msg$)

            CLog "O/B SMS "+Tel$+"&#58;"+Msg$,0
            z=GSMSend(Tel$,Msg$)
            IF z=0 THEN
                B$="OK&#58; Message Queued for sending"&#58;GOTO IPOKEXIT
            ELSE
                B$="ERROR&#58; Gateway failed to send message &#123;"+STR$(z)+"&#125;"
                GOTO IPOKEXIT
            END IF

			' other web API commands parsd here
            'z=INSTR(LANRxLN$,"&#58;GET /stat ") '+IPD,0,nnn&#58;GET /stat HTTP/1.1
            'IF z=&gt;8 AND Z&lt;=11 THEN
            'other API calls go here...
            'z=INSTR(LANRxLN$,"&#58;GET /whatever?")
            'IF z&lt;&gt;0 THEN
            'etc...

            '   B$="OK&#58; STAT="+LCDLN1$+LCDLN2$
            '   GOTO IPOKEXIT

        END IF

        GOTO IPDerrEXIT 'default action IF we don't find an API call

    END IF


    GOTO IPEXIT
IPDerrEXIT&#58;
    B$="ERROR&#58; Malformed request &#123;"+LANRxLN$+"&#125;"
IPOKEXIT&#58;

    PRINT &#35;LAN,"AT+CIPSENDEX="+STR$(Chan)+",255"
    PAUSE 100

    PRINT&#35;LAN,B$+"\0"
    PAUSE 100

    PRINT&#35;LAN,"AT+CIPCLOSE="+STR$(Chan)
    Conn(Chan)=0

IPEXIT&#58;

    GOTO Main

    END


'&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; ESP8266 WiFi Modem SUBsys &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-

    SUB ESP8266Reset
        LOCAL STRING A$
        LOCAL INTEGER N

        PULSE LANRST,10
        PAUSE 400

        LANExec "ATE0",2,0
        LANExec "AT+CWAUTOCONN=0",2,0
        LANExec "AT+CWMODE=1",2,0
        LANExec "AT+CWQAP",4,0
        LANExec "AT+RFVDD",2,0
        LANExec "AT+CWJAP="+AP+","+PW,10,1
        LANExec "AT+CIPSTA="+IP+","+GW+","+MS,2,0
        LANExec "AT+CIFSR",2,0
        LANExec "AT+CWAUTOCONN=1",2,0
        LANExec "AT+CIPMUX=1",2,0
        LANExec "AT+CIPSERVER=1,19090",2,0

        LANTxLN$=""&#58;LANRxLN$=""

        FOR N=0 TO 4&#58;Conn(N)=0&#58;NEXT

    END SUB

    SUB LANExec(CM$,T,Suppress) 'temp - will go when we have better handling of the startup
        LOCAL STRING A$
        A$=ESP8266Exec$(CM$,T,Suppress)
        IF Suppress&lt;2 THEN CLog A$,0
    END SUB

    FUNCTION ESP8266Exec$(Com$,TimeOut,Obf)
        LOCAL STRING A$ LENGTH 1,LN$
        LOCAL INTEGER C

        CLog Com$,obf
        PRINT &#35;LAN,Com$

        DO
            LN$=GetIO$(LAN,TimeOut)
            IF LN$="T/O" THEN ESP8266Exec$="T/O"&#58;EXIT DO
            IF LN$&lt;&gt;"" THEN
                IF Obf&lt;2 THEN CLog "&#91;"+LN$+"&#93;",0
                IF LN$="OK" OR LN$="&gt;" OR LN$="SEND OK" THEN ESP8266Exec$=LN$&#58;EXIT DO
                IF INSTR(LN$,"ERROR") THEN ESP8266Exec$="ERROR &#91;"+LNBuf$+"&#93;"&#58;EXIT DO
            END IF
        LOOP

    END FUNCTION

'&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; M590 GSM Modem SUBsys &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-

    SUB M590Reset
        LOCAL STRING A$
        LOCAL INTEGER N

        PIN(GSMRST)=0 'can't use pulse because it should already be lo
        PAUSE 500 'BOOT is active LO and at least 300mS
        PIN(GSMRST)=1

        ClearTOTimer
        DO
            IF TOFg THEN GOTO GSMFail
            A$=GetIO$(GSM,5)
            CLog A$,0
        LOOP UNTIL A$="MODEM&#58;STARTUP"

        'ClearTOTimer
        'PRINT&#35;GSM,"AT+ENPWRSAVE=0" 'solves slow +PBREADY ?

        ClearTOTimer
        DO
            IF TOFg THEN GOTO GSMFail
            A$=GetIO$(GSM,120)
            CLog A$,0
        LOOP UNTIL A$="+PBREADY"
        FlushIO(GSM)

        GSMExec "ATE0",2,0,"OK" '(TURN OFF LOCAL ECHO)
        FlushIO(GSM)

        GSMExec "AT+CPAS",2,0,"+CPAS&#58; 0"
        IF TOFg THEN GOTO GSMFail

        DO ' forever
            'FlushIO(GSM)
            'GSMExec "AT+CREG?",2,0,"+CREG&#58; 0,1" '(MODULE IS REGISTERED ON THE NETWORK)
            PRINT &#35;GSM,"AT+CREG?"
            DO&#58;A$=GetIO$(GSM,2)&#58;LOOP WHILE LEN(A$)=0
            CLog A$,0
            IF TOFg THEN GOTO CREGWait
            IF INSTR(A$,"+CREG&#58;") THEN
                IF INSTR(A$,"+CREG&#58; 0,1")=0 THEN
                    GOTO CREGWait
                ELSE
                    CLog "Registered on GSM network",0
                    GSMf=0
                    EXIT DO
                END IF
            END IF
CREGWait&#58;
            CLog "Waiting for GSM network registration",0
            PAUSE 5000
            FlushIO(GSM)
            GSMf=1
        LOOP

        IF GSMf THEN GOTO GSMFail

        GSMf=0

        GSMExec "AT+ENPWRSAVE=0",2,0,"OK"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+COPS?",2,0,"OK"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+CSQ",2,0,"OK"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+XBANDSEL?",2,0,"OK"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+CCID?",2,0,"OK"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+CSCA?",2,0,"OK"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+CFUN?",2,0,"+CFUN&#58; 1,0"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+CPIN?",2,0,"+CPIN&#58; READY"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+CSMS?",2,0,"OK"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+CMGF=1",2,0,"OK"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+CSCS="+CHR$(34)+"GSM"+CHR$(34),2,0,"OK"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        GSMExec "AT+CMGD=1,1",2,0,"OK"
        IF TOFg THEN GOTO GSMFail
        FlushIO(GSM)

        EXIT SUB

GSMFail&#58;
        CLog "... Failed to start in "+STR$(TIMER-Chan)+"mS",0
        GSMf=1
    END SUB

    SUB GSMExec(CM$,T,obf,Resp$)
        LOCAL STRING A$
        A$=M590Exec$(CM$,T,obf,Resp$)&#58;CLog A$,0
    END SUB

    FUNCTION M590Exec$(Com$,TimeOut,obf,Resp$)
        LOCAL STRING A$ LENGTH 1,LN$,LNBuf$
        LOCAL INTEGER C,n,z

        CLog Com$,obf
        z=Split(Resp$,"|")
        PRINT &#35;GSM,Com$
        StartTOTimer TimeOut

        DO
            IF TOFg=1 THEN M590Exec$="T/O &#91;"+LNBuf$+"&#93;"&#58;EXIT DO
            IF LOC(&#35;GSM)&lt;&gt;0 THEN
                A$=INPUT$(1,&#35;GSM)&#58;C=ASC(A$)
                SELECT CASE C
                    CASE 13
                        IF LN$&lt;&gt;"" THEN
                            LNBuf$=LNBuf$+LN$
                            CLog "&#91;"+LNBuf$+"&#93;",0
                            FOR n=1 TO z
                                IF LN$=SP$(n) THEN M590Exec$=LN$&#58;EXIT DO
                            NEXT
                            IF INSTR(LN$,"ERROR") THEN M590Exec$="ERROR &#91;"+LNBuf$+"&#93;"&#58;EXIT DO
                            LN$=""&#58;LNBuf$=""
                        END IF
                    CASE 0 TO 31
                    CASE ELSE
                        LN$=LN$+A$
                END SELECT
            END IF
        LOOP
        ClearTOTimer
    END FUNCTION

    FUNCTION GSMSend(t$,m$)
        LOCAL INTEGER n
        LOCAL STRING A$
        IF GSMf&lt;&gt;0 THEN GSMSend=10191&#58;EXIT FUNCTION
        a$="AT+CMGS="+chr$(34)+t$+CHR$(34)
        PRINT&#35;GSM,A$
        CLog A$,0
        PAUSE 1000
        a$=LEFT$(m$,140)
        PRINT&#35;GSM,A$+CHR$(26);
        CLog a$,0
        PAUSE 100
        DO
            A$=GetIO$(GSM,15)
            CLog A$,0
            IF INSTR(A$,"+CMGS&#58;") THEN GSMSend=0&#58;EXIT FUNCTION
            IF A$="T/O" THEN EXIT DO
        LOOP
        GSMSend=10156
    END FUNCTION
'&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;

    SUB CLog(Com$,obf)
        SELECT CASE Obf
            CASE 0
                PRINT DS$();Com$
            CASE 1
                PRINT DS$();STRING$(20,"&#35;")
            CASE ELSE
        END SELECT
    END SUB

    FUNCTION GetIO$(io,TimeOut)
        LOCAL STRING a$,b$
        LOCAL INTEGER c

        StartTOTimer TimeOut
        DO
            IF TOFg=1 THEN GetIO$="T/O"&#58;EXIT DO
            IF LOC(&#35;io)&lt;&gt;0 THEN
                A$=INPUT$(1,&#35;io)&#58;C=ASC(A$)
                SELECT CASE C
                    CASE 13
                        GetIO$=b$&#58;EXIT DO
                    CASE 0 TO 31
                    CASE ELSE
                        IF LEN(b$)+LEN(a$)&lt;255 THEN b$=b$+a$ ELSE b$=a$
                END SELECT
            END IF
        LOOP
        ClearTOTimer
    END FUNCTION

    SUB FlushIO(stream)
        LOCAL STRING A$
        DO WHILE LOC(&#35;stream)&lt;&gt;0
            PAUSE 50&#58;A$=INPUT$(LOC(&#35;stream),&#35;stream)&#58;PAUSE 50
        LOOP
    END SUB

    SUB CoreTMR
        PingTMR=PingTMR-1
        GSMPollTMR=GSMPollTMR-1
        RL1TMR=RL1TMR-1
        IF TChr$="&#42;" THEN TChr$=" " ELSE TChr$="&#42;"
        BuildLCD
    END SUB

    SUB StartTOTimer(Timeout)
        TOFg=0&#58;SETTICK TimeOut&#42;1000,SetTOFg,2
    END SUB

    SUB ClearTOTimer
        SETTICK 0,0,2&#58;TOFg=0
    END SUB

    SUB SetTOFg
        TOFg=1
    END SUB

    SUB SetClock
        RTC GETTIME
    END SUB


    SUB BuildLCD
        LCDLN1$="L" + STR$(LANf) + "G" + STR$(GSMf) + "S" + STR$(PIN(16)) + "O" + STR$(OBSMSCount,4,0,"0") + "I" + STR$(IBSMSCount,4,0,"0")
        LCDLN2$=LEFT$(LCDLN2$,10) + "    " + TChr$ + STR$(DistSMSCount,2,0,"0")
        'PRINT LCDLN1$&#58;PRINT LCDLN2$&#58;PRINT
    END SUB

    FUNCTION DS$()
        LOCAL a$,b$
        DO&#58;a$=date$&#58;b$=time$&#58;LOOP WHILE a$&lt;&gt;date$ OR b$&lt;&gt;time$
        DS$=RIGHT$(a$,4)+MID$(a$,3,3)+"-"+LEFT$(a$,2)+" "+b$+" "
    END FUNCTION

    FUNCTION Replace$(a$,b$,c$)
        LOCAL INTEGER z
        LOCAL STRING x$,y$
        z=1
        DO
            z=INSTR(z,a$,b$)
            IF z=0 THEN EXIT DO
            x$=LEFT$(a$,z-1)&#58;y$=MID$(a$,z+LEN(b$))&#58;a$=x$+c$+y$&#58;z=LEN(x$)+LEN(c$)
        LOOP
        Replace$=a$
    END FUNCTION

    FUNCTION URLDecode$(a$)
        LOCAL INTEGER z
        LOCAL STRING b$,c$
        z=1
        DO
            z=INSTR(z,a$,"%")
            IF z=0 OR z=LEN(a$) THEN EXIT DO
            b$=MID$(a$,z,3)&#58;c$=CHR$(VAL("&amp;h"+MID$(b$,2)))&#58;a$=Replace$(a$,b$,c$)
        LOOP
        URLDecode$=a$
    END FUNCTION

    FUNCTION LTrim$(a$)
        LOCAL INTEGER m
        FOR m=1 TO LEN(a$)
            IF not(MID$(a$,m,1)=" " OR MID$(a$,m,1)=CHR$(9)) THEN LTrim$=MID$(a$,m)&#58;EXIT FUNCTION
        NEXT
        LTrim$=""
    END FUNCTION

    FUNCTION RTrim$(a$)
        LOCAL INTEGER n
        FOR n=LEN(a$) TO 1 STEP -1
            IF not(MID$(a$,n,1)=" " OR MID$(a$,n,1)=CHR$(9)) THEN RTrim$=LEFT$(a$,n)&#58;EXIT FUNCTION
        NEXT
        RTrim$=""
    END FUNCTION

    FUNCTION Split(a$,b$)
        LOCAL INTEGER z,n,m
        ON ERROR SKIP
        ERASE SP$
        z=1&#58;n=0
        DO
            z=INSTR(z,a$,b$)
            IF z=0 THEN
                IF n=0 THEN
                    DIM SP$(1)&#58;SP$(1)=a$&#58;Split=1&#58;EXIT FUNCTION
                ELSE
                    EXIT DO
                END IF
            ELSE
                n=n+1&#58;z=z+LEN(b$)
            END IF
        LOOP

        m=n+1&#58;n=1
        DIM SP$(m)
        DO
            z=INSTR(1,a$,b$)
            IF z=0 THEN
                SP$(m)=a$&#58;EXIT DO
            ELSE
                SP$(n)=LEFT$(a$,z-1)&#58;a$=MID$(a$,z+LEN(b$))&#58;n=n+1
            END IF
        LOOP
        Split=m
    END FUNCTION


</pre><br /><br /><br /><br /><br /><br /><br /><br /><br />
    
    


                <div id="PageInternalFooterDiv"></div>
                <div id="MainFooterDiv">
                    <!-- Used for layout purposes only -->
                </div>
            </div>

        </div>
            
        <div id="FooterDiv">
             
        </div>

    </form>  
</body>

<!-- Mirrored from fruitoftheshed.com/MMBasic.History.aspx?Page=MMBasic.Micromite-SMS-Text-Gateway&Revision=0 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:53:30 GMT -->
</html>
