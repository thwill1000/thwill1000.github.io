

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" >

<!-- Mirrored from fruitoftheshed.com/MMBasic.Print.aspx?Page=MMBasic.Astrofix-part-of-the-original-MMBasic-library by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:12:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><title>
	Astrofix - Fruit Of The Shed
</title><link rel="stylesheet" type="text/css" href="Themes/Print.css" /></head>
<body>
    <form name="frmPrint" method="post" action="http://fruitoftheshed.com/Print.aspx?NS=MMBasic&amp;Page=MMBasic.Astrofix-part-of-the-original-MMBasic-library" id="frmPrint">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTIwMDg4Njc4MjcPZBYCAgEPZBYCAgEPFgIeBFRleHQF7lA8aDEgY2xhc3M9InBhZ2V0aXRsZSI+QXN0cm9maXg8L2gxPjxzbWFsbD5Nb2RpZmllZCBvbiAyMDE2LzEyLzIzIDIzOjE3IGJ5IEFkbWluaXN0cmF0b3IgJm1kYXNoOyBDYXRlZ29yaXplZCBhczogQXN0cm9ub215LCBEYXRlcywgVGltZSBhbmQgQ2xvY2tzLCBHUFMsIF9MSUIgT3JpZ2luYWwgTU1CYXNpYzwvc21hbGw+PGJyIC8+PGJyIC8+PGgyIGNsYXNzPSJzZXBhcmF0b3IiPlRoaXMgbW9kdWxlIGlzIHBhcnQgb2YgdGhlIG9yaWdpbmFsIE1NQmFzaWMgbGlicmFyeS4gSXQgaXMgcmVwcm9kdWNlZCBoZXJlIHdpdGgga2luZCBwZXJtaXNzaW9uIG9mIEh1Z2ggQnVja2xlIGFuZCBHZW9mZiBHcmFoYW0uIEJlIGF3YXJlIGl0IG1heSByZWZlcmVuY2UgZnVuY3Rpb25hbGl0eSB3aGljaCBoYXMgY2hhbmdlZCBvciBpcyBkZXByZWNhdGVkIGluIHRoZSBsYXRlc3QgdmVyc2lvbnMgb2YgTU1CYXNpYy48YSBjbGFzcz0iaGVhZGVyYW5jaG9yIiBpZD0iVGhpc19tb2R1bGVfaXNfcGFydF9vZl90aGVfb3JpZ2luYWxfTU1CYXNpY19saWJyYXJ5X0l0X2lzX3JlcHJvZHVjZWRfaGVyZV93aXRoX2tpbmRfcGVybWlzc2lvbl9vZl9IdWdoX0J1Y2tsZV9hbmRfR2VvZmZfR3JhaGFtX0JlX2F3YXJlX2l0X21heV9yZWZlcmVuY2VfZnVuY3Rpb25hbGl0eV93aGljaF9oYXNfY2hhbmdlZF9vcl9pc19kZXByZWNhdGVkX2luX3RoZV9sYXRlc3RfdmVyc2lvbnNfb2ZfTU1CYXNpY18wIiBocmVmPSIjVGhpc19tb2R1bGVfaXNfcGFydF9vZl90aGVfb3JpZ2luYWxfTU1CYXNpY19saWJyYXJ5X0l0X2lzX3JlcHJvZHVjZWRfaGVyZV93aXRoX2tpbmRfcGVybWlzc2lvbl9vZl9IdWdoX0J1Y2tsZV9hbmRfR2VvZmZfR3JhaGFtX0JlX2F3YXJlX2l0X21heV9yZWZlcmVuY2VfZnVuY3Rpb25hbGl0eV93aGljaF9oYXNfY2hhbmdlZF9vcl9pc19kZXByZWNhdGVkX2luX3RoZV9sYXRlc3RfdmVyc2lvbnNfb2ZfTU1CYXNpY18wIiB0aXRsZT0iTGluayB0byB0aGlzIFNlY3Rpb24iPiYjMDE4Mjs8L2E+PC9oMj48Yj5Ob3RlPC9iPjogQW55IHJlcXVpcmVkIGZpbGUocykgYXJlIGF2YWlsYWJsZSBpbiB0aGUgYXR0YWNobWVudHMgdGFiICh0b3AgcmlnaHQpLjxiciAvPjxiciAvPkhlcmUgaXMgYSBwcm9ncmFtIHRoYXQgbWF5IGJlIG9mIHVzZSB0byB0aGUgYnVkZGluZyBhc3Ryb25vbWVyIG9yIG90aGVycyB3aG8gbWlnaHQgYmUgaW50ZXJlc3RlZC48YnIgLz48YnIgLz5JdCB1c2VzIHRoZSBFTTQwOCBHUFMgbW9kdWxlIHdpdGggYSA0N0sgcmVzaXN0b3IgYmV0d2VlbiBtb2R1bGUgcGluMShlbmFibGUpIGFuZCBwaW4yKEduZCkuPGJyIC8+IDxiciAvPkNvbm5lY3Rpb24gdG8gdGhlIE1heGltaXRlIGFyZS4uPGJyIC8+ICAgICAgICA8YnIgLz48cHJlPg0KICBFTTQwOCAgICAgICAgICAgTWF4aW1pdGUNCiYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7JiM0NTsmIzQ1OyYjNDU7DQogIHBpbjEoZW5hYmxlKSAgICBQaW4xOQ0KICBwaW4yKEduZCkgICAgICAgR05EDQogIHBpbjMoUngpICAgICAgICBQaW4xNiAoVGhpcyBjb25uZWN0aW9uIGlzIG5vdCBlc3NlbnRpYWwpDQogIHBpbjQoVHgpICAgICAgICBQaW4xNQ0KICBwaW41KCszLjNWKSAgICAgKzMuM1YNCjwvcHJlPjxiciAvPldoZW4geW91IHJ1biB0aGUgcHJvZ3JhbSBpdCB3aWxsIGFzayBmb3IgeW91ciB0aW1lIHpvbmUsIGp1c3QgaGl0IGVudGVyIGZvciBkZWZhdWx0IFVUQysxMCAoU3lkbmV5L01lbGIuIG5vIGFsbG93YW5jZSBmb3IgZGF5bGlnaHQgc2F2aW5nKS4gT25jZSB0aGUgdGltZSB6b25lIGlzIHNldCB0aGUgcHJvZ3JhbSB3aWxsIHdhaXQgZm9yIHRoZSBtb2R1bGUgdG8gZ2V0IGEgc2F0ZWxsaXRlIGxvY2suIFdoZW4gYSBsb2NrIGlzIGFjaGlldmVkIHRoZSBwcm9ncmFtIHdpbGwgY29tbWVuY2UgY2FsY3VsYXRpbmcgbG9jYWwgc29sYXIgYW5kIGxvY2FsIHNpZGVyZWFsIHRpbWUuIEl0IGFsbG93cyB0aGUgZXF1YXRvcmlhbCBjby1vcmRpbmF0ZXMgb2YgYSBjZWxlc3RpYWwgb2JqZWN0IHRvIGJlIGVudGVyZWQsIGl0IHdpbGwgdGhlbiB0cmFjayBpdHMgcG9zaXRpb24gaW4gdGhlIHNreS4gU29ycnkgbm8gZ3JhcGhpY3MsIGp1c3Qgc2lkZXJlYWwgaG91cnMgZWFzdCBvciB3ZXN0IG9mIHRoZSBsb2NhbCBtZXJpZGlhbiBhbmQgdGhlIGFuZ2xlIG9mIGFyYyBub3J0aCBvciBzb3V0aCBmcm9tIHplbml0aC4gSXQgd2lsbCBhbHNvIGluZGljYXRlIHRoZSBvYmplY3QncyB2aXNpYmlsaXR5IGluIHRoZSBuaWdodCBza3ksIGFzIHNvbWUgb2JqZWN0cyBtYXkgbmV2ZXIgYmUgdmlzaWJsZSwgd2hpbGUgb3RoZXJzIG1heSBhbHdheXMgYmUgdmlzaWJsZS4gVGhlIGFjY3VyYWN5IGFwcGVhcnMgdG8gYmUgd2l0aGluIGEgc2Vjb25kIG9yIHR3bywgd2hpY2ggc2hvdWxkIGJlIGFkZXF1YXRlIGZvciB0aGUgY2FzdWFsIG9ic2VydmVyLiBPcmlnaW5hbGx5IHdyaXR0ZW4gd2l0aCBNTUJhc2ljIDQuM0E7IHdvcmtzIG9uIDQuNSBjb2xvdXIgb3IgbW9uby48YnIgLz48YnIgLz5SYXkgQWxnZXI8YnIgLz48YnIgLz48Yj5BU1RST0ZJWC5CQVM8L2I+OjxiciAvPjxwcmU+DQonUHJvZ3JhbSB0byB1c2UgR1BTIE1vZHVsZSBmb3IgQXN0cm9ub21pY2FsIEZpeA0KJ1dyaXR0ZW4gYnkgUmF5IEFsZ2VyIFNlcHQgMjAxNA0KR29UbyBTVEFSVA0KSU5WVFomIzU4Ow0KQ2xzDQpQcmludCAiSW52YWxpZCBUaW1lIFpvbmUhIg0KUGF1c2UgMTAwMA0KU1RBUlQmIzU4Ow0KVFpWID0gMA0KR29TdWIgVElUTEUNClByaW50QCgxLDQyMCkiR01UICsvLSBvZmZzZXQoZGVmYXVsdCArMTApIg0KUHJpbnRAKDEsNDAwKSJMb2NhbCBUaW1lIFpvbmUiOw0KSW5wdXQgTFRaJA0KSWYgTFRaJCA9ICIiIFRoZW4gTFRaJCA9ICIrMTAiDQpMVFogPSBWYWwoTFRaJCkNCklmIExUWiZndDsxMyBPciBMVFombHQ7LTEyIFRoZW4gR29UbyBJTlZUWg0KSWYgTFRaJmd0OzAgVGhlbiBMVFokID0gIisiK1N0ciQoTFRaKSBFbHNlIExUWiQgPSBTdHIkKExUWikNClRaViA9IDENCkdvU3ViIFRJVExFDQpQcmludEAoMSwyNDApIlBsZWFzZSB3YWl0IGEgbWludXRlLCBnZXR0aW5nIHNhdGVsaXRlIGZpeCEgICAiDQpEaW0gTSgxMikgJ2FjY3VtdWxhdGVkIGRheXMgZm9yIGVhY2ggbW9udGgNCkRpbSBQYXJhJCgxMCkgJ0dQUyBwYXJhbWV0ZXJzDQpNKDEpID0gMCYjNTg7TSgyKSA9IDMxJiM1ODtNKDMpID0gNTkmIzU4O00oNCkgPSA5MCYjNTg7TSg1KSA9IDEyMCYjNTg7TSg2KSA9IDE1MQ0KTSg3KSA9IDE4MSYjNTg7TSg4KSA9IDIxMiYjNTg7TSg5KSA9IDI0MyYjNTg7TSgxMCkgPSAyNzMmIzU4O00oMTEpID0gMzA0JiM1ODtNKDEyKSA9IDMzNA0KTllMID0gLTU3LjI5MDcgJ05vcm1hbCB5ZWFyIGxvc3Mgc2Vjb25kcw0KTFlHID0gMTc5LjI2NDYgJ0xlYXAgeWVhciBnYWluIHNlY29uZHMNClJFRiA9IDIzOTkyLjI3ICdHcmVlbndpY2ggbWVhbiBzaWRlcmVhbCBzZWNvbmRzIEAgMDBociAxIEphbiAyMDAwDQpDRiA9IDEuMDAyNzM3OSAnQ29udmVyc2lvbiBmYWN0b3Igc29sYXIgdG8gc2lkZXJlYWwNClBpbigxOSkgPSAxDQpTZXRQaW4gMTksOA0KT3BlbiAiQ09NMSYjNTg7NDgwMCwxMDAsSEFOREwxIiBBcyAmIzM1OzEgJ2ludGVydXB0IGlmIGNoYXJhY3RlciByZWNlaXZlZA0KR29TdWIgSU5JVCAnSW5pdGlhbGl6ZSB2YXJpYWJsZXMNClNPID0gMCAnc3VwcmVzcyBvYmplY3QgaW5mbyBkaXNwbGF5DQpCRUdJTiYjNTg7DQpLJD1JbmtleSQNCklmIEskID0gIn4iIFRoZW4gR29UbyBTSFVURE4gJ0V4aXQgQ29kZQ0KUGF1c2UgMjAwDQpJZiBLJCA9ICJjIiBUaGVuIEdvVG8gS0VZQUNUMSAnSG90IEtleSA9IEFjdGlvbg0KSWYgSyQgPSAiQyIgVGhlbiBHb1RvIEtFWUFDVDENCidBZGRpdGlvbmFsIGFjdGlvbiBLZXlzDQonY2FuIGJlIGFkZGVkIGhlcmUNCkdvVG8gQkVHSU4NClRJVExFJiM1ODsNCkNscw0KUHJpbnQgIiAgICAgICAgJiM0MjsmIzQyOyYjNDI7JiM0MjsmIzQyOyYjNDI7JiM0MjsmIzQyOyBNYXhpbWl0ZSBHUFMgQXN0cm9maXggIFYxLjEgJiM0MjsmIzQyOyYjNDI7JiM0MjsmIzQyOyYjNDI7JiM0MjsmIzQyOyAgICAgIjsNCklmIFRaViA9IDAgVGhlbiBSZXR1cm4NClByaW50ICJUaW1lIFpvbmUoIjtMVFokOyIpIg0KUHJpbnRAKDEsNDIwKSJQcmVzcyAmIzkxO0MmIzkzOyB0byBlbnRlciBzdGVsbGFyIGNvLW9yZGluYXRlcywgUHJlc3MgJiM5MTt+JiM5MzsgdG8gRXhpdCINClJldHVybg0KU0hVVEROJiM1ODsNCkNsb3NlICYjMzU7MSAnc3RvcCBjb20gcG9ydA0KUGluKDE5KSA9IDAgJ2Rpc2FibGUgR1BTIG1vZHVsZQ0KRW5kDQoNCktFWUFDVDEmIzU4Ow0KQ2xvc2UgJiMzNTsxICdzdG9wIGNvbSBwb3J0DQpQcmludEAoMSwyNDApICJFbnRlciBjby1vcmRpbmF0ZXMgZm9yIGNlbGVzdGlhbCBvYmplY3QiDQpQcmludCAiUmlnaHQgQXNjZW5zaW9uPyINCklucHV0IkhvdXJzIjtBMQ0KSW5wdXQiTWludXRlcyI7QjENCklucHV0IlNlY29uZHMiO0MxDQpPUkEgPSBBMSYjNDI7MzYwMCtCMSYjNDI7NjArQzEgJ09iamVjdCBSQSBzZWNvbmRzDQpQcmludCAiRGVjbGluYXRpb24/ICI7DQpJbnB1dCIrIG9yIC0iO1gkICdub3J0aCBvciBzb3V0aCBvZiBjZWxlc3RpYWwgZXF1YXRvcg0KSWYgWCQgPSAiKyIgVGhlbiBYID0gMQ0KSWYgWCQgPSAiLSIgVGhlbiBYID0gLTENCklucHV0IkRlZ3JlZXMiO0EyDQpJbnB1dCJNaW51dGVzIjtCMg0KSW5wdXQiU2Vjb25kcyI7QzINCk9ERSA9IChBMitCMi82MCtDMi8zNjAwKSYjNDI7WCAnT2JqZWN0IERlY2xpbmF0aW9uIGluIGRlZ3JlZXMNClNPID0gMSAnQWxsb3cgb2JqZWN0IGluZm8gZGlzcGxheQ0KR29TdWIgVElUTEUNCk9wZW4gIkNvbTEmIzU4OzQ4MDAsMTAwLEhBTkRMMSIgQXMgJiMzNTsxICdzdGFydCBjb20gcG9ydA0KR29UbyBCRUdJTg0KDQpJTklUJiM1ODsNCkZvciBJID0gMSBUbyAxMCAnQ2xlYXIgcGFyYW1ldGVyIGFycmF5IHN0cmluZ3MNClBhcmEkKEkpID0gIiINCk5leHQgSQ0KSiA9IDEgJ2luaXRpYWwgcGFyYW1ldGVyIGNvdW50ZXINCkNUID0gMCAnaW5pdGlhbCBjb2xsZWN0IHRyaWdnZXINCk1PID0gMCAnbW9udGgNClJldHVybg0KDQpIQU5ETDEmIzU4Ow0KQyQgPSBJbnB1dCQoMSwmIzM1OzEpDQpJZiBDVCA9IDEgVGhlbiBHb1RvIENPTEwgJzEgPSBDb2xsZWN0IENoYXJzLg0KSWYgQyQgPSAiJCIgVGhlbiBDVCA9IDEgJyBDb2xsZWN0IHRyaWdnZXINCkdvVG8gRVJUICdleGl0DQpDT0xMJiM1ODsNCklmIEMkID0gIiwiIFRoZW4gR29UbyBOUEFSICcgaW5jIEogZm9yIG5leHQgcGFyYW1ldGVyDQpJZiBDJCA9ICImIzQyOyIgVGhlbiBHb1RvIEVTVFIgJ0VuZCBvZiBzdHJpbmcgZ28gY2hlY2sNClBhcmEkKEopID0gUGFyYSQoSikgKyBDJA0KR29UbyBFUlQgJ2V4aXQNCk5QQVImIzU4Ow0KSiA9IEogKyAxDQpJZiBKID0gMTEgVGhlbiBHb1RvIEVTVFIgJ2Vub3VnaCBnbyBjaGVjayBQYXJhIHN0cmluZw0KR29UbyBFUlQgJ2V4aXQNCkVTVFImIzU4Ow0KSWYgUGFyYSQoMSkgPSJHUFJNQyIgVGhlbiBHb1RvIFJNQw0KSWYgUGFyYSQoMSkgPSJHUEdHQSIgVGhlbiBHb1RvIEdHQQ0KSWYgUGFyYSQoMSkgPSJHUEdTViIgVGhlbiBHb1RvIEdTVg0KSUVSVCYjNTg7IEdvU3ViIElOSVQgJ2luaXRpYWwNCkVSVCYjNTg7IElSZXR1cm4NCg0KJ1Byb2Nlc3MgUk1DIHN0cmluZyAtIGNhbGN1bGF0ZSBNZWFuIFNpZGVyZWFsIFRpbWUNCidleGFtcGxlIHN0cmluZy4uDQonJEdQUk1DLDExNDA0MS4wMDAsQSwzNzUwLjU3OTAsUywxNDUxMC4wNzI1LEUsMC4yNCwzMS4wNiwyNjA4MTQsLCYjNDI7MkYNClJNQyYjNTg7DQpJZiBQYXJhJCgzKSZsdDsmZ3Q7IkEiIFRoZW4gR29UbyBJRVJUICdpbml0aWFsIGFuZCBleGl0DQpQcmludEAoMSwyNDApIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIg0KWVIgPSBWYWwoUmlnaHQkKFBhcmEkKDEwKSwyKSkgJ2dldCBkYXRlIGFuZCB0aW1lDQpNTyA9IFZhbChNaWQkKFBhcmEkKDEwKSwzLDIpKQ0KRFkgPSBWYWwoTGVmdCQoUGFyYSQoMTApLDIpKQ0KSFIgPSBWYWwoTGVmdCQoUGFyYSQoMiksMikpDQpNTiA9IFZhbChNaWQkKFBhcmEkKDIpLDMsMikpDQpTRSA9IFZhbChNaWQkKFBhcmEkKDIpLDUsMikpDQonQ29kZSB0byBtYW5pcHVsYXRlIGNvLW9yZGluYXRlcw0KSWYgUGFyYSQoNykgPSAiRSIgVGhlbiBUWkEgPSAxICdUaW1lIHpvbmUgYWRqdXN0DQpJZiBQYXJhJCg3KSA9ICJXIiBUaGVuIFRaQSA9IC0xDQpMTEcgPSBWYWwoTGVmdCQoUGFyYSQoNiksMykpICsgVmFsKE1pZCQoUGFyYSQoNiksNCw3KSkvNjANCkxMRyA9IExMRyAmIzQyOyBUWkEgJ0xvY2FsIExvbmdpdHVkZQ0KQURKTCA9IDg2NDAwICYjNDI7IExMRy8zNjAgJ1NlY29uZHMgYWRqdXN0IGZvciBsb2NhbCBsb25naXR1ZGUNCklmIFBhcmEkKDUpID0gIk4iIFRoZW4gREVDID0gMQ0KSWYgUGFyYSQoNSkgPSAiUyIgVGhlbiBERUMgPSAtMQ0KTExUID0gVmFsKExlZnQkKFBhcmEkKDQpLDIpKSArIFZhbChNaWQkKFBhcmEkKDQpLDMsNykpLzYwDQpMTFQgPSBMTFQgJiM0MjsgREVDICdMb2NhbCBMYXRpdHVkZQ0KJ0NvZGUgdG8gY2FsY3VsYXRlIGxvY2FsIFNvbGFyIGFuZCBTaWRlcmVhbCB0aW1lDQpMWVIgPSBJbnQoWVIvNCkgKyAxICdsZWFwIHllYXJzDQpOWVIgPSBZUiAtIExZUiAnbm9ybWFsIHllYXJzDQpMT1JHID0gTllSJiM0MjtOWUwgKyBMWVImIzQyO0xZRyAnY2FsYyBzaWRzZWNzIGxvc3Qgb3IgZ2FpbmVkIHNpbmNlIDAwaHIgMSBKYW4gMjAwMA0KTlJFRiA9IExPUkcgKyBSRUYgJ25ldyByZWZlcmVuY2UgZm9yIDAwaHIgMSBKYW4gY3VycmVudCB5ZWFyDQpEWVMgPSBNKE1PKSArIERZIC0xICcgYWRkIGRheXMgdG8gZGF0ZSB1cCB0byAwMGhycw0KSWYgSW50KFlSLzQpID0gWVIvNCBBbmQgTU8mZ3Q7MiBUaGVuIERZUyA9IERZUyArIDEgJ0FsbG93IGZvciBMZWFwIGRheQ0KR01UUyA9IEhSJiM0MjszNjAwICsgTU4mIzQyOzYwICsgU0UgJ0dyZWVud2ljaCBNZWFuIFRpbWUgU2Vjb25kcw0KVCA9IEdNVFMgKyBMVFomIzQyOzM2MDAgJ0xvY2FsIE1lYW4gU29sYXIgVGltZSBTZWNvbmRzDQpHb1N1YiBTMkhNUw0KUyQgPSBGb3JtYXQkKFMsIiUwMi4wZiIpDQpQcmludEAoMSwyMCkiICAgTG9jYWwgU29sYXIgVGltZSA9ICI7SCQ7IiYjNTg7IjtNJDsiJiM1ODsiO1MkDQpTU0VMID0gR01UUyAmIzQyOyBDRiAnU2lkc2VjcyBlbGFwc2VkIHNpbmNlIDAwaHIgdG9kYXkNClNTRUwgPSBTU0VMICsgQURKTCAnYWRqdXN0IGZvciBsb25naXR1ZGUNClNTRUEgPSBEWVMgJiM0MjsgMjM2LjU1NTQgJ3NpZCBzZWNzIGFkdmFuY2VkIGZyb20gMDBociBKYW4gMQ0KVCA9IE5SRUYgKyBTU0VBICsgU1NFTCAnc3RhcnRpbmcgcG9pbnQgcGx1cyBlbGFwc2VkDQpHb1N1YiBTMkhNUw0KUHJpbnRAKDEsNDApIkxvY2FsIFNpZGVyZWFsIFRpbWUgPSI7SDsiIEhycyI7TTsiIE1pbnMgIjtTJDsiIFNlY3MgICINClByaW50QCgxLDYwKTsNCkxMVCQgPSBGb3JtYXQkKEFicyhMTFQpLCIlMi4zZiIpDQpQcmludCJMb2NhbCBQb3NpdGlvbiA9ICI7TExUJDsiIERlZyAiO1BhcmEkKDUpOyIgIjtMTEc7IiBEZWcgIjtQYXJhJCg3KTsiICAiDQpQcmludA0KSWYgU08gPSAwIFRoZW4gR29UbyBJRVJUDQpMUkEgPSBIJiM0MjszNjAwK00mIzQyOzYwK1MgJ2xvY2FsIFJBIHNlY3MNCk9NTCA9IE9SQS1MUkEgJ29iamVjdCBSQSBtaW51cyBsb2NhbCBSQQ0KVCA9IEFicyhPTUwpDQpHb1N1YiBTMkhNUw0KSWYgT01MJmd0OzAgVGhlbiBZJCA9ICJFYXN0IiBFbHNlIFkkID0gIldlc3QiDQpQcmludEAoMSwxMDApIk9iamVjdCBDby1vcmRpbmF0ZXMtIg0KUHJpbnQNClByaW50ICJSQSA9ICI7QTE7IiBIcnMiO0IxOyIgTWlucyI7QzE7IiBTZWNzIg0KUHJpbnQgIkRFQyA9ICI7QTI7IiBEZWdzIjtCMjsiIE1pbnMiO0MyOyIgU2VjcyINClByaW50QCgxLDE2MCkiT2JqZWN0IGlzLSINClByaW50DQpQcmludCBIJDsiIEhycyAiO00kOyIgTWlucyAiO1MkOyIgU2VjcyAiO1kkOyIgb2YgbG9jYWwgbWVyaWRpYW4gICINCkFORyA9IE9ERS1MTFQNClBPTSA9IE9ERSYjNDI7TExUICdwbHVzIG9yIG1pbnVzDQpJZiBBTkcgJmx0OyAwIFRoZW4gWiQgPSAiU291dGgiIEVsc2UgWiQgPSAiTm9ydGgiDQpET0EgPSBBYnMoQU5HKSAnRGVncmVlcyBvZiBhbmdsZQ0KTU9BID0gKERPQSAtIEludChET0EpKSYjNDI7NjAgJ01pbnV0ZXMgb2YgYW5nbGUNClNPQSA9IChNT0EgLSBJbnQoTU9BKSkmIzQyOzYwICdTZWNvbmRzIG9mIGFuZ2xlDQpET0EgPSBJbnQoRE9BKQ0KTU9BID0gSW50KE1PQSkNClNPQSA9IENpbnQoU09BJiM0MjsxMCkvMTANClByaW50ICJPbiBhcmMgKSI7RE9BOyIgRGVncyI7TU9BOyIgTWlucyI7U09BOyIgU2VjcyAiO1okOyIgb2YgemVuaXRoIg0KSWYgQU5HICZndDs9IDkwIE9yIEFORyAmbHQ7PSAtOTAgVGhlbiBHb1RvIE9CTlIgJ29iamVjdCBuZXZlciByaXNlcw0KRUxBID0gOTAtQWJzKEFORykgJ29iamVjdCBlbGV2YXRpb24gYXQgbG9jYWwgbWVyaWRpYW4NCldBRCA9IDkwLUFicyhPREUpICd3b3JraW5nIGFuZ2xlIGRlZ3MNCldBUiA9IFJhZChXQUQpICdyYWRpYW5zDQpMTFIgPSBSYWQoQWJzKExMVCkpICdsb2NhbCBsYXRpdHVkZSByYWRpYW5zDQpIWVAgPSBTaW4oV0FSKSAnc29tZSB0cmlnb25vbWV0cnkNCkFESiA9IENvcyhXQVIpDQpBREogPSBBREomIzQyO1RhbihMTFIpDQpJZiBBREomZ3Q7SFlQIFRoZW4gR29UbyBPQk5TICdvYmplY3QgbmV2ZXIgc2V0cw0KT1BQID0gU3FyKEhZUF4yLUFESl4yKSAnUHl0aGFnb3Jhcw0KSWYgQURKID0gMCBUaGVuIEdvVG8gRVFVQSAnRGVjIG9yIExhdCA9IDAgZGVncy4NClZBUiA9IEF0bihPUFAvQURKKSAnKy8tIHZpc2libGUgaG91ciBhbmdsZSByYWRpYW5zDQpWQUQgPSBEZWcoVkFSKSAnZGVncy4NCklmIFBPTSAmZ3Q7PSAwIFRoZW4gVkFEID0gMTgwLVZBRCAnYW5nbGUgJmd0OyA5MA0KR29UbyBSRVNVTFQNCk9CTlImIzU4Ow0KUHJpbnQgIk9iamVjdCBuZXZlciByaXNlcywgbm90IHZpc2libGUgZnJvbSB0aGlzIGxvY2F0aW9uLiINCkdvVG8gUkVORA0KT0JOUyYjNTg7DQpQcmludCAiT2JqZWN0IG5ldmVyIHNldHMsIGFsd2F5cyB2aXNpYmxlIGluIG5pZ2h0IHNreS4iDQpHb1RvIFJFTkQNClJFU1VMVCYjNTg7DQpSQVMgPSBWQUQvMTUmIzQyOzM2MDAgJ1JBIHNlY3MNCkRJRiA9IEFicyhPTUwpLVJBUyAnZGlmZmVyZW5jZSBpbiBSQSBzZWNzDQpJZiBESUYmZ3Q7MCBUaGVuIEdvVG8gT0JOViAnbm90IHZpc2libGUNCklmIE9NTCAmZ3Q7IDAgVGhlbiBUID0gQWJzKE9NTCkgKyBSQVMgRWxzZSBUID0gQWJzKERJRikNCkdvU3ViIFMySE1TDQpQcmludCAiVmlzaWJsZSBpbiBuaWdodCBza3ksIHNldHRpbmcgaW4gIjtIJDsiIEhycyAiO00kOyIgTWlucyAiO1MkOyIgU2VjcyINCkdvVG8gUkVORA0KT0JOViYjNTg7DQpJZiBPTUwmZ3Q7MCBUaGVuIEdvVG8gT1lUUiAnb2JqZWN0IHlldCB0byByaXNlDQpQcmludCAiTm90IGN1cnJlbnRseSB2aXNpYmxlLCBhbHJlYWR5IHNldC4gICAgICAgICINCkdvVG8gUkVORA0KT1lUUiYjNTg7DQpUID0gQWJzKERJRikNCkdvU3ViIFMySE1TDQpQcmludCAiTm90IHZpc2libGUsIHJpc2luZyBpbiAiO0gkOyIgSHJzICI7TSQ7IiBNaW5zICI7UyQ7IiBTZWNzICAiDQonQ29kZSByZXF1aXJlZCBmb3IgYmVhcmluZyBhbmQgZWxldmF0aW9uDQpSRU5EJiM1ODsNCidhbGxvdyBhZGQgY29kZSBiZWZvcmUgcm91dGluZSBlbmQNCkdvVG8gSUVSVA0KDQpTMkhNUyYjNTg7DQpIID0gVC8zNjAwDQpNID0gKEgtSW50KEgpKSYjNDI7NjANClMgPSAoTS1JbnQoTSkpJiM0Mjs2MA0KSCA9IEludChIKQ0KSCA9IChILzI0IC0gSW50KEgvMjQpKSAmIzQyOyAyNCAnTW9kdWx1cyAyNA0KTSA9IEludChNKQ0KUyA9IENpbnQoUyYjNDI7MTApLzEwDQpIJCA9IEZvcm1hdCQoSCwiJTAyLjBmIikNCk0kID0gRm9ybWF0JChNLCIlMDIuMGYiKQ0KUyQgPSBGb3JtYXQkKFMsIiUwMi4xZiIpDQpSZXR1cm4NCg0KR1NWJiM1ODsNClByaW50QCgxLDM4MCkiU2F0aWxpdGVzIGF2YWlsYWJsZSAiO1BhcmEkKDQpIiwgIg0KR29UbyBJRVJUDQoNCkdHQSYjNTg7DQpQcmludEAoMTUwLDM4MCkiVXNpbmcgIjtQYXJhJCg4KTsiICAiDQpHb1RvIElFUlQNCg0KDQo8L3ByZT5kZEKfCO2KhiCHsPVgLyXrnQGeifVp" />
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="03CF0AB7" />
</div>
        <h1 class="pagetitle">Astrofix</h1><small>Modified on 2016/12/23 23:17 by Administrator &mdash; Categorized as: Astronomy, Dates, Time and Clocks, GPS, _LIB Original MMBasic</small><br /><br /><h2 class="separator">This module is part of the original MMBasic library. It is reproduced here with kind permission of Hugh Buckle and Geoff Graham. Be aware it may reference functionality which has changed or is deprecated in the latest versions of MMBasic.<a class="headeranchor" id="This_module_is_part_of_the_original_MMBasic_library_It_is_reproduced_here_with_kind_permission_of_Hugh_Buckle_and_Geoff_Graham_Be_aware_it_may_reference_functionality_which_has_changed_or_is_deprecated_in_the_latest_versions_of_MMBasic_0" href="#This_module_is_part_of_the_original_MMBasic_library_It_is_reproduced_here_with_kind_permission_of_Hugh_Buckle_and_Geoff_Graham_Be_aware_it_may_reference_functionality_which_has_changed_or_is_deprecated_in_the_latest_versions_of_MMBasic_0" title="Link to this Section">&#0182;</a></h2><b>Note</b>: Any required file(s) are available in the attachments tab (top right).<br /><br />Here is a program that may be of use to the budding astronomer or others who might be interested.<br /><br />It uses the EM408 GPS module with a 47K resistor between module pin1(enable) and pin2(Gnd).<br /> <br />Connection to the Maximite are..<br />        <br /><pre>
  EM408           Maximite
&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;
  pin1(enable)    Pin19
  pin2(Gnd)       GND
  pin3(Rx)        Pin16 (This connection is not essential)
  pin4(Tx)        Pin15
  pin5(+3.3V)     +3.3V
</pre><br />When you run the program it will ask for your time zone, just hit enter for default UTC+10 (Sydney/Melb. no allowance for daylight saving). Once the time zone is set the program will wait for the module to get a satellite lock. When a lock is achieved the program will commence calculating local solar and local sidereal time. It allows the equatorial co-ordinates of a celestial object to be entered, it will then track its position in the sky. Sorry no graphics, just sidereal hours east or west of the local meridian and the angle of arc north or south from zenith. It will also indicate the object's visibility in the night sky, as some objects may never be visible, while others may always be visible. The accuracy appears to be within a second or two, which should be adequate for the casual observer. Originally written with MMBasic 4.3A; works on 4.5 colour or mono.<br /><br />Ray Alger<br /><br /><b>ASTROFIX.BAS</b>:<br /><pre>
'Program to use GPS Module for Astronomical Fix
'Written by Ray Alger Sept 2014
GoTo START
INVTZ&#58;
Cls
Print "Invalid Time Zone!"
Pause 1000
START&#58;
TZV = 0
GoSub TITLE
Print@(1,420)"GMT +/- offset(default +10)"
Print@(1,400)"Local Time Zone";
Input LTZ$
If LTZ$ = "" Then LTZ$ = "+10"
LTZ = Val(LTZ$)
If LTZ&gt;13 Or LTZ&lt;-12 Then GoTo INVTZ
If LTZ&gt;0 Then LTZ$ = "+"+Str$(LTZ) Else LTZ$ = Str$(LTZ)
TZV = 1
GoSub TITLE
Print@(1,240)"Please wait a minute, getting satelite fix!   "
Dim M(12) 'accumulated days for each month
Dim Para$(10) 'GPS parameters
M(1) = 0&#58;M(2) = 31&#58;M(3) = 59&#58;M(4) = 90&#58;M(5) = 120&#58;M(6) = 151
M(7) = 181&#58;M(8) = 212&#58;M(9) = 243&#58;M(10) = 273&#58;M(11) = 304&#58;M(12) = 334
NYL = -57.2907 'Normal year loss seconds
LYG = 179.2646 'Leap year gain seconds
REF = 23992.27 'Greenwich mean sidereal seconds @ 00hr 1 Jan 2000
CF = 1.0027379 'Conversion factor solar to sidereal
Pin(19) = 1
SetPin 19,8
Open "COM1&#58;4800,100,HANDL1" As &#35;1 'interupt if character received
GoSub INIT 'Initialize variables
SO = 0 'supress object info display
BEGIN&#58;
K$=Inkey$
If K$ = "~" Then GoTo SHUTDN 'Exit Code
Pause 200
If K$ = "c" Then GoTo KEYACT1 'Hot Key = Action
If K$ = "C" Then GoTo KEYACT1
'Additional action Keys
'can be added here
GoTo BEGIN
TITLE&#58;
Cls
Print "        &#42;&#42;&#42;&#42;&#42;&#42;&#42;&#42; Maximite GPS Astrofix  V1.1 &#42;&#42;&#42;&#42;&#42;&#42;&#42;&#42;     ";
If TZV = 0 Then Return
Print "Time Zone(";LTZ$;")"
Print@(1,420)"Press &#91;C&#93; to enter stellar co-ordinates, Press &#91;~&#93; to Exit"
Return
SHUTDN&#58;
Close &#35;1 'stop com port
Pin(19) = 0 'disable GPS module
End

KEYACT1&#58;
Close &#35;1 'stop com port
Print@(1,240) "Enter co-ordinates for celestial object"
Print "Right Ascension?"
Input"Hours";A1
Input"Minutes";B1
Input"Seconds";C1
ORA = A1&#42;3600+B1&#42;60+C1 'Object RA seconds
Print "Declination? ";
Input"+ or -";X$ 'north or south of celestial equator
If X$ = "+" Then X = 1
If X$ = "-" Then X = -1
Input"Degrees";A2
Input"Minutes";B2
Input"Seconds";C2
ODE = (A2+B2/60+C2/3600)&#42;X 'Object Declination in degrees
SO = 1 'Allow object info display
GoSub TITLE
Open "Com1&#58;4800,100,HANDL1" As &#35;1 'start com port
GoTo BEGIN

INIT&#58;
For I = 1 To 10 'Clear parameter array strings
Para$(I) = ""
Next I
J = 1 'initial parameter counter
CT = 0 'initial collect trigger
MO = 0 'month
Return

HANDL1&#58;
C$ = Input$(1,&#35;1)
If CT = 1 Then GoTo COLL '1 = Collect Chars.
If C$ = "$" Then CT = 1 ' Collect trigger
GoTo ERT 'exit
COLL&#58;
If C$ = "," Then GoTo NPAR ' inc J for next parameter
If C$ = "&#42;" Then GoTo ESTR 'End of string go check
Para$(J) = Para$(J) + C$
GoTo ERT 'exit
NPAR&#58;
J = J + 1
If J = 11 Then GoTo ESTR 'enough go check Para string
GoTo ERT 'exit
ESTR&#58;
If Para$(1) ="GPRMC" Then GoTo RMC
If Para$(1) ="GPGGA" Then GoTo GGA
If Para$(1) ="GPGSV" Then GoTo GSV
IERT&#58; GoSub INIT 'initial
ERT&#58; IReturn

'Process RMC string - calculate Mean Sidereal Time
'example string..
'$GPRMC,114041.000,A,3750.5790,S,14510.0725,E,0.24,31.06,260814,,&#42;2F
RMC&#58;
If Para$(3)&lt;&gt;"A" Then GoTo IERT 'initial and exit
Print@(1,240)"                                                  "
YR = Val(Right$(Para$(10),2)) 'get date and time
MO = Val(Mid$(Para$(10),3,2))
DY = Val(Left$(Para$(10),2))
HR = Val(Left$(Para$(2),2))
MN = Val(Mid$(Para$(2),3,2))
SE = Val(Mid$(Para$(2),5,2))
'Code to manipulate co-ordinates
If Para$(7) = "E" Then TZA = 1 'Time zone adjust
If Para$(7) = "W" Then TZA = -1
LLG = Val(Left$(Para$(6),3)) + Val(Mid$(Para$(6),4,7))/60
LLG = LLG &#42; TZA 'Local Longitude
ADJL = 86400 &#42; LLG/360 'Seconds adjust for local longitude
If Para$(5) = "N" Then DEC = 1
If Para$(5) = "S" Then DEC = -1
LLT = Val(Left$(Para$(4),2)) + Val(Mid$(Para$(4),3,7))/60
LLT = LLT &#42; DEC 'Local Latitude
'Code to calculate local Solar and Sidereal time
LYR = Int(YR/4) + 1 'leap years
NYR = YR - LYR 'normal years
LORG = NYR&#42;NYL + LYR&#42;LYG 'calc sidsecs lost or gained since 00hr 1 Jan 2000
NREF = LORG + REF 'new reference for 00hr 1 Jan current year
DYS = M(MO) + DY -1 ' add days to date up to 00hrs
If Int(YR/4) = YR/4 And MO&gt;2 Then DYS = DYS + 1 'Allow for Leap day
GMTS = HR&#42;3600 + MN&#42;60 + SE 'Greenwich Mean Time Seconds
T = GMTS + LTZ&#42;3600 'Local Mean Solar Time Seconds
GoSub S2HMS
S$ = Format$(S,"%02.0f")
Print@(1,20)"   Local Solar Time = ";H$;"&#58;";M$;"&#58;";S$
SSEL = GMTS &#42; CF 'Sidsecs elapsed since 00hr today
SSEL = SSEL + ADJL 'adjust for longitude
SSEA = DYS &#42; 236.5554 'sid secs advanced from 00hr Jan 1
T = NREF + SSEA + SSEL 'starting point plus elapsed
GoSub S2HMS
Print@(1,40)"Local Sidereal Time =";H;" Hrs";M;" Mins ";S$;" Secs  "
Print@(1,60);
LLT$ = Format$(Abs(LLT),"%2.3f")
Print"Local Position = ";LLT$;" Deg ";Para$(5);" ";LLG;" Deg ";Para$(7);"  "
Print
If SO = 0 Then GoTo IERT
LRA = H&#42;3600+M&#42;60+S 'local RA secs
OML = ORA-LRA 'object RA minus local RA
T = Abs(OML)
GoSub S2HMS
If OML&gt;0 Then Y$ = "East" Else Y$ = "West"
Print@(1,100)"Object Co-ordinates-"
Print
Print "RA = ";A1;" Hrs";B1;" Mins";C1;" Secs"
Print "DEC = ";A2;" Degs";B2;" Mins";C2;" Secs"
Print@(1,160)"Object is-"
Print
Print H$;" Hrs ";M$;" Mins ";S$;" Secs ";Y$;" of local meridian  "
ANG = ODE-LLT
POM = ODE&#42;LLT 'plus or minus
If ANG &lt; 0 Then Z$ = "South" Else Z$ = "North"
DOA = Abs(ANG) 'Degrees of angle
MOA = (DOA - Int(DOA))&#42;60 'Minutes of angle
SOA = (MOA - Int(MOA))&#42;60 'Seconds of angle
DOA = Int(DOA)
MOA = Int(MOA)
SOA = Cint(SOA&#42;10)/10
Print "On arc )";DOA;" Degs";MOA;" Mins";SOA;" Secs ";Z$;" of zenith"
If ANG &gt;= 90 Or ANG &lt;= -90 Then GoTo OBNR 'object never rises
ELA = 90-Abs(ANG) 'object elevation at local meridian
WAD = 90-Abs(ODE) 'working angle degs
WAR = Rad(WAD) 'radians
LLR = Rad(Abs(LLT)) 'local latitude radians
HYP = Sin(WAR) 'some trigonometry
ADJ = Cos(WAR)
ADJ = ADJ&#42;Tan(LLR)
If ADJ&gt;HYP Then GoTo OBNS 'object never sets
OPP = Sqr(HYP^2-ADJ^2) 'Pythagoras
If ADJ = 0 Then GoTo EQUA 'Dec or Lat = 0 degs.
VAR = Atn(OPP/ADJ) '+/- visible hour angle radians
VAD = Deg(VAR) 'degs.
If POM &gt;= 0 Then VAD = 180-VAD 'angle &gt; 90
GoTo RESULT
OBNR&#58;
Print "Object never rises, not visible from this location."
GoTo REND
OBNS&#58;
Print "Object never sets, always visible in night sky."
GoTo REND
RESULT&#58;
RAS = VAD/15&#42;3600 'RA secs
DIF = Abs(OML)-RAS 'difference in RA secs
If DIF&gt;0 Then GoTo OBNV 'not visible
If OML &gt; 0 Then T = Abs(OML) + RAS Else T = Abs(DIF)
GoSub S2HMS
Print "Visible in night sky, setting in ";H$;" Hrs ";M$;" Mins ";S$;" Secs"
GoTo REND
OBNV&#58;
If OML&gt;0 Then GoTo OYTR 'object yet to rise
Print "Not currently visible, already set.        "
GoTo REND
OYTR&#58;
T = Abs(DIF)
GoSub S2HMS
Print "Not visible, rising in ";H$;" Hrs ";M$;" Mins ";S$;" Secs  "
'Code required for bearing and elevation
REND&#58;
'allow add code before routine end
GoTo IERT

S2HMS&#58;
H = T/3600
M = (H-Int(H))&#42;60
S = (M-Int(M))&#42;60
H = Int(H)
H = (H/24 - Int(H/24)) &#42; 24 'Modulus 24
M = Int(M)
S = Cint(S&#42;10)/10
H$ = Format$(H,"%02.0f")
M$ = Format$(M,"%02.0f")
S$ = Format$(S,"%02.1f")
Return

GSV&#58;
Print@(1,380)"Satilites available ";Para$(4)", "
GoTo IERT

GGA&#58;
Print@(150,380)"Using ";Para$(8);"  "
GoTo IERT


</pre>
    </form>
</body>

<!-- Mirrored from fruitoftheshed.com/MMBasic.Print.aspx?Page=MMBasic.Astrofix-part-of-the-original-MMBasic-library by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Feb 2022 12:12:45 GMT -->
</html>
